{"version":3,"sources":["store/constants.js","store/reducer/index.js","store/actions/index.js","store/epics/login.js","store/epics/product.js","store/epics/vendor.js","store/epics/client.js","store/epics/purchase.js","store/epics/sale.js","store/epics/payment.js","store/epics/recovery.js","store/epics/index.js","store/index.js","components/login/signin.js","components/selects.js","components/login/signup.js","components/header.js","config.js","components/dashboard/product/search.js","components/dashboard/product/product.js","components/dashboard/vendor/search.js","components/dashboard/vendor/vendor.js","components/dashboard/client/search.js","components/dashboard/client/client.js","components/dashboard/purchase/search.js","components/dashboard/popup-vendor.js","components/dashboard/popup-product.js","components/dashboard/purchase/purchase.js","components/dashboard/sale/search.js","components/dashboard/popup-client.js","components/dashboard/sale/sale.js","components/dashboard/payment/search.js","components/dashboard/payment/popup-invoices.js","components/dashboard/payment/payment.js","components/dashboard/recovery/search.js","components/dashboard/recovery/popup-invoices.js","components/dashboard/recovery/recovery.js","components/dashboard.js","components/snackbar.js","App.js","serviceWorker.js","index.js"],"names":["types","ONSNACK","ONDIALOG","ONLOADER","SIGNUP","SIGNUPACCESS","SIGNIN","SIGNINSUCCESS","SIGNINFAILURE","SIGNOUT","SIGNOUTSUCCESS","SIGNOUTFAILURE","ISLOGGEDIN","ISLOGGEDINSUCCESS","ISLOGGEDINFAILURE","PRODUCTSAVE","PRODUCTSAVESUCCESS","PRODUCTSAVEFAILURE","GETPRODUCT","GETPRODUCTSUCCESS","GETPRODUCTFAILURE","UPDATEPRODUCT","UPDATEPRODUCTSUCCESS","UPDATEPRODUCTFAILURE","DELETEPRODUCT","DELETEPRODUCTSUCCESS","DELETEPRODUCTFAILURE","VENDORSAVE","VENDORSAVESUCCESS","VENDORSAVEFAILURE","GETVENDOR","GETVENDORSUCCESS","GETVENDORFAILURE","UPDATEVENDOR","UPDATEVENDORSUCCESS","UPDATEVENDORFAILURE","DELETEVENDOR","DELETEVENDORSUCCESS","DELETEVENDORFAILURE","CLIENTSAVE","CLIENTSAVESUCCESS","CLIENTSAVEFAILURE","GETCLIENT","GETCLIENTSUCCESS","GETCLIENTFAILURE","UPDATECLIENT","UPDATECLIENTSUCCESS","UPDATECLIENTFAILURE","DELETECLIENT","DELETECLIENTSUCCESS","DELETECLIENTFAILURE","PURCHASESAVE","PURCHASESAVESUCCESS","PURCHASESAVEFAILURE","GETPURCHASE","GETPURCHASESUCCESS","GETPURCHASEFAILURE","UPDATEPURCHASE","UPDATEPURCHASESUCCESS","UPDATEPURCHASEFAILURE","DELETEPURCHASE","DELETEPURCHASESUCCESS","DELETEPURCHASEFAILURE","SALESAVE","SALESAVESUCCESS","SALESAVEFAILURE","GETSALE","GETSALESUCCESS","GETSALEFAILURE","UPDATESALE","UPDATESALESUCCESS","UPDATESALEFAILURE","DELETESALE","DELETESALESUCCESS","DELETESALEFAILURE","PAYMENTSAVE","PAYMENTSAVESUCCESS","PAYMENTSAVEFAILURE","GETPAYMENT","GETPAYMENTSUCCESS","GETPAYMENTFAILURE","UPDATEPAYMENT","UPDATEPAYMENTSUCCESS","UPDATEPAYMENTFAILURE","DELETEPAYMENT","DELETEPAYMENTSUCCESS","DELETEPAYMENTFAILURE","RECOVERYSAVE","RECOVERYSAVESUCCESS","RECOVERYSAVEFAILURE","GETRECOVERY","GETRECOVERYSUCCESS","GETRECOVERYFAILURE","UPDATERECOVERY","UPDATERECOVERYSUCCESS","UPDATERECOVERYFAILURE","DELETERECOVERY","DELETERECOVERYSUCCESS","DELETERECOVERYFAILURE","initialState","profile","products","vendors","clients","purchases","sales","payments","recoveries","isLoading","isSnackOpen","snackMessage","isDialogOpen","reducer","state","arguments","length","undefined","action","type","Object","objectSpread","payload","snack","message","actions","onSnackHandler","onDialog","onLoader","signUp","signUpAccess","signIn","signInSuccess","signInFailure","signOut","signOutSuccess","signOutFailure","isLoggedIn","isLoggedInSuccess","isLoggedInFailure","productSave","productSaveSuccess","productSaveFailure","getProduct","getProductSuccess","getProductFailure","updateProduct","updateProductSuccess","updateProductFailure","deleteProduct","deleteProductSuccess","deleteProductFailure","vendorSave","vendorSaveSuccess","vendorSaveFailure","getVendor","getVendorSuccess","getVendorFailure","updateVendor","updateVendorSuccess","updateVendorFailure","deleteVendor","deleteVendorSuccess","deleteVendorFailure","clientSave","clientSaveSuccess","clientSaveFailure","getClient","getClientSuccess","getClientFailure","updateClient","updateClientSuccess","updateClientFailure","deleteClient","deleteClientSuccess","deleteClientFailure","purchaseSave","purchaseSaveSuccess","purchaseSaveFailure","getPurchase","getPurchaseSuccess","getPurchaseFailure","deletePurchase","deletePurchaseSuccess","deletePurchaseFailure","updatePurchase","updatePurchaseSuccess","updatePurchaseFailure","saleSave","saleSaveSuccess","saleSaveFailure","getSale","getSaleSuccess","getSaleFailure","updateSale","updateSaleSuccess","updateSaleFailure","deleteSale","deleteSaleSuccess","deleteSaleFailure","paymentSave","paymentSaveSuccess","paymentSaveFailure","getPayment","getPaymentSuccess","getPaymentFailure","updatePayment","updatePaymentSuccess","updatePaymentFailure","deletePayment","deletePaymentSuccess","deletePaymentFailure","recoverySave","recoverySaveSuccess","recoverySaveFailure","getRecovery","getRecoverySuccess","getRecoveryFailure","updateRecovery","updateRecoverySuccess","updateRecoveryFailure","deleteRecovery","deleteRecoverySuccess","deleteRecoveryFailure","login","action$","ofType","switchMap","_ref","Observable","ajax","url","body","async","method","headers","Content-Type","crossDomain","createXHR","XMLHttpRequest","responseType","res","of","response","catch","err","_ref2","values","every","x","Boolean","withCredentials","doc","product","val","resp","entries","concat","_id","_ref3","vendor","client","checkStock","_store$getState","store","getState","stockSum","forEach","y","productId","quantity","purchase","stock","messages","value","oldProductId","qty","oldQuantity","push","productName","find","join","sale","isFilled","payment","details","recovery","combineEpics","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","epicMiddleware","createEpicMiddleware","createStore","applyMiddleware","run","epics","SignIn","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","ev","_ev$target","target","name","setState","defineProperty","onSignInHandler","_this$state","email","password","props","gotoSignUp","history","_this$state2","react_default","a","createElement","className","index_es","elevation","align","color","variant","gutterBottom","autoFocus","label","onChange","fullWidth","margin","children","size","onClick","Component","connect","dispatch","NativeSelects","labelWidth","ReactDOM","findDOMNode","InputLabelRef","offsetWidth","_this2","_this$props","classes","range","criteria","theLabel","theField","toChange","root","FormControl_default","formControl","InputLabel_default","ref","htmlFor","Select_default","native","input","OutlinedInput_default","id","map","ind","key","React","withStyles","theme","display","flexWrap","marginTop","spacing","unit","marginBottom","minWidth","SignUp","gotoSignIn","onSignUpHandler","confirmPassword","mobile","dob","first","last","gender","maritalStatus","cnic","style","helperText","InputLabelProps","shrink","selects","data","Header","Link","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","aria-haspopup","aria-labelledby","channel","Pusher","cluster","forceTLS","subscribe","Search","renderSearchBlock","getRow","search","toLowerCase","filter","indexOf","row","Delete_default","manufacterer","description","_this$props2","isPopup","validateSearch","onKeyDown","Product","obj","manufacturer","editing","isSearch","onSaveHandler","onBrowseHandler","onClearHandler","keyCode","bind","role","product_search","vendorName","address","telephone","ntn","Vendor","vendor_search","clientName","Client","client_search","getPurchaseFields","onDelete","invoice","date","slice","vendorId","options","getPur","PopupVendor","renderSearchBlockVendor","getVendorFields","validateVendor","vendorList","PopupProduct","renderSearchBlockProduct","getProductFields","inputProducts","handleChangeTab","validateProduct","productList","CustomTableCell","head","backgroundColor","palette","common","black","white","textAlign","padding","fontSize","footer","TableCell","Purchase","getRefNo","Date","getMonth","getDate","_ev$target2","toConsumableArray","calcValue","costPrice","sellingPrice","onAddRow","_this$props$store","checkQty","onRemoveRow","onDeleteRow","splice","i","interval","setInterval","clearInterval","_this3","disabled","popup_vendor","table","popup_product","onBlur","error","parseInt","toLocaleString","fab","reduce","sum","Add_default","purchase_search","width","overflowX","&:nth-of-type(odd)","background","default","getSaleFields","clientId","getSal","PopupClient","renderSearchBlockClient","getClientFields","validateClient","clientList","Sale","isMatched","match","popup_client","sale_CustomTableCell","onFocus","sale_search","getPaymentFields","refNo","getEntry","PopupInvoices","getInvoiceField","allBills","bills","realized","bill","pay","refId","z","acc","cur","detail","validateInvoice","detailList","Payment","componentDidMount","arr","Math","max","apply","balance","count","record","purchaseId","getBalance","amounts","invoiceValue","oldVendorId","validatePayment","oldDetails","balanceCheck","balanceDesc","payment_CustomTableCell","popup_invoices","payment_search","getDerivedStateFromProps","nextProps","prevState","selectControl","getRecoveryFields","Recovery","saleId","oldClient","validateSale","recovery_CustomTableCell","recovery_popup_invoices","recovery_search","routes","path","exact","main","product_product","vendor_vendor","client_client","purchase_purchase","sale_sale","payment_payment","recovery_recovery","Dashboard","header","Route","component","PositionedSnackbar","vertical","horizontal","Snackbar_default","anchorOrigin","open","autoHideDuration","onClose","ContentProps","aria-describedby","App","BrowserRouter","snackbar","location","hostname","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.321ddd1b.chunk.js","sourcesContent":["const types = {\r\n    ONSNACK: 'ONSNACK',\r\n    \r\n    ONDIALOG: 'ONDIALOG',\r\n    \r\n    ONLOADER: 'ONLOADER',\r\n\r\n    SIGNUP: 'SIGNUP',\r\n    SIGNUPACCESS: 'SIGNUPACCESS',\r\n\r\n    SIGNIN: 'SIGNIN',\r\n    SIGNINSUCCESS: 'SIGNINSUCCESS',\r\n    SIGNINFAILURE: 'SIGNINFAILURE',\r\n\r\n    SIGNOUT: 'SIGNOUT',\r\n    SIGNOUTSUCCESS: 'SIGNOUTSUCCESS',\r\n    SIGNOUTFAILURE: 'SIGNOUTFAILURE',\r\n\r\n    ISLOGGEDIN: 'ISLOGGEDIN',\r\n    ISLOGGEDINSUCCESS: 'ISLOGGEDINSUCCESS',\r\n    ISLOGGEDINFAILURE: 'ISLOGGEDINFAILURE',\r\n\r\n    PRODUCTSAVE: 'PRODUCTSAVE',\r\n    PRODUCTSAVESUCCESS: 'PRODUCTSAVESUCCESS',\r\n    PRODUCTSAVEFAILURE: 'PRODUCTSAVEFAILURE',\r\n    \r\n    GETPRODUCT: 'GETPRODUCT',\r\n    GETPRODUCTSUCCESS: 'GETPRODUCTSUCCESS',\r\n    GETPRODUCTFAILURE: 'GETPRODUCTFAILURE',\r\n\r\n    UPDATEPRODUCT: 'UPDATEPRODUCT',\r\n    UPDATEPRODUCTSUCCESS: 'UPDATEPRODUCTSUCCESS',\r\n    UPDATEPRODUCTFAILURE: 'UPDATEPRODUCTFAILURE',\r\n    \r\n    DELETEPRODUCT: 'DELETEPRODUCT',\r\n    DELETEPRODUCTSUCCESS: 'DELETEPRODUCTSUCCESS',\r\n    DELETEPRODUCTFAILURE: 'DELETEPRODUCTFAILURE',\r\n\r\n    VENDORSAVE: 'VENDORSAVE',\r\n    VENDORSAVESUCCESS: 'VENDORSAVESUCCESS',\r\n    VENDORSAVEFAILURE: 'VENDORSAVEFAILURE',\r\n    \r\n    GETVENDOR: 'GETVENDOR',\r\n    GETVENDORSUCCESS: 'GETVENDORSUCCESS',\r\n    GETVENDORFAILURE: 'GETVENDORFAILURE',\r\n\r\n    UPDATEVENDOR: 'UPDATEVENDOR',\r\n    UPDATEVENDORSUCCESS: 'UPDATEVENDORSUCCESS',\r\n    UPDATEVENDORFAILURE: 'UPDATEVENDORFAILURE',\r\n    \r\n    DELETEVENDOR: 'DELETEVENDOR',\r\n    DELETEVENDORSUCCESS: 'DELETEVENDORSUCCESS',\r\n    DELETEVENDORFAILURE: 'DELETEVENDORFAILURE',\r\n\r\n    CLIENTSAVE: 'CLIENTSAVE',\r\n    CLIENTSAVESUCCESS: 'CLIENTSAVESUCCESS',\r\n    CLIENTSAVEFAILURE: 'CLIENTSAVEFAILURE',\r\n    \r\n    GETCLIENT: 'GETCLIENT',\r\n    GETCLIENTSUCCESS: 'GETCLIENTSUCCESS',\r\n    GETCLIENTFAILURE: 'GETCLIENTFAILURE',\r\n\r\n    UPDATECLIENT: 'UPDATECLIENT',\r\n    UPDATECLIENTSUCCESS: 'UPDATECLIENTSUCCESS',\r\n    UPDATECLIENTFAILURE: 'UPDATECLIENTFAILURE',\r\n    \r\n    DELETECLIENT: 'DELETECLIENT',\r\n    DELETECLIENTSUCCESS: 'DELETECLIENTSUCCESS',\r\n    DELETECLIENTFAILURE: 'DELETECLIENTFAILURE',\r\n    \r\n    PURCHASESAVE: 'PURCHASESAVE',\r\n    PURCHASESAVESUCCESS: 'PURCHASESAVESUCCESS',\r\n    PURCHASESAVEFAILURE: 'PURCHASESAVEFAILURE',\r\n    \r\n    GETPURCHASE: 'GETPURCHASE',\r\n    GETPURCHASESUCCESS: 'GETPURCHASESUCCESS',\r\n    GETPURCHASEFAILURE: 'GETPURCHASEFAILURE',\r\n    \r\n    UPDATEPURCHASE: 'UPDATEPURCHASE',\r\n    UPDATEPURCHASESUCCESS: 'UPDATEPURCHASESUCCESS',\r\n    UPDATEPURCHASEFAILURE: 'UPDATEPURCHASEFAILURE',\r\n    \r\n    DELETEPURCHASE: 'DELETEPURCHASE',\r\n    DELETEPURCHASESUCCESS: 'DELETEPURCHASESUCCESS',\r\n    DELETEPURCHASEFAILURE: 'DELETEPURCHASEFAILURE',\r\n    \r\n    SALESAVE: 'SALESAVE',\r\n    SALESAVESUCCESS: 'SALESAVESUCCESS',\r\n    SALESAVEFAILURE: 'SALESAVEFAILURE',\r\n    \r\n    GETSALE: 'GETSALE',\r\n    GETSALESUCCESS: 'GETSALESUCCESS',\r\n    GETSALEFAILURE: 'GETSALEFAILURE',\r\n    \r\n    UPDATESALE: 'UPDATESALE',\r\n    UPDATESALESUCCESS: 'UPDATESALESUCCESS',\r\n    UPDATESALEFAILURE: 'UPDATESALEFAILURE',\r\n    \r\n    DELETESALE: 'DELETESALE',\r\n    DELETESALESUCCESS: 'DELETESALESUCCESS',\r\n    DELETESALEFAILURE: 'DELETESALEFAILURE',\r\n    \r\n    PAYMENTSAVE: 'PAYMENTSAVE',\r\n    PAYMENTSAVESUCCESS: 'PAYMENTSAVESUCCESS',\r\n    PAYMENTSAVEFAILURE: 'PAYMENTSAVEFAILURE',\r\n    \r\n    GETPAYMENT: 'GETPAYMENT',\r\n    GETPAYMENTSUCCESS: 'GETPAYMENTSUCCESS',\r\n    GETPAYMENTFAILURE: 'GETPAYMENTFAILURE',\r\n    \r\n    UPDATEPAYMENT: 'UPDATEPAYMENT',\r\n    UPDATEPAYMENTSUCCESS: 'UPDATEPAYMENTSUCCESS',\r\n    UPDATEPAYMENTFAILURE: 'UPDATEPAYMENTFAILURE',\r\n    \r\n    DELETEPAYMENT: 'DELETEPAYMENT',\r\n    DELETEPAYMENTSUCCESS: 'DELETEPAYMENTSUCCESS',\r\n    DELETEPAYMENTFAILURE: 'DELETEPAYMENTFAILURE',\r\n    \r\n    RECOVERYSAVE: 'RECOVERYSAVE',\r\n    RECOVERYSAVESUCCESS: 'RECOVERYSAVESUCCESS',\r\n    RECOVERYSAVEFAILURE: 'RECOVERYSAVEFAILURE',\r\n    \r\n    GETRECOVERY: 'GETRECOVERY',\r\n    GETRECOVERYSUCCESS: 'GETRECOVERYSUCCESS',\r\n    GETRECOVERYFAILURE: 'GETRECOVERYFAILURE',\r\n    \r\n    UPDATERECOVERY: 'UPDATERECOVERY',\r\n    UPDATERECOVERYSUCCESS: 'UPDATERECOVERYSUCCESS',\r\n    UPDATERECOVERYFAILURE: 'UPDATERECOVERYFAILURE',\r\n    \r\n    DELETERECOVERY: 'DELETERECOVERY',\r\n    DELETERECOVERYSUCCESS: 'DELETERECOVERYSUCCESS',\r\n    DELETERECOVERYFAILURE: 'DELETERECOVERYFAILURE',\r\n};\r\n\r\nexport default types;","import types from '../constants';\r\n\r\nconst initialState = {\r\n\tprofile: {},\r\n\tproducts: [],\r\n\tvendors: [],\r\n\tclients: [],\r\n\tpurchases: [],\r\n\tsales: [],\r\n\tpayments: [],\r\n\trecoveries: [],\r\n\r\n\tisLoading: false,\r\n\r\n\tisSnackOpen: false,\r\n\tsnackMessage: '',\r\n\r\n\tisDialogOpen: false\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.ONSNACK: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: action.payload.snack,\r\n\t\t\t\tsnackMessage: action.payload.message\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ONDIALOG: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisDialogOpen: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ONLOADER: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.SIGNOUT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.SIGNOUTSUCCESS:\r\n\t\tcase types.SIGNOUTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisDialogOpen: false,\r\n\t\t\t\tprofile: {},\r\n\t\t\t\tproducts: [],\r\n\t\t\t\tvendors: [],\r\n\t\t\t\tclients: []\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ISLOGGEDIN: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ISLOGGEDINSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tprofile: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ISLOGGEDINFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.PRODUCTSAVESUCCESS:\r\n\t\tcase types.PRODUCTSAVEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPRODUCTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproducts: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPRODUCTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEPRODUCTSUCCESS:\r\n\t\tcase types.UPDATEPRODUCTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.DELETEPRODUCTSUCCESS:\r\n\t\tcase types.DELETEPRODUCTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.VENDORSAVESUCCESS:\r\n\t\tcase types.VENDORSAVEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETVENDORSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tvendors: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETVENDORFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEVENDORSUCCESS:\r\n\t\tcase types.UPDATEVENDORFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.DELETEVENDORSUCCESS:\r\n\t\tcase types.DELETEVENDORFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.CLIENTSAVESUCCESS:\r\n\t\tcase types.CLIENTSAVEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETCLIENTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tclients: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETCLIENTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATECLIENTSUCCESS:\r\n\t\tcase types.UPDATECLIENTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.DELETECLIENTSUCCESS:\r\n\t\tcase types.DELETECLIENTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.PURCHASESAVESUCCESS:\r\n\t\tcase types.PURCHASESAVEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPURCHASESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpurchases: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPURCHASEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEPURCHASESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEPURCHASEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.DELETEPURCHASESUCCESS:\r\n\t\tcase types.DELETEPURCHASEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.SALESAVESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.SALESAVEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETSALESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsales: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETSALEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATESALESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATESALEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.DELETESALESUCCESS:\r\n\t\tcase types.DELETESALEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.PAYMENTSAVESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.PAYMENTSAVEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPAYMENTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpayments: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPAYMENTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEPAYMENTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEPAYMENTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.DELETEPAYMENTSUCCESS:\r\n\t\tcase types.DELETEPAYMENTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.RECOVERYSAVESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.RECOVERYSAVEFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETRECOVERYSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trecoveries: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETRECOVERYFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATERECOVERYSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATERECOVERYFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.DELETERECOVERYSUCCESS:\r\n\t\tcase types.DELETERECOVERYFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","import types from '../constants';\r\n\r\nconst actions = {\r\n\tonSnackHandler: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ONSNACK,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tonDialog: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ONDIALOG,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tonLoader: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ONLOADER,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignUp: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNUP,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignUpAccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNUPACCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignIn: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNIN,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignInSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNINSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignInFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNINFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignOut: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNOUT\r\n\t\t};\r\n\t},\r\n\tsignOutSuccess: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNOUTSUCCESS\r\n\t\t};\r\n\t},\r\n\tsignOutFailure: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNOUTSUCCESS\r\n\t\t};\r\n\t},\r\n\tisLoggedIn: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.ISLOGGEDIN\r\n\t\t};\r\n\t},\r\n\tisLoggedInSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ISLOGGEDINSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tisLoggedInFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ISLOGGEDINFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tproductSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PRODUCTSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tproductSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PRODUCTSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tproductSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PRODUCTSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetProduct: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPRODUCT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetProductSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPRODUCTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetProductFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPRODUCTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateProduct: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPRODUCT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateProductSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPRODUCTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateProductFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPRODUCTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteProduct: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPRODUCT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteProductSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPRODUCTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteProductFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPRODUCTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tvendorSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.VENDORSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tvendorSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.VENDORSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tvendorSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.VENDORSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetVendor: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETVENDOR,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetVendorSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETVENDORSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetVendorFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETVENDORFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateVendor: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEVENDOR,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateVendorSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEVENDORSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateVendorFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEVENDORFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteVendor: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEVENDOR,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteVendorSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEVENDORSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteVendorFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEVENDORFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tclientSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.CLIENTSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tclientSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.CLIENTSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tclientSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.CLIENTSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetClient: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETCLIENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetClientSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETCLIENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetClientFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETCLIENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateClient: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATECLIENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateClientSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATECLIENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateClientFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATECLIENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteClient: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETECLIENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteClientSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETECLIENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteClientFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETECLIENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpurchaseSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PURCHASESAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpurchaseSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PURCHASESAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpurchaseSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PURCHASESAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPurchase: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPURCHASE\r\n\t\t};\r\n\t},\r\n\tgetPurchaseSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPURCHASESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPurchaseFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPURCHASEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePurchase: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPURCHASE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePurchaseSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPURCHASESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePurchaseFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPURCHASEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePurchase: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPURCHASE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePurchaseSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPURCHASESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePurchaseFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPURCHASEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsaleSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SALESAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsaleSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SALESAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsaleSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SALESAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetSale: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETSALE\r\n\t\t};\r\n\t},\r\n\tgetSaleSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETSALESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetSaleFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETSALEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateSale: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATESALE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateSaleSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATESALESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateSaleFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATESALEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteSale: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETESALE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteSaleSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETESALESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteSaleFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETESALEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpaymentSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PAYMENTSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpaymentSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PAYMENTSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpaymentSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PAYMENTSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPayment: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPAYMENT\r\n\t\t};\r\n\t},\r\n\tgetPaymentSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPAYMENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPaymentFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPAYMENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePayment: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPAYMENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePaymentSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPAYMENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePaymentFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPAYMENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePayment: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPAYMENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePaymentSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPAYMENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePaymentFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPAYMENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\trecoverySave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.RECOVERYSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\trecoverySaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.RECOVERYSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\trecoverySaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.RECOVERYSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetRecovery: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETRECOVERY\r\n\t\t};\r\n\t},\r\n\tgetRecoverySuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETRECOVERYSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetRecoveryFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETRECOVERYFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateRecovery: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATERECOVERY,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateRecoverySuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATERECOVERYSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateRecoveryFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATERECOVERYFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteRecovery: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETERECOVERY,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteRecoverySuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETERECOVERYSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteRecoveryFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETERECOVERYFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t}\r\n};\r\n\r\nexport default actions;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\n\r\nconst login = {\r\n\tsignUp: (action$) =>\r\n\t\taction$.ofType(types.SIGNUP).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/user/signup',\r\n\t\t\t\tbody: payload,\r\n\t\t\t\tasync: true,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((res) => {\r\n\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\tactions.onLoader(true),\r\n\t\t\t\t\t\tactions.onLoader(false),\r\n\t\t\t\t\t\tactions.signUpAccess(),\r\n\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: res.response })\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\tactions.signUpAccess(),\r\n\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t}),\r\n\tsignIn: (action$) =>\r\n\t\taction$.ofType(types.SIGNIN).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((x) => Boolean(x));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/user/signin',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((res) => {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.signInSuccess(),\r\n\t\t\t\t\t\t\tactions.isLoggedIn(),\r\n\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: res.response })\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.signInFailure(),\r\n\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(\r\n\t\t\t\tactions.signInFailure(),\r\n\t\t\t\tactions.onSnackHandler({ snack: true, message: 'Please Enter Email & Password, in order to login' })\r\n\t\t\t);\r\n\t\t}),\r\n\tsignOut: (action$) =>\r\n\t\taction$.ofType(types.SIGNOUT).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/user/logout',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((res) => {\r\n\t\t\t\t\tif (res.response)\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.signOutSuccess(),\r\n\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: res.response })\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\tactions.signOutFailure(),\r\n\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: 'Something went wrong' })\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response)\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.signOutFailure(),\r\n\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\treturn Observable.of(actions.signOutFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t}),\r\n\tisLoggedIn: (action$) =>\r\n\t\taction$.ofType(types.ISLOGGEDIN).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/user',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((res) => {\r\n\t\t\t\t\tif (res.response.doc) return Observable.of(actions.isLoggedInSuccess(res.response.doc));\r\n\t\t\t\t\treturn Observable.of(actions.isLoggedInFailure('Token Expired'));\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response) return Observable.of(actions.isLoggedInFailure(err.response));\r\n\t\t\t\t\treturn Observable.of(actions.isLoggedInFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default login;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\n\r\nconst product = {\r\n\tproductSave: (action$) =>\r\n\t\taction$.ofType(types.PRODUCTSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/product',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.productSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.productSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) return Observable.of(actions.productSaveFailure(err.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.productSaveFailure('Network Error'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.productSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetProduct: (action$) =>\r\n\t\taction$.ofType(types.GETPRODUCT).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/product',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.products.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getProductSuccess(resp.response.products));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.getProductSuccess([])\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response) return Observable.of(actions.getProductFailure(err.response));\r\n\t\t\t\t\treturn Observable.of(actions.getProductFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t}),\r\n\tupdateProduct: (action$) =>\r\n\t\taction$.ofType(types.UPDATEPRODUCT).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).entries((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/product/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response) return Observable.of(actions.updateProductSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.updateProductFailure('Something went Wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\treturn Observable.of(actions.updateProductFailure('Network Failure'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.updateProductFailure('All fields are required'));\r\n\t\t}),\r\n\tdeleteProduct: (action$) =>\r\n\t\taction$.ofType(types.DELETEPRODUCT).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/product/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\treturn Observable.of(actions.deleteProductSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.deleteProductFailure('Something went Wrong'));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\treturn Observable.of(actions.deleteProductFailure('Network Failure'));\r\n\t\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default product;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\n\r\nconst vendor = {\r\n\tvendorSave: (action$) =>\r\n\t\taction$.ofType(types.VENDORSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/vendor',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.vendorSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.vendorSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) return Observable.of(actions.vendorSaveFailure(err.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.vendorSaveFailure('Network Error'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.vendorSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetVendor: (action$) =>\r\n\t\taction$.ofType(types.GETVENDOR).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/vendor',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.vendors.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getVendorSuccess(resp.response.vendors));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.getVendorSuccess([])\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response) return Observable.of(actions.getVendorFailure(err.response));\r\n\t\t\t\t\treturn Observable.of(actions.getVendorFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t}),\r\n\tupdateVendor: (action$) =>\r\n\t\taction$.ofType(types.UPDATEVENDOR).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).entries((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/vendor/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response) return Observable.of(actions.updateVendorSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.updateVendorFailure('Something went Wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\treturn Observable.of(actions.updateVendorFailure('Network Failure'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.updateVendorFailure('All fields are required'));\r\n\t\t}),\r\n\tdeleteVendor: (action$) =>\r\n\t\taction$.ofType(types.DELETEVENDOR).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/vendor/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\treturn Observable.of(actions.deleteVendorSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.deleteVendorFailure('Something went Wrong'));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\treturn Observable.of(actions.deleteVendorFailure('Network Failure'));\r\n\t\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default vendor;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\n\r\nconst client = {\r\n\tclientSave: (action$) =>\r\n\t\taction$.ofType(types.CLIENTSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/client',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.clientSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.clientSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) return Observable.of(actions.clientSaveFailure(err.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.clientSaveFailure('Network Error'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.clientSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetClient: (action$) =>\r\n\t\taction$.ofType(types.GETCLIENT).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/client',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.clients.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getClientSuccess(resp.response.clients));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.getClientSuccess([])\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response) return Observable.of(actions.getClientFailure(err.response));\r\n\t\t\t\t\treturn Observable.of(actions.getClientFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t}),\r\n\tupdateClient: (action$) =>\r\n\t\taction$.ofType(types.UPDATECLIENT).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).entries((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/client/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updateClientSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.updateClientFailure('Something went Wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\treturn Observable.of(actions.updateClientFailure('Network Failure'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.updateClientFailure('All fields are required'));\r\n\t\t}),\r\n\tdeleteClient: (action$) =>\r\n\t\taction$.ofType(types.DELETECLIENT).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/client/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\treturn Observable.of(actions.deleteClientSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.deleteClientFailure('Something went Wrong'));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\treturn Observable.of(actions.deleteClientFailure('Network Failure'));\r\n\t\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default client;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\n\r\nconst checkStock = () => {\r\n\tconst { purchases, sales, products } = store.getState();\r\n\tconst stockSum = {};\r\n\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\treturn stockSum;\r\n};\r\n\r\nconst purchase = {\r\n\tpurchaseSave: (action$) =>\r\n\t\taction$.ofType(types.PURCHASESAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/purchase',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.purchaseSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.purchaseSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) return Observable.of(actions.purchaseSaveFailure(err.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.purchaseSaveFailure('Network Error'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.purchaseSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetPurchase: (action$) =>\r\n\t\taction$.ofType(types.GETPURCHASE).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/purchase',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getPurchaseSuccess(resp.response));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.getPurchaseSuccess([])\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response) return Observable.of(actions.getPurchaseFailure(err.response));\r\n\t\t\t\t\treturn Observable.of(actions.getPurchaseFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t}),\r\n\tupdatePurchase: (action$) =>\r\n\t\taction$.ofType(types.UPDATEPURCHASE).switchMap(({ payload }) => {\r\n\t\t\tconst stock = checkStock();\r\n\t\t\tconst messages = [];\r\n\t\t\tpayload.products.forEach((value) => {\r\n\t\t\t\tif (value.oldProductId) {\r\n\t\t\t\t\tif (value.oldProductId === value.productId) {\r\n\t\t\t\t\t\tconst qty = +stock[value.oldProductId] - +value.oldQuantity + +value.quantity;\r\n\t\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\t\tmessages.push(`if Block: ${value.productName} will be negative by ${qty}`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst qty = +stock[value.oldProductId] - +value.oldQuantity;\r\n\t\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\t\tmessages.push(`else Block: ${value.productName} will be negative by ${qty}`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (messages.length) return Observable.of(actions.updatePurchaseFailure('Please rectify errors'));\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/purchase/${payload._id}`,\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: payload,\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updatePurchaseSuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.updatePurchaseFailure('something wrong'));\r\n\t\t\t});\r\n\t\t}),\r\n\tdeletePurchase: (action$) =>\r\n\t\taction$.ofType(types.DELETEPURCHASE).switchMap(({ payload }) => {\r\n\t\t\tconst stock = checkStock();\r\n\t\t\tconst { products } = store.getState().purchases.find((x) => x._id === payload);\r\n\t\t\tconst messages = [];\r\n\t\t\tproducts.forEach((value) => {\r\n\t\t\t\tconst qty = +stock[value.productId._id] - +value.quantity;\r\n\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t`${value.productId.productName} will be negative by ${stock[value.productId._id] -\r\n\t\t\t\t\t\t\tvalue.quantity}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (messages.length) return Observable.of(actions.deletePurchaseFailure(messages.join(', ')));\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/purchase/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\treturn Observable.of(actions.deletePurchaseSuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.deletePurchaseFailure('something wrong'));\r\n\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default purchase;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\n\r\nconst checkStock = () => {\r\n\tconst { purchases, sales, products } = store.getState();\r\n\tconst stockSum = {};\r\n\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\treturn stockSum;\r\n};\r\n\r\nconst sale = {\r\n\tsaleSave: (action$) =>\r\n\t\taction$.ofType(types.SALESAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.products.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y) || y === false));\r\n\t\t\t});\r\n\t\t\tObject.values(payload).forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y)));\r\n\t\t\t});\r\n\t\t\tconst messages = [];\r\n\t\t\tconst stock = checkStock();\r\n\t\t\tpayload.products.forEach((value) => {\r\n\t\t\t\tif (stock[value.productId] < value.quantity) {\r\n\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t`${value.productName} will be negative by ${stock[value.productId] - value.quantity}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (messages.length) return Observable.of(actions.saleSaveFailure('Please resolve errors'));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/sale',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.saleSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.saleSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (typeof err.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.saleSaveFailure(err.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.saleSaveFailure('Network Error'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.saleSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetSale: (action$) =>\r\n\t\taction$.ofType(types.GETSALE).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/sale',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getSaleSuccess(resp.response));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(actions.getSaleSuccess([]));\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (typeof err.response === 'string') return Observable.of(actions.getSaleFailure(err.response));\r\n\t\t\t\t\treturn Observable.of(actions.getSaleFailure('Something went wrong'));\r\n\t\t\t\t});\r\n\t\t}),\r\n\tupdateSale: (action$) =>\r\n\t\taction$.ofType(types.UPDATESALE).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.products.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y) || y === false));\r\n\t\t\t});\r\n\t\t\tObject.values(payload).forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y)));\r\n\t\t\t});\r\n\t\t\tconst messages = [];\r\n\t\t\tconst stock = checkStock();\r\n\t\t\tpayload.products.forEach((value) => {\r\n\t\t\t\tif (value.oldProductId === value.productId) {\r\n\t\t\t\t\tconst qty = stock[value.oldProductId] + value.oldQuantity - value.quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t\t`${value.productName} will be negative by ${stock[value.productId] - value.quantity}`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst qty = stock[value.productId] - value.quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t\t`${value.productName} will be negative by ${stock[value.productId] - value.quantity}`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (messages.length) return Observable.of(actions.updateSaleFailure('Please resolve errors'));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/sale/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updateSaleSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.updateSaleFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (typeof err.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.updateSaleFailure(err.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.updateSaleFailure('Something went wrong'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.updateSaleFailure('All fields are required'));\r\n\t\t}),\r\n\tdeleteSale: (action$) =>\r\n\t\taction$.ofType(types.DELETESALE).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/sale/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string') return Observable.of(actions.deleteSaleSuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.deleteSaleFailure('something wrong'));\r\n\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default sale;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\n\r\nconst payment = {\r\n\tpaymentSave: (action$) =>\r\n\t\taction$.ofType(types.PAYMENTSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t});\r\n\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/payment',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.paymentSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.paymentSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (typeof err.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.paymentSaveFailure(err.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.paymentSaveFailure('Network Error'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.paymentSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetPayment: (action$) =>\r\n\t\taction$.ofType(types.GETPAYMENT).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/payment',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.length) return Observable.of(actions.getPaymentSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.getPaymentSuccess([]));\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response) return Observable.of(actions.getPaymentFailure(err.response));\r\n\t\t\t\t\treturn Observable.of(actions.getPaymentFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t}),\r\n\tupdatePayment: (action$) =>\r\n\t\taction$.ofType(types.UPDATEPAYMENT).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t});\r\n\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/payment/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t}).switchMap((resp) => {\r\n\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updatePaymentSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.updatePaymentFailure('something wrong'));\r\n\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.updatePaymentFailure('All Fields are Required'));\r\n\t\t}),\r\n\tdeletePayment: (action$) =>\r\n\t\taction$.ofType(types.DELETEPAYMENT).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/payment/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.deletePaymentSuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.deletePaymentFailure('something wrong'));\r\n\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default payment;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\n\r\nconst recovery = {\r\n\trecoverySave: (action$) =>\r\n\t\taction$.ofType(types.RECOVERYSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t});\r\n\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/recovery',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.recoverySaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.recoverySaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (typeof err.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.recoverySaveFailure(err.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.recoverySaveFailure('Network Error'));\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.recoverySaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetRecovery: (action$) =>\r\n\t\taction$.ofType(types.GETRECOVERY).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/recovery',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.length) return Observable.of(actions.getRecoverySuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.getRecoverySuccess([]));\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response) return Observable.of(actions.getRecoveryFailure(err.response));\r\n\t\t\t\t\treturn Observable.of(actions.getRecoveryFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t}),\r\n\tupdateRecovery: (action$) =>\r\n\t\taction$.ofType(types.UPDATERECOVERY).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t});\r\n\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/recovery/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t}).switchMap((resp) => {\r\n\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updateRecoverySuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.updateRecoveryFailure('something wrong'));\r\n\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.updateRecoveryFailure('All Fields are Required'));\r\n\t\t}),\r\n\tdeleteRecovery: (action$) =>\r\n\t\taction$.ofType(types.DELETERECOVERY).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/recovery/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.deleteRecoverySuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.deleteRecoveryFailure('something wrong'));\r\n\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default recovery;\r\n","import { combineEpics } from 'redux-observable';\r\n\r\nimport login from './login';\r\nimport product from './product';\r\nimport vendor from './vendor';\r\nimport client from './client';\r\nimport purchase from './purchase';\r\nimport sale from './sale';\r\nimport payment from './payment';\r\nimport recovery from './recovery';\r\n\r\nexport default combineEpics(\r\n    login.signUp,\r\n    login.signIn,\r\n    login.signOut,\r\n    login.isLoggedIn,\r\n\r\n    product.productSave,\r\n    product.getProduct,\r\n    product.updateProduct,\r\n    product.deleteProduct,\r\n\r\n    vendor.vendorSave,\r\n    vendor.getVendor,\r\n    vendor.updateVendor,\r\n    vendor.deleteVendor,\r\n\r\n    client.clientSave,\r\n    client.getClient,\r\n    client.updateClient,\r\n    client.deleteClient,\r\n\r\n    purchase.purchaseSave,\r\n    purchase.getPurchase,\r\n    purchase.updatePurchase,\r\n    purchase.deletePurchase,\r\n\r\n    sale.saleSave,\r\n    sale.getSale,\r\n    sale.updateSale,\r\n    sale.deleteSale,\r\n\r\n    payment.paymentSave,\r\n    payment.getPayment,\r\n    payment.updatePayment,\r\n    payment.deletePayment,\r\n\r\n    recovery.recoverySave,\r\n    recovery.getRecovery,\r\n    recovery.updateRecovery,\r\n    recovery.deleteRecovery\r\n);","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { createEpicMiddleware } from 'redux-observable';\r\n\r\nimport reducer from './reducer';\r\nimport epics from './epics';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst epicMiddleware = createEpicMiddleware();\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    composeEnhancers(\r\n        applyMiddleware(epicMiddleware)\r\n    )\r\n);\r\n\r\nepicMiddleware.run(epics)\r\n\r\n// store.subscribe(() => console.log(store.getState()));\r\n\r\nexport default store;","import React, { Component } from 'react';\r\nimport {\r\n    Paper, Typography, TextField,\r\n    Button\r\n} from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../../store/actions';\r\nimport '../../App.css';\r\n\r\nclass SignIn extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: 'shahan@domain.com',\r\n            password: '123abc456',\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.store.profile.email) return this.props.history.push('/dashboard');\r\n        return this.props.history.push('/');\r\n    }\r\n    handleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    onSignInHandler = () => {\r\n        const { email, password } = this.state;\r\n        this.props.signIn({ email, password });\r\n    }\r\n    gotoSignUp = () => {\r\n        this.props.history.push('/signup');\r\n    }\r\n    render() {\r\n        const { email, password } = this.state;\r\n        return (\r\n            <div className='paper-style'>\r\n                <Paper\r\n                    elevation={4}\r\n                    className='inner-paper-styling'\r\n                >\r\n                    <Typography\r\n                        align='center'\r\n                        color='primary'\r\n                        variant='h5'\r\n                        gutterBottom={true}\r\n                    >\r\n                        <span className='outline-it'>Login Portal</span>\r\n                    </Typography>\r\n                    <Typography\r\n                        align='center'\r\n                        color='textSecondary'\r\n                        variant='h6'\r\n                    >\r\n                        Sign In\r\n                    </Typography>\r\n                    <TextField\r\n                        autoFocus\r\n                        type='text'\r\n                        name='email' value={email}\r\n                        label='Email'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='password'\r\n                        name='password' value={password}\r\n                        label='Password'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <Button\r\n                        variant='contained'\r\n                        fullWidth={true}\r\n                        children='Sign In'\r\n                        color='primary'\r\n                        size='large'\r\n                        onClick={this.onSignInHandler}\r\n                    /><hr />\r\n                    <div className='ask-signup'>\r\n                        <Typography\r\n                            align='center'\r\n                            children=\"Don't have an Account ? \"\r\n                            color='textSecondary'\r\n                        />\r\n                        <Button\r\n                            variant='outlined'\r\n                            children='Create Account Now'\r\n                            color='secondary'\r\n                            size='medium'\r\n                            onClick={this.gotoSignUp}\r\n                        />\r\n                    </div>\r\n                </Paper>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        signIn: (email, password) => dispatch(actions.signIn(email, password)),\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    formControl: {\r\n        marginTop: theme.spacing.unit * 0.50,\r\n        marginBottom: theme.spacing.unit * 0.50,\r\n        minWidth: '100%',\r\n    },\r\n});\r\n\r\nclass NativeSelects extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: props.value,\r\n            labelWidth: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            labelWidth: ReactDOM.findDOMNode(this.InputLabelRef).offsetWidth,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { classes, range, criteria, theLabel, theField, toChange } = this.props;\r\n        return (\r\n            <div className={classes.root}>\r\n                <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                    <InputLabel\r\n                        ref={ref => {\r\n                            this.InputLabelRef = ref;\r\n                        }}\r\n                        htmlFor=\"values-for-select-list\"\r\n                    >\r\n                        {theLabel}\r\n                    </InputLabel>\r\n                    <Select\r\n                        native\r\n                        value={theField}\r\n                        onChange={toChange}\r\n                        input={\r\n                            <OutlinedInput\r\n                                name={criteria}\r\n                                labelWidth={this.state.labelWidth}\r\n                                id=\"values-for-select-list\"\r\n                            />\r\n                        }\r\n                    >\r\n                        <option value=\"\" />\r\n                        {range.map((val, ind) => {\r\n                            return (\r\n                                <option key={ind} value={val}>{val}</option>\r\n                            );\r\n                        })}\r\n                    </Select>\r\n                </FormControl>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nNativeSelects.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(NativeSelects);","import React, { Component } from 'react';\r\nimport {\r\n    Paper, Typography, TextField,\r\n    Button\r\n} from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../../store/actions';\r\nimport NativeSelects from '../selects';\r\nimport '../../App.css';\r\n\r\nclass SignUp extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: 'shahan@domain.com',\r\n            password: '123abc456',\r\n            confirmPassword: '123abc456',\r\n            mobile: '0336-2122588',\r\n            dob: '1986-01-29',\r\n            first: 'Shahan',\r\n            last: 'Ahmed Khan',\r\n            gender: 'Male',\r\n            maritalStatus: 'Married',\r\n            cnic: '42301-8964999-9',\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.store.profile.email) return this.props.history.push('/dashboard');\r\n    }\r\n    handleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    gotoSignIn = () => {\r\n        this.props.history.push('/');\r\n    }\r\n    onSignUpHandler = () => {\r\n        const isFilled = Object.values(this.state).every(x => Boolean(x) === true);\r\n        if (isFilled) return this.props.signUp(this.state);\r\n        return this.props.onSnackHandler(true, 'All Fields are required');\r\n    }\r\n    render() {\r\n        const {\r\n            email, password,\r\n            confirmPassword, mobile, dob, first, last, gender, cnic, maritalStatus\r\n        } = this.state;\r\n        return (\r\n            <div className='paper-style'>\r\n                <Paper\r\n                    elevation={4}\r\n                    className='inner-paper-styling'\r\n                >\r\n                    <Typography\r\n                        align='center'\r\n                        color='primary'\r\n                        variant='h5'\r\n                        gutterBottom={true}\r\n                    >\r\n                        <span className='outline-it'>Login Portal</span>\r\n                    </Typography>\r\n                    <Typography\r\n                        align='center'\r\n                        color='textSecondary'\r\n                        variant='h6'\r\n                    >\r\n                        Sign Up Form\r\n                    </Typography>\r\n                    <TextField\r\n                        autoFocus\r\n                        type='text'\r\n                        name='email' value={email}\r\n                        label='Email'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='password'\r\n                        name='password' value={password}\r\n                        label='Password'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='password'\r\n                        name='confirmPassword' value={confirmPassword}\r\n                        label='Confirm Password'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='mobile' value={mobile}\r\n                        label='Mobile No.'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                        style={{ marginBottom: 15 }}\r\n                        helperText={'example: 0300-1234567'}\r\n                    />\r\n                    <TextField\r\n                        type='date'\r\n                        name='dob' value={dob}\r\n                        label='Date of Birth'\r\n                        InputLabelProps={{ shrink: true }}\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='first' value={first}\r\n                        label='First Name'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='last' value={last}\r\n                        label='Last Name'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <NativeSelects\r\n                        range={['Male', 'Female']}\r\n                        theLabel='Gender'\r\n                        criteria='gender'\r\n                        theField={gender}\r\n                        toChange={this.handleChange}\r\n                    />\r\n                    <NativeSelects\r\n                        range={['Married', 'Single']}\r\n                        theLabel='Marital Status'\r\n                        criteria='maritalStatus'\r\n                        theField={maritalStatus}\r\n                        toChange={this.handleChange}\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='cnic' value={cnic}\r\n                        label='CNIC'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                        style={{ marginBottom: 15 }}\r\n                        helperText={'example: 12345-1234567-8'}\r\n                    />\r\n                    <Button\r\n                        variant='contained'\r\n                        fullWidth={true}\r\n                        children='Sign Up'\r\n                        color='primary'\r\n                        size='large'\r\n                        onClick={this.onSignUpHandler}\r\n                    /><hr />\r\n                    <div className='ask-signup'>\r\n                        <Typography\r\n                            align='center'\r\n                            children=\"Already have an Account ? \"\r\n                            color='textSecondary'\r\n                        />\r\n                        <Button\r\n                            variant='outlined'\r\n                            children='Sign In Now'\r\n                            color='secondary'\r\n                            size='medium'\r\n                            onClick={this.gotoSignIn}\r\n                        />\r\n                    </div>\r\n                </Paper>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        signUp: data => dispatch(actions.signUp(data)),\r\n        onSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../store/actions';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n          <Link\r\n            to='/dashboard'\r\n            className=\"navbar-brand\"\r\n            children='Dashboard'\r\n          />\r\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarsExample09\" aria-controls=\"navbarsExample09\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarsExample09\">\r\n            <ul className=\"navbar-nav mr-auto\">\r\n              <li className=\"nav-item dropdown\">\r\n                <Link\r\n                  to='/dashboard'\r\n                  children='Main'\r\n                  id=\"dropdown09\"\r\n                  className=\"nav-link active dropdown-toggle\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                />\r\n                <div className=\"dropdown-menu\" aria-labelledby=\"dropdown09\">\r\n                  <Link\r\n                    to='/dashboard/product'\r\n                    children='Product'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/vendor'\r\n                    children='Vendor'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/client'\r\n                    children='Client'\r\n                    className='dropdown-item'\r\n                  />\r\n                </div>\r\n              </li>\r\n              <li className=\"nav-item dropdown\">\r\n                <Link\r\n                  to='/dashboard'\r\n                  children='Transaction'\r\n                  id=\"dropdown09\"\r\n                  className=\"nav-link active dropdown-toggle\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                />\r\n                <div className=\"dropdown-menu\" aria-labelledby=\"dropdown09\">\r\n                  <Link\r\n                    to='/dashboard/purchase'\r\n                    children='Purchase Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/sale'\r\n                    children='Sale Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/payment'\r\n                    children='Payment Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/recovery'\r\n                    children='Recovery Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                </div>\r\n              </li>\r\n            </ul>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-primary my-2 my-sm-0\"\r\n              onClick={() => this.props.signOut()}\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signOut: () => dispatch(actions.signOut())\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Header);","import Pusher from 'pusher-js';\r\n\r\nconst pusher = new Pusher('f9126fc42e7cc112a924', {\r\n    cluster: 'ap2',\r\n    forceTLS: true\r\n});\r\nconst channel = pusher.subscribe('inventory');\r\n\r\nexport default channel;","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: '',\r\n\t\t};\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getRow, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst products = store.products.filter((val) => val.productName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{products.length ? (\r\n\t\t\t\t\tproducts.map((row, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Edit\" onClick={() => getRow(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.deleteClient(row._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Product: {row.productName}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Manufacturer: {row.manufacterer}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Description: {row.description}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { search } = this.state;\r\n\t\tconst { isPopup, validateSearch } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Client Name...\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{isPopup && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tdeleteProduct: (id) => dispatch(actions.deleteProduct(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Product extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tproductName: '',\r\n\t\t\tmanufacturer: '',\r\n\t\t\tdescription: '',\r\n\t\t\tediting: false,\r\n\t\t\tisPopup: false,\r\n\t\t\tisSearch: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('inventory', 'products', () => {\r\n\t\t\tthis.props.getProduct();\r\n\t\t});\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\tgetRow = (id) => {\r\n\t\tconst obj = this.props.store.products.find((val) => val._id === id);\r\n\t\tconst { _id, productName, manufacturer, description } = obj;\r\n\t\tthis.setState({\r\n\t\t\t_id,\r\n\t\t\tproductName,\r\n\t\t\tmanufacturer,\r\n\t\t\tdescription,\r\n\t\t\tediting: true,\r\n\t\t\tisPopup: false,\r\n\t\t\tisSearch: false\r\n\t\t});\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, productName, manufacturer, description, editing } = this.state;\r\n\t\tif (!editing) return this.props.productSave({ productName, manufacturer, description });\r\n\t\treturn this.props.updateProduct({ _id, productName, manufacturer, description });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tisSearch: !state.isSearch\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tproductName: '',\r\n\t\t\tmanufacturer: '',\r\n\t\t\tdescription: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ isPopup: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ isPopup: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { productName, manufacturer, description } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"the-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Product Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Product Name\"\r\n\t\t\t\t\t\tname=\"productName\"\r\n\t\t\t\t\t\tvalue={productName}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Manufacturer\"\r\n\t\t\t\t\t\tname=\"manufacturer\"\r\n\t\t\t\t\t\tvalue={manufacturer}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={this.state.editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.isSearch && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tgetRow={this.getRow}\r\n\t\t\t\t\t\t\tisPopup={this.state.isPopup}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tproductSave: (data) => dispatch(actions.productSave(data)),\r\n\t\tupdateProduct: (data) => dispatch(actions.updateProduct(data)),\r\n\t\tgetProduct: () => dispatch(actions.getProduct())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getRow, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst vendors = store.vendors.filter((val) => val.vendorName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{vendors.length ? (\r\n\t\t\t\t\tvendors.map((row, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Edit\" onClick={() => getRow(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.deleteVendor(row._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Vendor: {row.vendorName}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {row.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {row.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {row.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {row.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { search } = this.state;\r\n\t\tconst { isPopup, validateSearch } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Client Name...\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{isPopup && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tdeleteVendor: (id) => dispatch(actions.deleteVendor(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Vendor extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tvendorName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('inventory', 'vendors', () => {\r\n\t\t\tthis.props.getVendor();\r\n\t\t});\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\tgetRow = (id) => {\r\n\t\tconst obj = this.props.store.vendors.find((val) => val._id === id);\r\n\t\tconst { _id, vendorName, address, telephone, email, ntn } = obj;\r\n\t\tthis.setState({\r\n\t\t\tediting: true,\r\n\t\t\t_id,\r\n\t\t\tvendorName,\r\n\t\t\taddress,\r\n\t\t\ttelephone,\r\n\t\t\temail,\r\n\t\t\tntn,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, vendorName, address, telephone, email, ntn, editing } = this.state;\r\n\t\tif (!editing) return this.props.vendorSave({ vendorName, address, telephone, email, ntn });\r\n\t\treturn this.props.updateVendor({ _id, vendorName, address, telephone, email, ntn });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tisSearch: !state.isSearch\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tvendorName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ isPopup: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ isPopup: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { vendorName, address, telephone, email, ntn } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"the-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Vendor Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Vendor Name\"\r\n\t\t\t\t\t\tname=\"vendorName\"\r\n\t\t\t\t\t\tvalue={vendorName}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Address\"\r\n\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Telephone\"\r\n\t\t\t\t\t\tname=\"telephone\"\r\n\t\t\t\t\t\tvalue={telephone}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"National Tax Number\"\r\n\t\t\t\t\t\tname=\"ntn\"\r\n\t\t\t\t\t\tvalue={ntn}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={this.state.editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.isSearch && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tgetRow={this.getRow}\r\n\t\t\t\t\t\t\tisPopup={this.state.isPopup}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tvendorSave: (data) => dispatch(actions.vendorSave(data)),\r\n\t\tupdateVendor: (data) => dispatch(actions.updateVendor(data)),\r\n\t\tgetVendor: () => dispatch(actions.getVendor())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Vendor);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getRow, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst clients = store.clients.filter((val) => val.clientName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{clients.length ? (\r\n\t\t\t\t\tclients.map((row, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Edit\" onClick={() => getRow(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.deleteClient(row._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Client: {row.clientName}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {row.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {row.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {row.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {row.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { search } = this.state;\r\n\t\tconst { isPopup, validateSearch } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Client Name...\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{isPopup && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tdeleteClient: (id) => dispatch(actions.deleteClient(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Client extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tclientName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('inventory', 'clients', () => {\r\n\t\t\tthis.props.getClient();\r\n\t\t});\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\tgetRow = (id) => {\r\n\t\tconst obj = this.props.store.clients.find((val) => val._id === id);\r\n\t\tconst { _id, clientName, address, telephone, email, ntn } = obj;\r\n\t\tthis.setState({\r\n\t\t\tediting: true,\r\n\t\t\t_id,\r\n\t\t\tclientName,\r\n\t\t\taddress,\r\n\t\t\ttelephone,\r\n\t\t\temail,\r\n\t\t\tntn,\r\n\t\t\tisPopup: false,\r\n\t\t\tisSearch: false\r\n\t\t});\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, clientName, address, telephone, email, ntn, editing } = this.state;\r\n\t\tif (!editing) return this.props.clientSave({ clientName, address, telephone, email, ntn });\r\n\t\treturn this.props.updateClient({ _id, clientName, address, telephone, email, ntn });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tisSearch: !state.isSearch\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tclientName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ isPopup: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ isPopup: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { clientName, address, telephone, email, ntn } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"the-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Client Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Client Name\"\r\n\t\t\t\t\t\tname=\"clientName\"\r\n\t\t\t\t\t\tvalue={clientName}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Address\"\r\n\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Telephone\"\r\n\t\t\t\t\t\tname=\"telephone\"\r\n\t\t\t\t\t\tvalue={telephone}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"National Tax Number\"\r\n\t\t\t\t\t\tname=\"ntn\"\r\n\t\t\t\t\t\tvalue={ntn}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={this.state.editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.isSearch && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tgetRow={this.getRow}\r\n\t\t\t\t\t\t\tisPopup={this.state.isPopup}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tclientSave: (data) => dispatch(actions.clientSave(data)),\r\n\t\tupdateClient: (data) => dispatch(actions.updateClient(data)),\r\n\t\tgetClient: () => dispatch(actions.getClient())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Client);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getPurchaseFields, store, onDelete } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst purchases = store.purchases.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{purchases.length ? (\r\n\t\t\t\t\tpurchases.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getPurchaseFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Invoice: {val.invoice}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Vendor: {val.vendorId.vendorName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getPur, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Invoice #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getPur && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupVendor extends Component {\r\n\trenderSearchBlockVendor = () => {\r\n\t\tconst { vendorName, store, getVendorFields } = this.props;\r\n\t\tconst search = vendorName.toLowerCase();\r\n\t\tconst vendors = store.vendors.filter((val) => val.vendorName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{vendors.length ? (\r\n\t\t\t\t\tvendors.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getVendorFields(val._id, val.vendorName)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{val.vendorName}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {val.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {val.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {val.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {val.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { vendorName, validateVendor, vendorList, handleChange } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tlabel=\"Vendor\"\r\n\t\t\t\t\tname=\"vendorName\"\r\n\t\t\t\t\tvalue={vendorName}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={validateVendor}\r\n\t\t\t\t/>\r\n\t\t\t\t{vendorList && this.renderSearchBlockVendor()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupVendor);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupProduct extends Component {\r\n\trenderSearchBlockProduct = () => {\r\n\t\tconst { productName, getProductFields, store } = this.props;\r\n\t\tconst search = productName.toLowerCase();\r\n\t\tconst products = store.products.filter((val) => val.productName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{products.length ? (\r\n\t\t\t\t\tproducts.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getProductFields(val._id, val.productName)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{val.productName}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Manufacturer: {val.manufacturer}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Description: {val.description}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { productName, ind, inputProducts, handleChangeTab, validateProduct, vendorList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tname=\"productName\"\r\n\t\t\t\t\tvalue={productName}\r\n\t\t\t\t\tonChange={(ev) => handleChangeTab(ev, ind)}\r\n\t\t\t\t\tonKeyDown={(ev) => validateProduct(ev, ind)}\r\n\t\t\t\t/>\r\n\t\t\t\t{!vendorList && inputProducts[ind].productList && this.renderSearchBlockProduct()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupProduct);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupVendor from '../popup-vendor';\r\nimport PopupProduct from '../popup-product';\r\nimport actions from '../../../store/actions';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t}\r\n});\r\n\r\nclass Purchase extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tcostPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tproductList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tediting: false,\r\n\t\t\tvendorList: false,\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetPur: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('sales', () => {\r\n\t\t\tthis.props.getSale();\r\n\t\t});\r\n\t\tchannel.bind('purchases', () => {\r\n\t\t\tthis.props.getPurchase();\r\n\t\t});\r\n\t\tchannel.bind('products', () => {\r\n\t\t\tthis.props.getProduct();\r\n\t\t});\r\n\t\tchannel.bind('vendors', () => {\r\n\t\t\tthis.props.getVendor();\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t\tthis.interval = setInterval(() => this.getRefNo(), 3000);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.interval);\r\n\t}\r\n\tgetRefNo = () => {\r\n\t\tconst x = new Date();\r\n\t\tlet date = '2019-';\r\n\t\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\t\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\t\tif (!this.props.store.purchases.length) return this.setState({ invoice: 1, date });\r\n\t\treturn this.setState({ invoice: this.props.store.purchases.length + 1, date });\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (name === 'quantity' || name === 'costPrice') {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t\tthis.calcValue(ind);\r\n\t\t} else {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t}\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tcalcValue = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tinputProducts[ind].value = inputProducts[ind].quantity * inputProducts[ind].costPrice;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, invoice, vendorId, inputProducts, editing } = this.state;\r\n\t\tif (!editing) return this.props.purchaseSave({ date, invoice, vendorId, products: inputProducts });\r\n\t\treturn this.props.updatePurchase({ _id, date, invoice, vendorId, products: inputProducts });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tcostPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tsellingPrice: ''\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\toptions: false,\r\n\t\t\tediting: false\r\n\t\t});\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst isFilled = [];\r\n\t\tinputProducts.forEach((x) => {\r\n\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t});\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tinputProducts.push({\r\n\t\t\t\tproductId: '',\r\n\t\t\t\tproductName: '',\r\n\t\t\t\tquantity: '0',\r\n\t\t\t\tcostPrice: '0',\r\n\t\t\t\tvalue: '0',\r\n\t\t\t\tsellingPrice: '0',\r\n\t\t\t\tproductList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ inputProducts });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row first');\r\n\t};\r\n\tcheckStock = () => {\r\n\t\tconst { purchases, sales, products } = this.props.store;\r\n\t\tconst stockSum = {};\r\n\t\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\t\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\t\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\t\treturn stockSum;\r\n\t};\r\n\tcheckQty = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst products = this.props.store.products;\r\n\t\tif (this.state.editing) {\r\n\t\t\tconst stock = this.checkStock();\r\n\t\t\tif (inputProducts[ind].oldProductId) {\r\n\t\t\t\tif (inputProducts[ind].oldProductId === inputProducts[ind].productId) {\r\n\t\t\t\t\tconst qty =\r\n\t\t\t\t\t\t+stock[inputProducts[ind].oldProductId] -\r\n\t\t\t\t\t\t+inputProducts[ind].oldQuantity +\r\n\t\t\t\t\t\t+inputProducts[ind].quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tconst name = products.find((x) => x._id === inputProducts[ind].oldProductId).productName;\r\n\t\t\t\t\t\tinputProducts[ind].err = `${name} will be negative by ${qty}`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst qty = +stock[inputProducts[ind].oldProductId] - +inputProducts[ind].oldQuantity;\r\n\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\tconst name = products.find((x) => x._id === inputProducts[ind].oldProductId).productName;\r\n\t\t\t\t\tinputProducts[ind].err = `${name} will be negative by ${qty}`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst products = this.props.store.products;\r\n\t\tif (this.state.editing) {\r\n\t\t\tconst stock = this.checkStock();\r\n\t\t\tif (inputProducts[ind].oldProductId) {\r\n\t\t\t\tconst qty = +stock[inputProducts[ind].oldProductId] - +inputProducts[ind].oldQuantity;\r\n\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\tconst name = products.find((x) => x._id === inputProducts[ind].oldProductId).productName;\r\n\t\t\t\t\tinputProducts[ind].err = `${name} will be negative by ${qty}`;\r\n\t\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.onDeleteRow(ind);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.onDeleteRow(ind);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.onDeleteRow(ind);\r\n\t\t}\r\n\t};\r\n\tonDeleteRow = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (inputProducts.length > 1) {\r\n\t\t\tinputProducts[ind].productList = false;\r\n\t\t\tinputProducts.splice(ind, 1);\r\n\t\t\tthis.setState({ inputProducts });\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tinputProducts: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproductId: '',\r\n\t\t\t\t\t\tproductName: '',\r\n\t\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\t\tcostPrice: '0',\r\n\t\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\t\tproductList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getPur: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getPur: false });\r\n\t};\r\n\tgetPurchaseFields = (id) => {\r\n\t\tconst purchases = this.props.store.purchases.find((val) => val._id === id);\r\n\t\tconst { _id, date, invoice, vendorId, products } = purchases;\r\n\t\tthis.setState({\r\n\t\t\t_id,\r\n\t\t\tdate: date.slice(0, 10),\r\n\t\t\tinvoice,\r\n\t\t\tvendorId: vendorId._id,\r\n\t\t\tvendorName: vendorId.vendorName,\r\n\t\t\tinputProducts: products.map((val) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t_id: val._id,\r\n\t\t\t\t\tproductId: val.productId._id,\r\n\t\t\t\t\toldProductId: val.productId._id,\r\n\t\t\t\t\tproductName: val.productId.productName,\r\n\t\t\t\t\tquantity: val.quantity,\r\n\t\t\t\t\toldQuantity: val.quantity,\r\n\t\t\t\t\tcostPrice: val.costPrice,\r\n\t\t\t\t\tvalue: val.value,\r\n\t\t\t\t\tsellingPrice: val.sellingPrice\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t\tediting: true,\r\n\t\t\tgetPur: false,\r\n\t\t\toptions: false\r\n\t\t});\r\n\t};\r\n\tvalidateVendor = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ vendorList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ vendorList: false });\r\n\t};\r\n\tgetVendorFields = (vendorId, vendorName) => {\r\n\t\tthis.setState({\r\n\t\t\tvendorId,\r\n\t\t\tvendorName,\r\n\t\t\tvendorList: false\r\n\t\t});\r\n\t};\r\n\tvalidateProduct = (ev, ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (ev.keyCode === 13) inputProducts[ind].productList = true;\r\n\t\tif (ev.keyCode === 27) inputProducts[ind].productList = false;\r\n\t\tthis.setState({ ind, inputProducts });\r\n\t};\r\n\tgetProductFields = (id, name) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tinputProducts.forEach((val, i) => {\r\n\t\t\tif (i !== ind) {\r\n\t\t\t\tif (val.productName === name) return this.props.onSnackHandler(true, \"can't enter same product\");\r\n\t\t\t}\r\n\t\t});\r\n\t\tinputProducts[ind].productId = id;\r\n\t\tinputProducts[ind].productName = name;\r\n\t\tinputProducts[ind].productList = false;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\trender() {\r\n\t\tconst { date, invoice, vendorName, inputProducts, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Purchase Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Invoice\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupVendor\r\n\t\t\t\t\t\tvendorName={vendorName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateVendor={this.validateVendor}\r\n\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\tgetVendorFields={this.getVendorFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Product</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Quantity</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Cost</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Value</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Selling</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{inputProducts.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupProduct\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetProductFields={this.getProductFields}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproductName={row.productName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputProducts={inputProducts}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={this.handleChangeTab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateProduct={this.validateProduct}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.checkQty(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"costPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.costPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.err)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.err && row.err}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(row.value).toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"sellingPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.sellingPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.quantity), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.value), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetPur={this.state.getPur}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetPurchaseFields={this.getPurchaseFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deletePurchase}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetVendor: () => dispatch(actions.getVendor()),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tpurchaseSave: (data) => dispatch(actions.purchaseSave(data)),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase()),\r\n\t\tupdatePurchase: (data) => dispatch(actions.updatePurchase(data)),\r\n\t\tdeletePurchase: (id) => dispatch(actions.deletePurchase(id)),\r\n\t\tgetSale: () => dispatch(actions.getSale())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Purchase));\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getSaleFields, onDelete, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst sales = store.sales.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{sales.length ? (\r\n\t\t\t\t\tsales.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getSaleFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Invoice: {val.invoice}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Client: {val.clientId.clientName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getSal, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Invoice #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getSal && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);","import React, { Component } from 'react';\r\nimport { TextField, Paper } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupClient extends Component {\r\n\trenderSearchBlockClient = () => {\r\n\t\tconst { clientName, store, getClientFields } = this.props;\r\n\t\tconst search = clientName.toLowerCase();\r\n\t\tconst clients = store.clients.filter((val) => val.clientName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{clients.length ? (\r\n\t\t\t\t\tclients.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getClientFields(val._id, val.clientName)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{val.clientName}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {val.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {val.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {val.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {val.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { clientName, validateClient, clientList, handleChange } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tlabel=\"Client\"\r\n\t\t\t\t\tname=\"clientName\"\r\n\t\t\t\t\tvalue={clientName}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={validateClient}\r\n\t\t\t\t/>\r\n\t\t\t\t{clientList && this.renderSearchBlockClient()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupClient);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupClient from '../popup-client';\r\nimport PopupProduct from './../popup-product';\r\nimport actions from '../../../store/actions';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t}\r\n});\r\n\r\nclass Sale extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tproductList: false,\r\n\t\t\t\t\terr: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tediting: false,\r\n\t\t\tclientList: false,\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetSal: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('sales', () => {\r\n\t\t\tthis.props.getSale();\r\n\t\t});\r\n\t\tchannel.bind('purchases', () => {\r\n\t\t\tthis.props.getPurchase();\r\n\t\t});\r\n\t\tchannel.bind('products', () => {\r\n\t\t\tthis.props.getProduct();\r\n\t\t});\r\n\t\tchannel.bind('clients', () => {\r\n\t\t\tthis.props.getClient();\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t}\r\n\tgetRefNo = () => {\r\n\t\tconst x = new Date();\r\n\t\tlet date = '2019-';\r\n\t\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\t\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\t\tif (!this.props.store.sales.length) return this.setState({ invoice: 1, date });\r\n\t\treturn this.setState({ invoice: this.props.store.sales.length + 1, date });\r\n\t}\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tproductList: false,\r\n\t\t\t\t\terr: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tediting: false,\r\n\t\t\tclientList: false,\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetSal: false\r\n\t\t});\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst isFilled = [];\r\n\t\tinputProducts.forEach((x) => isFilled.push(Object.values(x).every((y) => y === false || Boolean(y))));\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tinputProducts.push({\r\n\t\t\t\tproductId: '',\r\n\t\t\t\tproductName: '',\r\n\t\t\t\tquantity: '0',\r\n\t\t\t\tsellingPrice: '0',\r\n\t\t\t\tvalue: '0',\r\n\t\t\t\tproductList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ inputProducts });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row(s) first');\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (inputProducts.length > 1) {\r\n\t\t\tinputProducts[ind].productList = false;\r\n\t\t\tinputProducts.splice(ind, 1);\r\n\t\t\treturn this.setState({ inputProducts });\r\n\t\t}\r\n\t\treturn this.setState({\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tproductList: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (name === 'quantity' || name === 'sellingPrice') {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t\tthis.calcValue(ind);\r\n\t\t} else {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t}\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tcalcValue = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tinputProducts[ind].value = inputProducts[ind].quantity * inputProducts[ind].sellingPrice;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, invoice, clientId, inputProducts, editing } = this.state;\r\n\t\tif (!editing) return this.props.saleSave({ date, invoice, clientId, products: inputProducts });\r\n\t\treturn this.props.updateSale({ _id, date, invoice, clientId, products: inputProducts });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getSal: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getSal: false });\r\n\t};\r\n\tgetSaleFields = (id) => {\r\n\t\tconst sales = this.props.store.sales.find((val) => val._id === id);\r\n\t\tconst { _id, date, invoice, clientId, products } = sales;\r\n\t\tthis.setState({\r\n\t\t\t_id,\r\n\t\t\tdate: date.slice(0, 10),\r\n\t\t\tinvoice,\r\n\t\t\tclientId: clientId._id,\r\n\t\t\tclientName: clientId.clientName,\r\n\t\t\tinputProducts: products.map((val) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tproductId: val.productId._id,\r\n\t\t\t\t\tproductName: val.productId.productName,\r\n\t\t\t\t\tquantity: val.quantity,\r\n\t\t\t\t\tsellingPrice: val.sellingPrice,\r\n\t\t\t\t\tvalue: val.value,\r\n\t\t\t\t\toldProductId: val.productId._id,\r\n\t\t\t\t\toldQuantity: val.quantity\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t\tediting: true,\r\n\t\t\toptions: false,\r\n\t\t\tgetSal: false\r\n\t\t});\r\n\t};\r\n\tvalidateClient = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ clientList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ clientList: false });\r\n\t};\r\n\tgetClientFields = (clientId, clientName) => {\r\n\t\tthis.setState({\r\n\t\t\tclientId,\r\n\t\t\tclientName,\r\n\t\t\tclientList: false\r\n\t\t});\r\n\t};\r\n\tvalidateProduct = (ev, ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (ev.keyCode === 13) inputProducts[ind].productList = true;\r\n\t\tif (ev.keyCode === 27) inputProducts[ind].productList = false;\r\n\t\tthis.setState({ ind, inputProducts });\r\n\t};\r\n\tgetProductFields = (id, name) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tinputProducts.forEach((val, i) => {\r\n\t\t\tif (i !== ind) {\r\n\t\t\t\tif (val.productName === name)\r\n\t\t\t\t\treturn this.props.onSnackHandler(true, `can't enter same product (${name}) again`);\r\n\t\t\t}\r\n\t\t});\r\n\t\tinputProducts[ind].productId = id;\r\n\t\tinputProducts[ind].productName = name;\r\n\t\tinputProducts[ind].productList = false;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tcheckStock = () => {\r\n\t\tconst { purchases, sales, products } = this.props.store;\r\n\t\tconst stockSum = {};\r\n\t\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\t\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\t\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\t\treturn stockSum;\r\n\t};\r\n\tcheckQty = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst products = this.props.store.products;\r\n\t\tconst stock = this.checkStock();\r\n\t\tif (this.state.editing) {\r\n\t\t\tif (inputProducts[ind].oldProductId) {\r\n\t\t\t\tif (inputProducts[ind].oldProductId === inputProducts[ind].productId) {\r\n\t\t\t\t\tconst qty =\r\n\t\t\t\t\t\t+stock[inputProducts[ind].oldProductId] +\r\n\t\t\t\t\t\t+inputProducts[ind].oldQuantity -\r\n\t\t\t\t\t\t+inputProducts[ind].quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tconst { productName } = products.find((x) => x._id === inputProducts[ind].oldProductId);\r\n\t\t\t\t\t\tinputProducts[ind].err = `${productName} will be negative by ${qty}`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst qty = stock[inputProducts[ind].productId] - +inputProducts[ind].quantity;\r\n\t\t\tconst { purchases } = this.props.store;\r\n\t\t\tif (qty < 0) {\r\n\t\t\t\tinputProducts[ind].err = `${inputProducts[ind].productName} will be negative by ${qty}`;\r\n\t\t\t\tlet isMatched = { match: false };\r\n\t\t\t\tpurchases.forEach((x) => {\r\n\t\t\t\t\tx.products.forEach((y) => {\r\n\t\t\t\t\t\tif (y.productId._id === inputProducts[ind].productId) {\r\n\t\t\t\t\t\t\tisMatched.match = true;\r\n\t\t\t\t\t\t\tisMatched.sellingPrice = y.sellingPrice;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tif (isMatched.match) inputProducts[ind].sellingPrice = isMatched.sellingPrice;\r\n\t\t\t\telse inputProducts[ind].sellingPrice = 0;\r\n\t\t\t} else {\r\n\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\tpurchases.forEach((x) => {\r\n\t\t\t\t\tx.products.forEach((y) => {\r\n\t\t\t\t\t\tif (y.productId._id === inputProducts[ind].productId) {\r\n\t\t\t\t\t\t\tinputProducts[ind].sellingPrice = y.sellingPrice;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.setState({ inputProducts });\r\n\t\t}\r\n\t};\r\n\trender() {\r\n\t\tconst { date, invoice, clientName, inputProducts, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Sale Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Invoice\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupClient\r\n\t\t\t\t\t\tclientName={clientName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateClient={this.validateClient}\r\n\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\tgetClientFields={this.getClientFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Product</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Quantity</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Selling</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Value</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{inputProducts.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupProduct\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetProductFields={this.getProductFields}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproductName={row.productName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputProducts={inputProducts}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={this.handleChangeTab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateProduct={this.validateProduct}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.checkQty(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"sellingPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.sellingPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.calcValue(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.err)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.err && row.err}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(row.value).toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.quantity), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.value), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetSal={this.state.getSal}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetSaleFields={this.getSaleFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deleteSale}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tsaleSave: (data) => dispatch(actions.saleSave(data)),\r\n\t\tupdateSale: (data) => dispatch(actions.updateSale(data)),\r\n\t\tgetSale: () => dispatch(actions.getSale()),\r\n\t\tdeleteSale: (id) => dispatch(actions.deleteSale(id)),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Sale));\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getPaymentFields, onDelete, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst payments = store.payments.filter((val) => val.refNo.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{payments.length ? (\r\n\t\t\t\t\tpayments.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getPaymentFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Reference: {val.refNo}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Vendor: {val.vendorId.vendorName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getEntry, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type reference #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getEntry && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);","import React, { Component } from 'react';\r\nimport { Paper, TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupInvoices extends Component {\r\n\trenderSearchBlockProduct = () => {\r\n\t\tconst { invoice, vendorId, getInvoiceField, editing, store } = this.props;\r\n\t\tconst search = invoice.toLowerCase();\r\n\t\tconst allBills = store.purchases\r\n\t\t\t.filter((val) => val.vendorId._id === vendorId)\r\n\t\t\t.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\tconst payments = store.payments.filter((x) => x.vendorId._id === vendorId);\r\n\t\tlet bills = [];\r\n\t\tconst realized = { bill: 0, pay: 0, refId: '' };\r\n\t\tpayments.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.pay += +y.pay;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tif (!editing) {\r\n\t\t\tallBills.forEach((z) => {\r\n\t\t\t\tif (z.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.bill = z.products.reduce((acc, cur) => acc + cur.value, 0);\r\n\t\t\t\t\tif (realized.bill > realized.pay) {\r\n\t\t\t\t\t\tbills.push(z);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tbills = allBills;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{bills.length ? (\r\n\t\t\t\t\tbills.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={() => getInvoiceField(val)}>\r\n\t\t\t\t\t\t\t\t\t\t{val.invoice}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\tAmount: {val.products.reduce((acc, cur) => acc + +cur.value, 0).toLocaleString()}/-\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { invoice, ind, detail, handleChangeTab, validateInvoice, vendorList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\tonChange={(ev) => handleChangeTab(ev, ind)}\r\n\t\t\t\t\tonKeyDown={(ev) => validateInvoice(ev, ind)}\r\n\t\t\t\t/>\r\n\t\t\t\t{!vendorList && detail.detailList && this.renderSearchBlockProduct()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupInvoices);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupVendor from '../popup-vendor';\r\nimport actions from '../../../store/actions';\r\nimport PopupInvoices from './popup-invoices';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t},\r\n\tselectControl: {\r\n\t\tminWidth: 100\r\n\t}\r\n});\r\n\r\nclass Payment extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tvendorList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getRefNo();\r\n\t\tchannel.bind('payments', () => {\r\n\t\t\tthis.props.getPayment();\r\n\t\t});\r\n\t\tchannel.bind('purchases', () => {\r\n\t\t\tthis.props.getPurchase();\r\n\t\t});\r\n\t\tchannel.bind('vendors', () => {\r\n\t\t\tthis.props.getVendor();\r\n\t\t});\r\n\t};\r\n\tstatic getDerivedStateFromProps = (nextProps, prevState) => {\r\n\t\tconst { payments } = nextProps.store;\r\n\t\tif (payments.length && !prevState.editing) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in payments) {\r\n\t\t\t\tarr.push(payments[key].refNo);\r\n\t\t\t}\r\n\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\tif (refNo !== prevState.refNo) return { refNo };\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tgetRefNo = () => {\r\n\t\tconst x = new Date();\r\n\t\tlet date = '2019-';\r\n\t\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\t\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\t\tconst { payments } = this.props.store;\r\n\t\tif (payments.length) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in payments) {\r\n\t\t\t\tarr.push(payments[key].refNo);\r\n\t\t\t}\r\n\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\treturn this.setState({ refNo, date });\r\n\t\t}\r\n\t\treturn this.setState({ refNo: 1, date });\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tdetails[ind][name] = value;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, refNo, vendorId, details, editing } = this.state;\r\n\t\tif (!editing) {\r\n\t\t\tthis.props.paymentSave({ date, refNo, vendorId, details });\r\n\t\t} else {\r\n\t\t\tthis.props.updatePayment({ _id, date, refNo, vendorId, details });\r\n\t\t}\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tvendorList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst isFilled = [];\r\n\t\tdetails.forEach((x) => {\r\n\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t});\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tdetails.push({\r\n\t\t\t\tinvoice: '',\r\n\t\t\t\tbalance: '0',\r\n\t\t\t\tpay: '0',\r\n\t\t\t\tdescription: '',\r\n\t\t\t\tdetailList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ details });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row first');\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details.length > 1) {\r\n\t\t\tfor (let i = 0; i < details.length; i++) {\r\n\t\t\t\tdetails[i].detailList = false;\r\n\t\t\t}\r\n\t\t\tdetails.splice(ind, 1);\r\n\t\t\tthis.setState({ details });\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdetails: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\t\tpay: '0',\r\n\t\t\t\t\t\tdescription: '',\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getEntry: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getEntry: false });\r\n\t};\r\n\tvalidateVendor = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ vendorList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ vendorList: false });\r\n\t};\r\n\tgetVendorFields = (vendorId, vendorName) => {\r\n\t\tthis.setState({\r\n\t\t\tvendorId,\r\n\t\t\tvendorName,\r\n\t\t\tvendorList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\tvalidateInvoice = (ev, ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (ev.keyCode === 13) details[ind].detailList = true;\r\n\t\tif (ev.keyCode === 27) details[ind].detailList = false;\r\n\t\tthis.setState({ ind, details });\r\n\t};\r\n\tgetInvoiceField = (value) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tconst count = { record: 0 };\r\n\t\tdetails[ind].invoice = value.invoice;\r\n\t\tdetails.forEach((val) => {\r\n\t\t\tif (val.invoice === value.invoice) {\r\n\t\t\t\tcount.record++;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (count.record > 1) return this.props.onSnackHandler(true, \"can't enter same product\");\r\n\t\tdetails[ind].purchaseId = value._id;\r\n\t\tdetails[ind].detailList = false;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tgetBalance = (value) => {\r\n\t\tconst payments = this.props.store.payments;\r\n\t\tconst amounts = { invoiceValue: 0, realized: [] };\r\n\t\tamounts.invoiceValue = value.products.reduce((acc, cur) => acc + +cur.value, 0);\r\n\t\tpayments.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice === value.invoice) {\r\n\t\t\t\t\tamounts.realized.push(y);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tamounts.realized = amounts.realized.reduce((acc, cur) => acc + +cur.pay, 0);\r\n\t\treturn amounts;\r\n\t};\r\n\tgetPaymentFields = (id) => {\r\n\t\tif (id) {\r\n\t\t\tconst payment = this.props.store.payments.find((val) => val._id === id);\r\n\t\t\tconst { _id, date, refNo, vendorId, details } = payment;\r\n\t\t\tthis.setState({\r\n\t\t\t\t_id,\r\n\t\t\t\tdate: date.slice(0, 10),\r\n\t\t\t\trefNo,\r\n\t\t\t\toldVendorId: vendorId._id,\r\n\t\t\t\tvendorId: vendorId._id,\r\n\t\t\t\tvendorName: vendorId.vendorName,\r\n\t\t\t\tdetails: details.map((val) => {\r\n\t\t\t\t\tconst { purchaseId, invoice, pay, description } = val;\r\n\t\t\t\t\tconst value = this.props.store.purchases.find((x) => x.invoice === invoice);\r\n\t\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpurchaseId,\r\n\t\t\t\t\t\tinvoice,\r\n\t\t\t\t\t\tbalance: +amounts.invoiceValue - +amounts.realized + +pay,\r\n\t\t\t\t\t\tpay,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t\tediting: true,\r\n\t\t\t\tgetEntry: false,\r\n\t\t\t\toptions: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidatePayment = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (!this.state.editing) {\r\n\t\t\tif (details[ind].purchaseId) {\r\n\t\t\t\tconst search = details[ind].invoice;\r\n\t\t\t\tconst value = this.props.store.purchases.find((x) => x.invoice === search);\r\n\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst search = details[ind].invoice;\r\n\t\t\tconst value = this.props.store.purchases.find((x) => x.invoice === search);\r\n\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\tconst oldDetails = this.props.store.payments\r\n\t\t\t\t.find((x) => x.refNo === this.state.refNo)\r\n\t\t\t\t.details.find((x) => x.invoice === value.invoice);\r\n\t\t\tif (oldDetails.purchaseId === details[ind].purchaseId) {\r\n\t\t\t\tdetails[ind].pay = oldDetails.pay;\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized + +oldDetails.pay;\r\n\t\t\t} else {\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tbalanceCheck = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details[ind].pay > details[ind].balance) {\r\n\t\t\tdetails[ind].balanceDesc = `Balance will be negative by ${details[ind].balance - details[ind].pay}`;\r\n\t\t} else {\r\n\t\t\tdetails[ind].balanceDesc = false;\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\trender() {\r\n\t\tconst { date, refNo, vendorName, details, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Payment Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Ref #\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"refNo\"\r\n\t\t\t\t\t\tvalue={refNo}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupVendor\r\n\t\t\t\t\t\tvendorName={vendorName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateVendor={this.validateVendor}\r\n\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\tgetVendorFields={this.getVendorFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Invoice</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Balance</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Amount</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Description</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{details.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupInvoices\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice={row.invoice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvendorId={this.state.vendorId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdetail={row}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateInvoice={(ev) => this.validateInvoice(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetInvoiceField={this.getInvoiceField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tediting={editing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.balanceDesc)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.balanceDesc && row.balanceDesc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"balance\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pay\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.pay}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.balanceCheck(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.validatePayment(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{details\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.pay), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetEntry={this.state.getEntry}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetPaymentFields={this.getPaymentFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deletePayment}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetVendor: () => dispatch(actions.getVendor()),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase()),\r\n\t\tpaymentSave: (data) => dispatch(actions.paymentSave(data)),\r\n\t\tgetPayment: () => dispatch(actions.getPayment()),\r\n\t\tupdatePayment: (data) => dispatch(actions.updatePayment(data)),\r\n\t\tdeletePayment: (id) => dispatch(actions.deletePayment(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Payment));\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsearch: '',\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst search = this.state.search;\r\n\t\tconst { getRecoveryFields, onDelete, store } = this.props;\r\n\t\tconst recoveries = store.recoveries.filter((val) => val.refNo.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{recoveries.length ? (\r\n\t\t\t\t\trecoveries.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getRecoveryFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Reference: {val.refNo}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Client: {val.clientId.clientName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getEntry, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type reference #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getEntry && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupInvoices extends Component {\r\n\trenderSearchBlockProduct = () => {\r\n\t\tconst { invoice, clientId, getInvoiceField, editing, store } = this.props;\r\n\t\tconst search = invoice.toLowerCase();\r\n\t\tconst allBills = store.sales\r\n\t\t\t.filter((val) => val.clientId._id === clientId)\r\n\t\t\t.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\tconst recoveries = store.recoveries.filter((x) => x.clientId._id === clientId);\r\n\t\tlet bills = [];\r\n\t\tconst realized = { bill: 0, pay: 0, refId: '' };\r\n\t\trecoveries.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.pay += +y.pay;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tif (!editing) {\r\n\t\t\tallBills.forEach((z) => {\r\n\t\t\t\tif (z.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.bill = z.products.reduce((acc, cur) => acc + cur.value, 0);\r\n\t\t\t\t\tif (realized.bill > realized.pay) {\r\n\t\t\t\t\t\tbills.push(z);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tbills = allBills;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{bills.length ? (\r\n\t\t\t\t\tbills.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={() => getInvoiceField(val)}>\r\n\t\t\t\t\t\t\t\t\t\t{val.invoice}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\tAmount: {val.products.reduce((acc, cur) => acc + +cur.value, 0).toLocaleString()}/-\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { invoice, ind, detail, handleChangeTab, validateInvoice, clientList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\tonChange={(ev) => handleChangeTab(ev, ind)}\r\n\t\t\t\t\tonKeyDown={(ev) => validateInvoice(ev, ind)}\r\n\t\t\t\t/>\r\n\t\t\t\t{!clientList && detail.detailList && this.renderSearchBlockProduct()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupInvoices);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupClient from '../popup-client';\r\nimport actions from '../../../store/actions';\r\nimport PopupInvoices from './popup-invoices';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t},\r\n\tselectControl: {\r\n\t\tminWidth: 100\r\n\t}\r\n});\r\n\r\nclass Recovery extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tclientList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getRefNo();\r\n\t\tchannel.bind('recoveries', () => {\r\n\t\t\tthis.props.getRecovery();\r\n\t\t});\r\n\t\tchannel.bind('sales', () => {\r\n\t\t\tthis.props.getSale();\r\n\t\t});\r\n\t\tchannel.bind('clients', () => {\r\n\t\t\tthis.props.getClient();\r\n\t\t});\r\n\t};\r\n\tstatic getDerivedStateFromProps = (nextProps, prevState) => {\r\n\t\tconst { recoveries } = nextProps.store;\r\n\t\tif (recoveries) {\r\n\t\t\tif (recoveries.length && !prevState.editing) {\r\n\t\t\t\tconst arr = [];\r\n\t\t\t\tfor (let key in recoveries) {\r\n\t\t\t\t\tarr.push(recoveries[key].refNo);\r\n\t\t\t\t}\r\n\t\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\t\tif (refNo !== prevState.refNo) return { refNo };\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tgetRefNo = () => {\r\n\t\tconst x = new Date();\r\n\t\tlet date = '2019-';\r\n\t\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\t\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\t\tconst { recoveries } = this.props.store;\r\n\t\tif (recoveries) {\r\n\t\t\tif (recoveries.length) {\r\n\t\t\t\tconst arr = [];\r\n\t\t\t\tfor (let key in recoveries) {\r\n\t\t\t\t\tarr.push(recoveries[key].refNo);\r\n\t\t\t\t}\r\n\t\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\t\treturn this.setState({ refNo, date });\r\n\t\t\t}\r\n\t\t\treturn this.setState({ refNo: 1, date });\r\n\t\t}\r\n\t\treturn this.setState({ refNo: 1, date });\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tdetails[ind][name] = value;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, refNo, clientId, details, editing } = this.state;\r\n\t\tif (!editing) {\r\n\t\t\tthis.props.recoverySave({ date, refNo, clientId, details });\r\n\t\t} else {\r\n\t\t\tthis.props.updateRecovery({ _id, date, refNo, clientId, details });\r\n\t\t}\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tclientList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst isFilled = [];\r\n\t\tdetails.forEach((x) => {\r\n\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t});\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tdetails.push({\r\n\t\t\t\tinvoice: '',\r\n\t\t\t\tbalance: '0',\r\n\t\t\t\tpay: '0',\r\n\t\t\t\tdescription: '',\r\n\t\t\t\tdetailList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ details });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row first');\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details.length > 1) {\r\n\t\t\tfor (let i = 0; i < details.length; i++) {\r\n\t\t\t\tdetails[i].detailList = false;\r\n\t\t\t}\r\n\t\t\tdetails.splice(ind, 1);\r\n\t\t\tthis.setState({ details });\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdetails: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\t\tpay: '0',\r\n\t\t\t\t\t\tdescription: '',\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getEntry: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getEntry: false });\r\n\t};\r\n\tvalidateClient = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ clientList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ clientList: false });\r\n\t};\r\n\tgetClientFields = (clientId, clientName) => {\r\n\t\tthis.setState({\r\n\t\t\tclientId,\r\n\t\t\tclientName,\r\n\t\t\tclientList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\tvalidateInvoice = (ev, ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (ev.keyCode === 13) details[ind].detailList = true;\r\n\t\tif (ev.keyCode === 27) details[ind].detailList = false;\r\n\t\tthis.setState({ ind, details });\r\n\t};\r\n\tgetInvoiceField = (value) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tconst count = { record: 0 };\r\n\t\tdetails[ind].invoice = value.invoice;\r\n\t\tdetails.forEach((val) => {\r\n\t\t\tif (val.invoice === value.invoice) {\r\n\t\t\t\tcount.record++;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (count.record > 1) return this.props.onSnackHandler(true, \"can't enter same product\");\r\n\t\tdetails[ind].saleId = value._id;\r\n\t\tdetails[ind].detailList = false;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tgetBalance = (value) => {\r\n\t\tconst { recoveries } = this.props.store;\r\n\t\tconst amounts = { invoiceValue: 0, realized: [] };\r\n\t\tamounts.invoiceValue = value.products.reduce((acc, cur) => acc + +cur.value, 0);\r\n\t\trecoveries.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice === value.invoice) {\r\n\t\t\t\t\tamounts.realized.push(y);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tamounts.realized = amounts.realized.reduce((acc, cur) => acc + +cur.pay, 0);\r\n\t\treturn amounts;\r\n\t};\r\n\tgetRecoveryFields = (id) => {\r\n\t\tif (id) {\r\n\t\t\tconst recovery = this.props.store.recoveries.find((val) => val._id === id);\r\n\t\t\tconst { _id, date, refNo, clientId, details } = recovery;\r\n\t\t\tthis.setState({\r\n\t\t\t\t_id,\r\n\t\t\t\tdate: date.slice(0, 10),\r\n\t\t\t\trefNo,\r\n\t\t\t\toldClient: clientId._id,\r\n\t\t\t\tclientId: clientId._id,\r\n\t\t\t\tclientName: clientId.clientName,\r\n\t\t\t\tdetails: details.map((val) => {\r\n\t\t\t\t\tconst { saleId, invoice, pay, description } = val;\r\n\t\t\t\t\tconst value = this.props.store.sales.find((x) => x.invoice === invoice);\r\n\t\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tsaleId,\r\n\t\t\t\t\t\tinvoice,\r\n\t\t\t\t\t\tbalance: +amounts.invoiceValue - +amounts.realized + +pay,\r\n\t\t\t\t\t\tpay,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t\tediting: true,\r\n\t\t\t\tgetEntry: false,\r\n\t\t\t\toptions: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSale = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (!this.state.editing) {\r\n\t\t\tif (details[ind].saleId) {\r\n\t\t\t\tconst search = details[ind].invoice;\r\n\t\t\t\tconst value = this.props.store.sales.find((x) => x.invoice === search);\r\n\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst search = details[ind].invoice;\r\n\t\t\tconst value = this.props.store.sales.find((x) => x.invoice === search);\r\n\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\tconst oldDetails = this.props.store.recoveries\r\n\t\t\t\t.find((x) => x.refNo === this.state.refNo)\r\n\t\t\t\t.details.find((x) => x.invoice === value.invoice);\r\n\t\t\tif (oldDetails.saleId === details[ind].saleId) {\r\n\t\t\t\tdetails[ind].pay = oldDetails.pay;\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized + +oldDetails.pay;\r\n\t\t\t} else {\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tbalanceCheck = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details[ind].pay > details[ind].balance) {\r\n\t\t\tdetails[ind].balanceDesc = `Balance will be negative by ${details[ind].balance - details[ind].pay}`;\r\n\t\t} else {\r\n\t\t\tdetails[ind].balanceDesc = false;\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\trender() {\r\n\t\tconst { date, refNo, clientName, details, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Recovery Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Ref #\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"refNo\"\r\n\t\t\t\t\t\tvalue={refNo}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupClient\r\n\t\t\t\t\t\tclientName={clientName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateClient={this.validateClient}\r\n\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\tgetClientFields={this.getClientFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Invoice</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Balance</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Amount</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Description</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{details.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupInvoices\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice={row.invoice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientId={this.state.clientId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdetail={row}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateInvoice={(ev) => this.validateInvoice(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetInvoiceField={this.getInvoiceField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tediting={editing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.balanceDesc)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.balanceDesc && row.balanceDesc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"balance\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pay\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.pay}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.balanceCheck(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.validateSale(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{details\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.pay), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetEntry={this.state.getEntry}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetRecoveryFields={this.getRecoveryFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deleteRecovery}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tgetSale: () => dispatch(actions.getSale()),\r\n\t\trecoverySave: (data) => dispatch(actions.recoverySave(data)),\r\n\t\tgetRecovery: () => dispatch(actions.getRecovery()),\r\n\t\tupdateRecovery: (data) => dispatch(actions.updateRecovery(data)),\r\n\t\tdeleteRecovery: (id) => dispatch(actions.deleteRecovery(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Recovery));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport Header from './header';\r\nimport Product from './dashboard/product/product';\r\nimport Vendor from './dashboard/vendor/vendor';\r\nimport Client from './dashboard/client/client';\r\nimport Purchase from './dashboard/purchase/purchase';\r\nimport Sale from './dashboard/sale/sale';\r\nimport Payment from './dashboard/payment/payment';\r\nimport Recovery from './dashboard/recovery/recovery';\r\nimport actions from '../store/actions';\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/dashboard/product',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Product {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/vendor',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Vendor {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/client',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Client {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/purchase',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Purchase {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/sale',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Sale {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/payment',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Payment {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/recovery',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Recovery {...props} />\r\n\t}\r\n];\r\n\r\nclass Dashboard extends Component {\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.store.profile.email) return this.props.history.push('/');\r\n\t\tthis.props.getClient();\r\n\t\tthis.props.getPayment();\r\n\t\tthis.props.getRecovery();\r\n\t\tthis.props.getProduct();\r\n\t\tthis.props.getPurchase();\r\n\t\tthis.props.getSale();\r\n\t\tthis.props.getVendor();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t</header>\r\n\t\t\t\t<section className=\"container\">\r\n\t\t\t\t\t{routes.map((val, ind) => {\r\n\t\t\t\t\t\treturn <Route key={ind} path={val.path} exact={val.exact} component={val.main} />;\r\n\t\t\t\t\t})}\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tgetPayment: () => dispatch(actions.getPayment()),\r\n\t\tgetRecovery: () => dispatch(actions.getRecovery()),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase()),\r\n\t\tgetSale: () => dispatch(actions.getSale()),\r\n\t\tgetVendor: () => dispatch(actions.getVendor())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import React, { Component } from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../store/actions';\r\n\r\nclass PositionedSnackbar extends Component {\r\n    state = {\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n    };\r\n\r\n    render() {\r\n        const { vertical, horizontal } = this.state;\r\n        const { isSnackOpen, snackMessage } = this.props.store;\r\n        return (\r\n            <div>\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical, horizontal }}\r\n                    open={isSnackOpen}\r\n                    autoHideDuration={3000}\r\n                    onClose={() => this.props.onSnackHandler(false, '')}\r\n                    ContentProps={{\r\n                        'aria-describedby': 'message-id',\r\n                    }}\r\n                    message={<span id=\"message-id\">{snackMessage}</span>}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message }))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PositionedSnackbar);","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport SignIn from './components/login/signin';\r\nimport SignUp from './components/login/signup';\r\nimport Dashboard from './components/dashboard';\r\nimport PositionedSnackbar from './components/snackbar';\r\n\r\nimport actions from './store/actions';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    if (!this.props.store.profile.email) return this.props.isLoggedIn();\r\n  }\r\n  render() {\r\n    if (this.props.store.isLoading) return (\r\n      <div className='loader-container'>\r\n        <CircularProgress\r\n          color='secondary'\r\n        />\r\n      </div>\r\n    );\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Route path='/' exact component={SignIn} />\r\n          <Route path='/signup' exact component={SignUp} />\r\n          <Route path='/dashboard' component={Dashboard} />\r\n          <PositionedSnackbar />\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    isLoggedIn: () => dispatch(actions.isLoggedIn()),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport store from './store';\r\nimport App from './App';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}