{"version":3,"sources":["store/constants.js","store/reducer/index.js","store/actions/index.js","store/epics/login.js","store/epics/product.js","store/epics/vendor.js","store/epics/client.js","store/epics/purchase.js","store/epics/sale.js","store/epics/payment.js","store/epics/recovery.js","store/epics/index.js","store/index.js","components/login/signin.js","components/selects.js","components/login/signup.js","components/header.js","config.js","components/dashboard/product/search.js","components/dashboard/product/product.js","components/dashboard/vendor/search.js","components/dashboard/vendor/vendor.js","components/dashboard/client/search.js","components/dashboard/client/client.js","components/dashboard/purchase/search.js","components/dashboard/popup-vendor.js","components/dashboard/popup-product.js","components/dashboard/purchase/purchase.js","components/dashboard/sale/search.js","components/dashboard/popup-client.js","components/dashboard/sale/sale.js","components/dashboard/payment/search.js","components/dashboard/payment/popup-invoices.js","components/dashboard/payment/payment.js","components/dashboard/recovery/search.js","components/dashboard/recovery/popup-invoices.js","components/dashboard/recovery/recovery.js","components/dashboard.js","components/snackbar.js","App.js","serviceWorker.js","index.js"],"names":["types","ONSNACK","ONDIALOG","ONLOADER","SIGNUP","SIGNUPACCESS","SIGNIN","SIGNINSUCCESS","SIGNINFAILURE","SIGNOUT","SIGNOUTSUCCESS","SIGNOUTFAILURE","ISLOGGEDIN","ISLOGGEDINSUCCESS","ISLOGGEDINFAILURE","PRODUCTSAVE","PRODUCTSAVESUCCESS","PRODUCTSAVEFAILURE","GETPRODUCT","GETPRODUCTSUCCESS","GETPRODUCTFAILURE","UPDATEPRODUCT","UPDATEPRODUCTSUCCESS","UPDATEPRODUCTFAILURE","DELETEPRODUCT","DELETEPRODUCTSUCCESS","DELETEPRODUCTFAILURE","VENDORSAVE","VENDORSAVESUCCESS","VENDORSAVEFAILURE","GETVENDOR","GETVENDORSUCCESS","GETVENDORFAILURE","UPDATEVENDOR","UPDATEVENDORSUCCESS","UPDATEVENDORFAILURE","DELETEVENDOR","DELETEVENDORSUCCESS","DELETEVENDORFAILURE","CLIENTSAVE","CLIENTSAVESUCCESS","CLIENTSAVEFAILURE","GETCLIENT","GETCLIENTSUCCESS","GETCLIENTFAILURE","UPDATECLIENT","UPDATECLIENTSUCCESS","UPDATECLIENTFAILURE","DELETECLIENT","DELETECLIENTSUCCESS","DELETECLIENTFAILURE","PURCHASESAVE","PURCHASESAVESUCCESS","PURCHASESAVEFAILURE","GETPURCHASE","GETPURCHASESUCCESS","GETPURCHASEFAILURE","UPDATEPURCHASE","UPDATEPURCHASESUCCESS","UPDATEPURCHASEFAILURE","DELETEPURCHASE","DELETEPURCHASESUCCESS","DELETEPURCHASEFAILURE","SALESAVE","SALESAVESUCCESS","SALESAVEFAILURE","GETSALE","GETSALESUCCESS","GETSALEFAILURE","UPDATESALE","UPDATESALESUCCESS","UPDATESALEFAILURE","DELETESALE","DELETESALESUCCESS","DELETESALEFAILURE","PAYMENTSAVE","PAYMENTSAVESUCCESS","PAYMENTSAVEFAILURE","GETPAYMENT","GETPAYMENTSUCCESS","GETPAYMENTFAILURE","UPDATEPAYMENT","UPDATEPAYMENTSUCCESS","UPDATEPAYMENTFAILURE","DELETEPAYMENT","DELETEPAYMENTSUCCESS","DELETEPAYMENTFAILURE","RECOVERYSAVE","RECOVERYSAVESUCCESS","RECOVERYSAVEFAILURE","GETRECOVERY","GETRECOVERYSUCCESS","GETRECOVERYFAILURE","UPDATERECOVERY","UPDATERECOVERYSUCCESS","UPDATERECOVERYFAILURE","DELETERECOVERY","DELETERECOVERYSUCCESS","DELETERECOVERYFAILURE","initialState","profile","products","vendors","clients","purchases","sales","payments","recoveries","isLoading","isSnackOpen","snackMessage","isDialogOpen","reducer","state","arguments","length","undefined","action","type","Object","objectSpread","payload","snack","message","actions","onSnackHandler","onDialog","onLoader","signUp","signUpAccess","signIn","signInSuccess","signInFailure","signOut","signOutSuccess","signOutFailure","isLoggedIn","isLoggedInSuccess","isLoggedInFailure","productSave","productSaveSuccess","productSaveFailure","getProduct","getProductSuccess","getProductFailure","updateProduct","updateProductSuccess","updateProductFailure","deleteProduct","deleteProductSuccess","deleteProductFailure","vendorSave","vendorSaveSuccess","vendorSaveFailure","getVendor","getVendorSuccess","getVendorFailure","updateVendor","updateVendorSuccess","updateVendorFailure","deleteVendor","deleteVendorSuccess","deleteVendorFailure","clientSave","clientSaveSuccess","clientSaveFailure","getClient","getClientSuccess","getClientFailure","updateClient","updateClientSuccess","updateClientFailure","deleteClient","deleteClientSuccess","deleteClientFailure","purchaseSave","purchaseSaveSuccess","purchaseSaveFailure","getPurchase","getPurchaseSuccess","getPurchaseFailure","deletePurchase","deletePurchaseSuccess","deletePurchaseFailure","updatePurchase","updatePurchaseSuccess","updatePurchaseFailure","saleSave","saleSaveSuccess","saleSaveFailure","getSale","getSaleSuccess","getSaleFailure","updateSale","updateSaleSuccess","updateSaleFailure","deleteSale","deleteSaleSuccess","deleteSaleFailure","paymentSave","paymentSaveSuccess","paymentSaveFailure","getPayment","getPaymentSuccess","getPaymentFailure","updatePayment","updatePaymentSuccess","updatePaymentFailure","deletePayment","deletePaymentSuccess","deletePaymentFailure","recoverySave","recoverySaveSuccess","recoverySaveFailure","getRecovery","getRecoverySuccess","getRecoveryFailure","updateRecovery","updateRecoverySuccess","updateRecoveryFailure","deleteRecovery","deleteRecoverySuccess","deleteRecoveryFailure","login","action$","ofType","switchMap","_ref","Observable","ajax","url","body","async","method","headers","Content-Type","crossDomain","createXHR","XMLHttpRequest","responseType","res","of","response","catch","err","_ref2","values","every","x","Boolean","withCredentials","doc","product","val","resp","store","getState","some","find","y","productId","_id","entries","concat","_ref3","vendor","vendorId","client","clientId","checkStock","_store$getState","stockSum","forEach","quantity","purchase","details","purchaseId","stock","messages","value","oldProductId","qty","oldQuantity","push","productName","join","sale","isFilled","saleId","payment","recovery","combineEpics","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","epicMiddleware","createEpicMiddleware","createStore","applyMiddleware","run","epics","SignIn","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","ev","_ev$target","target","name","setState","defineProperty","onSignInHandler","_this$state","email","password","props","gotoSignUp","history","_this$state2","react_default","a","createElement","className","index_es","elevation","align","color","variant","gutterBottom","autoFocus","label","onChange","fullWidth","margin","children","size","onClick","Component","connect","dispatch","NativeSelects","labelWidth","ReactDOM","findDOMNode","InputLabelRef","offsetWidth","_this2","_this$props","classes","range","criteria","theLabel","theField","toChange","root","FormControl_default","formControl","InputLabel_default","ref","htmlFor","Select_default","native","input","OutlinedInput_default","id","map","ind","key","React","withStyles","theme","display","flexWrap","marginTop","spacing","unit","marginBottom","minWidth","SignUp","gotoSignIn","onSignUpHandler","confirmPassword","mobile","dob","first","last","gender","maritalStatus","cnic","style","helperText","InputLabelProps","shrink","selects","data","Header","Link","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","aria-haspopup","aria-labelledby","channel","Pusher","cluster","forceTLS","subscribe","Search","renderSearchBlock","getRow","search","toLowerCase","filter","indexOf","row","Delete_default","manufacturer","description","_this$props2","isPopup","validateSearch","onKeyDown","Product","obj","editing","isSearch","onSaveHandler","onBrowseHandler","onClearHandler","keyCode","bind","role","product_search","vendorName","address","telephone","ntn","Vendor","vendor_search","clientName","Client","client_search","getPurchaseFields","onDelete","invoice","date","slice","options","getPur","PopupVendor","renderSearchBlockVendor","getVendorFields","validateVendor","vendorList","PopupProduct","renderSearchBlockProduct","getProductFields","inputProducts","handleChangeTab","validateProduct","productList","CustomTableCell","head","backgroundColor","palette","common","black","white","textAlign","padding","fontSize","footer","TableCell","Purchase","getRefNo","Date","getMonth","getDate","_ev$target2","toConsumableArray","calcValue","costPrice","sellingPrice","onAddRow","_this$props$store","checkQty","onRemoveRow","onDeleteRow","splice","i","interval","setInterval","clearInterval","_this3","disabled","popup_vendor","table","popup_product","onBlur","error","parseInt","toLocaleString","fab","reduce","sum","Add_default","purchase_search","width","overflowX","&:nth-of-type(odd)","background","default","getSaleFields","getSal","PopupClient","renderSearchBlockClient","getClientFields","validateClient","clientList","Sale","isMatched","match","popup_client","sale_CustomTableCell","onFocus","sale_search","getPaymentFields","refNo","getEntry","PopupInvoices","getInvoiceField","allBills","bills","realized","bill","pay","refId","z","acc","cur","detail","validateInvoice","detailList","Payment","componentDidMount","arr","Math","max","apply","balance","count","record","getBalance","amounts","invoiceValue","oldVendorId","validatePayment","oldDetails","balanceCheck","balanceDesc","payment_CustomTableCell","popup_invoices","payment_search","getDerivedStateFromProps","nextProps","prevState","selectControl","getRecoveryFields","Recovery","oldClient","validateSale","recovery_CustomTableCell","recovery_popup_invoices","recovery_search","routes","path","exact","main","product_product","vendor_vendor","client_client","purchase_purchase","sale_sale","payment_payment","recovery_recovery","Dashboard","header","Route","component","PositionedSnackbar","vertical","horizontal","Snackbar_default","anchorOrigin","open","autoHideDuration","onClose","ContentProps","aria-describedby","App","BrowserRouter","snackbar","location","hostname","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.65ac0689.chunk.js","sourcesContent":["const types = {\r\n    ONSNACK: 'ONSNACK',\r\n    \r\n    ONDIALOG: 'ONDIALOG',\r\n    \r\n    ONLOADER: 'ONLOADER',\r\n\r\n    SIGNUP: 'SIGNUP',\r\n    SIGNUPACCESS: 'SIGNUPACCESS',\r\n\r\n    SIGNIN: 'SIGNIN',\r\n    SIGNINSUCCESS: 'SIGNINSUCCESS',\r\n    SIGNINFAILURE: 'SIGNINFAILURE',\r\n\r\n    SIGNOUT: 'SIGNOUT',\r\n    SIGNOUTSUCCESS: 'SIGNOUTSUCCESS',\r\n    SIGNOUTFAILURE: 'SIGNOUTFAILURE',\r\n\r\n    ISLOGGEDIN: 'ISLOGGEDIN',\r\n    ISLOGGEDINSUCCESS: 'ISLOGGEDINSUCCESS',\r\n    ISLOGGEDINFAILURE: 'ISLOGGEDINFAILURE',\r\n\r\n    PRODUCTSAVE: 'PRODUCTSAVE',\r\n    PRODUCTSAVESUCCESS: 'PRODUCTSAVESUCCESS',\r\n    PRODUCTSAVEFAILURE: 'PRODUCTSAVEFAILURE',\r\n    \r\n    GETPRODUCT: 'GETPRODUCT',\r\n    GETPRODUCTSUCCESS: 'GETPRODUCTSUCCESS',\r\n    GETPRODUCTFAILURE: 'GETPRODUCTFAILURE',\r\n\r\n    UPDATEPRODUCT: 'UPDATEPRODUCT',\r\n    UPDATEPRODUCTSUCCESS: 'UPDATEPRODUCTSUCCESS',\r\n    UPDATEPRODUCTFAILURE: 'UPDATEPRODUCTFAILURE',\r\n    \r\n    DELETEPRODUCT: 'DELETEPRODUCT',\r\n    DELETEPRODUCTSUCCESS: 'DELETEPRODUCTSUCCESS',\r\n    DELETEPRODUCTFAILURE: 'DELETEPRODUCTFAILURE',\r\n\r\n    VENDORSAVE: 'VENDORSAVE',\r\n    VENDORSAVESUCCESS: 'VENDORSAVESUCCESS',\r\n    VENDORSAVEFAILURE: 'VENDORSAVEFAILURE',\r\n    \r\n    GETVENDOR: 'GETVENDOR',\r\n    GETVENDORSUCCESS: 'GETVENDORSUCCESS',\r\n    GETVENDORFAILURE: 'GETVENDORFAILURE',\r\n\r\n    UPDATEVENDOR: 'UPDATEVENDOR',\r\n    UPDATEVENDORSUCCESS: 'UPDATEVENDORSUCCESS',\r\n    UPDATEVENDORFAILURE: 'UPDATEVENDORFAILURE',\r\n    \r\n    DELETEVENDOR: 'DELETEVENDOR',\r\n    DELETEVENDORSUCCESS: 'DELETEVENDORSUCCESS',\r\n    DELETEVENDORFAILURE: 'DELETEVENDORFAILURE',\r\n\r\n    CLIENTSAVE: 'CLIENTSAVE',\r\n    CLIENTSAVESUCCESS: 'CLIENTSAVESUCCESS',\r\n    CLIENTSAVEFAILURE: 'CLIENTSAVEFAILURE',\r\n    \r\n    GETCLIENT: 'GETCLIENT',\r\n    GETCLIENTSUCCESS: 'GETCLIENTSUCCESS',\r\n    GETCLIENTFAILURE: 'GETCLIENTFAILURE',\r\n\r\n    UPDATECLIENT: 'UPDATECLIENT',\r\n    UPDATECLIENTSUCCESS: 'UPDATECLIENTSUCCESS',\r\n    UPDATECLIENTFAILURE: 'UPDATECLIENTFAILURE',\r\n    \r\n    DELETECLIENT: 'DELETECLIENT',\r\n    DELETECLIENTSUCCESS: 'DELETECLIENTSUCCESS',\r\n    DELETECLIENTFAILURE: 'DELETECLIENTFAILURE',\r\n    \r\n    PURCHASESAVE: 'PURCHASESAVE',\r\n    PURCHASESAVESUCCESS: 'PURCHASESAVESUCCESS',\r\n    PURCHASESAVEFAILURE: 'PURCHASESAVEFAILURE',\r\n    \r\n    GETPURCHASE: 'GETPURCHASE',\r\n    GETPURCHASESUCCESS: 'GETPURCHASESUCCESS',\r\n    GETPURCHASEFAILURE: 'GETPURCHASEFAILURE',\r\n    \r\n    UPDATEPURCHASE: 'UPDATEPURCHASE',\r\n    UPDATEPURCHASESUCCESS: 'UPDATEPURCHASESUCCESS',\r\n    UPDATEPURCHASEFAILURE: 'UPDATEPURCHASEFAILURE',\r\n    \r\n    DELETEPURCHASE: 'DELETEPURCHASE',\r\n    DELETEPURCHASESUCCESS: 'DELETEPURCHASESUCCESS',\r\n    DELETEPURCHASEFAILURE: 'DELETEPURCHASEFAILURE',\r\n    \r\n    SALESAVE: 'SALESAVE',\r\n    SALESAVESUCCESS: 'SALESAVESUCCESS',\r\n    SALESAVEFAILURE: 'SALESAVEFAILURE',\r\n    \r\n    GETSALE: 'GETSALE',\r\n    GETSALESUCCESS: 'GETSALESUCCESS',\r\n    GETSALEFAILURE: 'GETSALEFAILURE',\r\n    \r\n    UPDATESALE: 'UPDATESALE',\r\n    UPDATESALESUCCESS: 'UPDATESALESUCCESS',\r\n    UPDATESALEFAILURE: 'UPDATESALEFAILURE',\r\n    \r\n    DELETESALE: 'DELETESALE',\r\n    DELETESALESUCCESS: 'DELETESALESUCCESS',\r\n    DELETESALEFAILURE: 'DELETESALEFAILURE',\r\n    \r\n    PAYMENTSAVE: 'PAYMENTSAVE',\r\n    PAYMENTSAVESUCCESS: 'PAYMENTSAVESUCCESS',\r\n    PAYMENTSAVEFAILURE: 'PAYMENTSAVEFAILURE',\r\n    \r\n    GETPAYMENT: 'GETPAYMENT',\r\n    GETPAYMENTSUCCESS: 'GETPAYMENTSUCCESS',\r\n    GETPAYMENTFAILURE: 'GETPAYMENTFAILURE',\r\n    \r\n    UPDATEPAYMENT: 'UPDATEPAYMENT',\r\n    UPDATEPAYMENTSUCCESS: 'UPDATEPAYMENTSUCCESS',\r\n    UPDATEPAYMENTFAILURE: 'UPDATEPAYMENTFAILURE',\r\n    \r\n    DELETEPAYMENT: 'DELETEPAYMENT',\r\n    DELETEPAYMENTSUCCESS: 'DELETEPAYMENTSUCCESS',\r\n    DELETEPAYMENTFAILURE: 'DELETEPAYMENTFAILURE',\r\n    \r\n    RECOVERYSAVE: 'RECOVERYSAVE',\r\n    RECOVERYSAVESUCCESS: 'RECOVERYSAVESUCCESS',\r\n    RECOVERYSAVEFAILURE: 'RECOVERYSAVEFAILURE',\r\n    \r\n    GETRECOVERY: 'GETRECOVERY',\r\n    GETRECOVERYSUCCESS: 'GETRECOVERYSUCCESS',\r\n    GETRECOVERYFAILURE: 'GETRECOVERYFAILURE',\r\n    \r\n    UPDATERECOVERY: 'UPDATERECOVERY',\r\n    UPDATERECOVERYSUCCESS: 'UPDATERECOVERYSUCCESS',\r\n    UPDATERECOVERYFAILURE: 'UPDATERECOVERYFAILURE',\r\n    \r\n    DELETERECOVERY: 'DELETERECOVERY',\r\n    DELETERECOVERYSUCCESS: 'DELETERECOVERYSUCCESS',\r\n    DELETERECOVERYFAILURE: 'DELETERECOVERYFAILURE',\r\n};\r\n\r\nexport default types;","import types from '../constants';\r\n\r\nconst initialState = {\r\n\tprofile: {},\r\n\tproducts: [],\r\n\tvendors: [],\r\n\tclients: [],\r\n\tpurchases: [],\r\n\tsales: [],\r\n\tpayments: [],\r\n\trecoveries: [],\r\n\r\n\tisLoading: false,\r\n\r\n\tisSnackOpen: false,\r\n\tsnackMessage: '',\r\n\r\n\tisDialogOpen: false\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.ONSNACK: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: action.payload.snack,\r\n\t\t\t\tsnackMessage: action.payload.message\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ONDIALOG: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisDialogOpen: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ONLOADER: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.SIGNOUT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.SIGNOUTSUCCESS:\r\n\t\tcase types.SIGNOUTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisDialogOpen: false,\r\n\t\t\t\tprofile: {},\r\n\t\t\t\tproducts: [],\r\n\t\t\t\tvendors: [],\r\n\t\t\t\tclients: []\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ISLOGGEDIN: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ISLOGGEDINSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tprofile: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ISLOGGEDINFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEVENDORSUCCESS:\r\n\t\tcase types.DELETEVENDORSUCCESS:\r\n\t\tcase types.VENDORSAVESUCCESS:\r\n\t\tcase types.UPDATEPRODUCTSUCCESS:\r\n\t\tcase types.DELETEPRODUCTSUCCESS:\r\n\t\tcase types.PRODUCTSAVESUCCESS:\r\n\t\tcase types.CLIENTSAVESUCCESS:\r\n\t\tcase types.UPDATECLIENTSUCCESS:\r\n\t\tcase types.DELETECLIENTSUCCESS:\r\n\t\tcase types.PURCHASESAVESUCCESS:\r\n\t\tcase types.UPDATEPURCHASESUCCESS:\r\n\t\tcase types.DELETEPURCHASESUCCESS:\r\n\t\tcase types.SALESAVESUCCESS:\r\n\t\tcase types.UPDATESALESUCCESS:\r\n\t\tcase types.DELETESALESUCCESS:\r\n\t\tcase types.PAYMENTSAVESUCCESS:\r\n\t\tcase types.UPDATEPAYMENTSUCCESS:\r\n\t\tcase types.DELETEPAYMENTSUCCESS:\r\n\t\tcase types.RECOVERYSAVESUCCESS:\r\n\t\tcase types.UPDATERECOVERYSUCCESS: \r\n\t\tcase types.DELETERECOVERYSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEVENDORFAILURE:\r\n\t\tcase types.DELETEVENDORFAILURE:\r\n\t\tcase types.VENDORSAVEFAILURE:\r\n\t\tcase types.UPDATEPRODUCTFAILURE:\r\n\t\tcase types.DELETEPRODUCTFAILURE:\r\n\t\tcase types.PRODUCTSAVEFAILURE:\r\n\t\tcase types.CLIENTSAVEFAILURE:\r\n\t\tcase types.UPDATECLIENTFAILURE:\r\n\t\tcase types.DELETECLIENTFAILURE:\r\n\t\tcase types.PURCHASESAVEFAILURE:\r\n\t\tcase types.UPDATEPURCHASEFAILURE:\r\n\t\tcase types.DELETEPURCHASEFAILURE:\r\n\t\tcase types.SALESAVEFAILURE:\r\n\t\tcase types.UPDATESALEFAILURE:\r\n\t\tcase types.DELETESALEFAILURE:\r\n\t\tcase types.PAYMENTSAVEFAILURE: \r\n\t\tcase types.UPDATEPAYMENTFAILURE:\r\n\t\tcase types.DELETEPAYMENTFAILURE:\r\n\t\tcase types.RECOVERYSAVEFAILURE: \r\n\t\tcase types.UPDATERECOVERYFAILURE: \r\n\t\tcase types.DELETERECOVERYFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPRODUCTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproducts: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPRODUCTFAILURE: \r\n\t\tcase types.GETVENDORFAILURE: \r\n\t\tcase types.GETCLIENTFAILURE: \r\n\t\tcase types.GETPURCHASEFAILURE: \r\n\t\tcase types.GETSALEFAILURE: \r\n\t\tcase types.GETPAYMENTFAILURE: \r\n\t\tcase types.GETRECOVERYFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETVENDORSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tvendors: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETCLIENTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tclients: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPURCHASESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpurchases: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETSALESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsales: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPAYMENTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpayments: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETRECOVERYSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trecoveries: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","import types from '../constants';\r\n\r\nconst actions = {\r\n\tonSnackHandler: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ONSNACK,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tonDialog: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ONDIALOG,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tonLoader: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ONLOADER,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignUp: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNUP,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignUpAccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNUPACCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignIn: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNIN,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignInSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNINSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignInFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNINFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignOut: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNOUT\r\n\t\t};\r\n\t},\r\n\tsignOutSuccess: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNOUTSUCCESS\r\n\t\t};\r\n\t},\r\n\tsignOutFailure: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNOUTSUCCESS\r\n\t\t};\r\n\t},\r\n\tisLoggedIn: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.ISLOGGEDIN\r\n\t\t};\r\n\t},\r\n\tisLoggedInSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ISLOGGEDINSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tisLoggedInFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ISLOGGEDINFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tproductSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PRODUCTSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tproductSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PRODUCTSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tproductSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PRODUCTSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetProduct: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPRODUCT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetProductSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPRODUCTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetProductFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPRODUCTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateProduct: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPRODUCT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateProductSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPRODUCTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateProductFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPRODUCTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteProduct: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPRODUCT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteProductSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPRODUCTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteProductFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPRODUCTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tvendorSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.VENDORSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tvendorSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.VENDORSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tvendorSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.VENDORSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetVendor: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETVENDOR,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetVendorSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETVENDORSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetVendorFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETVENDORFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateVendor: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEVENDOR,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateVendorSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEVENDORSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateVendorFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEVENDORFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteVendor: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEVENDOR,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteVendorSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEVENDORSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteVendorFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEVENDORFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tclientSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.CLIENTSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tclientSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.CLIENTSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tclientSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.CLIENTSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetClient: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETCLIENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetClientSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETCLIENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetClientFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETCLIENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateClient: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATECLIENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateClientSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATECLIENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateClientFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATECLIENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteClient: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETECLIENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteClientSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETECLIENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteClientFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETECLIENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpurchaseSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PURCHASESAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpurchaseSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PURCHASESAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpurchaseSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PURCHASESAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPurchase: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPURCHASE\r\n\t\t};\r\n\t},\r\n\tgetPurchaseSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPURCHASESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPurchaseFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPURCHASEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePurchase: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPURCHASE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePurchaseSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPURCHASESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePurchaseFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPURCHASEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePurchase: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPURCHASE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePurchaseSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPURCHASESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePurchaseFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPURCHASEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsaleSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SALESAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsaleSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SALESAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsaleSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SALESAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetSale: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETSALE\r\n\t\t};\r\n\t},\r\n\tgetSaleSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETSALESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetSaleFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETSALEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateSale: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATESALE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateSaleSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATESALESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateSaleFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATESALEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteSale: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETESALE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteSaleSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETESALESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteSaleFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETESALEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpaymentSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PAYMENTSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpaymentSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PAYMENTSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpaymentSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PAYMENTSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPayment: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPAYMENT\r\n\t\t};\r\n\t},\r\n\tgetPaymentSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPAYMENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPaymentFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPAYMENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePayment: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPAYMENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePaymentSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPAYMENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePaymentFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPAYMENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePayment: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPAYMENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePaymentSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPAYMENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePaymentFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPAYMENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\trecoverySave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.RECOVERYSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\trecoverySaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.RECOVERYSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\trecoverySaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.RECOVERYSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetRecovery: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETRECOVERY\r\n\t\t};\r\n\t},\r\n\tgetRecoverySuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETRECOVERYSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetRecoveryFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETRECOVERYFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateRecovery: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATERECOVERY,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateRecoverySuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATERECOVERYSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateRecoveryFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATERECOVERYFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteRecovery: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETERECOVERY,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteRecoverySuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETERECOVERYSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteRecoveryFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETERECOVERYFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t}\r\n};\r\n\r\nexport default actions;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\n\r\nconst login = {\r\n\tsignUp: (action$) =>\r\n\t\taction$.ofType(types.SIGNUP).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/user/signup',\r\n\t\t\t\tbody: payload,\r\n\t\t\t\tasync: true,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((res) => {\r\n\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\tactions.onLoader(true),\r\n\t\t\t\t\t\tactions.onLoader(false),\r\n\t\t\t\t\t\tactions.signUpAccess(),\r\n\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: res.response })\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\tactions.signUpAccess(),\r\n\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t}),\r\n\tsignIn: (action$) =>\r\n\t\taction$.ofType(types.SIGNIN).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((x) => Boolean(x));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/user/signin',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((res) => {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.signInSuccess(),\r\n\t\t\t\t\t\t\tactions.isLoggedIn(),\r\n\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: res.response })\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.signInFailure(),\r\n\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\treturn Observable.of(\r\n\t\t\t\tactions.signInFailure(),\r\n\t\t\t\tactions.onSnackHandler({ snack: true, message: 'Please Enter Email & Password, in order to login' })\r\n\t\t\t);\r\n\t\t}),\r\n\tsignOut: (action$) =>\r\n\t\taction$.ofType(types.SIGNOUT).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/user/logout',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((res) => {\r\n\t\t\t\t\tif (res.response)\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.signOutSuccess(),\r\n\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: res.response })\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\tactions.signOutFailure(),\r\n\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: 'Something went wrong' })\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response)\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.signOutFailure(),\r\n\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\treturn Observable.of(actions.signOutFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t}),\r\n\tisLoggedIn: (action$) =>\r\n\t\taction$.ofType(types.ISLOGGEDIN).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/user',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((res) => {\r\n\t\t\t\t\tif (res.response.doc) return Observable.of(actions.isLoggedInSuccess(res.response.doc));\r\n\t\t\t\t\treturn Observable.of(actions.isLoggedInFailure('Token Expired'));\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tif (err.response) return Observable.of(actions.isLoggedInFailure(err.response));\r\n\t\t\t\t\treturn Observable.of(actions.isLoggedInFailure('Network Error'));\r\n\t\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default login;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\n\r\nconst product = {\r\n\tproductSave: (action$) =>\r\n\t\taction$.ofType(types.PRODUCTSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/product',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.productSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.productSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.productSaveFailure('Network Error')));\r\n\t\t\treturn Observable.of(actions.productSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetProduct: (action$) =>\r\n\t\taction$.ofType(types.GETPRODUCT).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/product',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.products.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getProductSuccess(resp.response.products));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(actions.getProductSuccess([]));\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.getProductFailure('Network Error')));\r\n\t\t}),\r\n\tupdateProduct: (action$) =>\r\n\t\taction$.ofType(types.UPDATEPRODUCT).switchMap(({ payload }) => {\r\n\t\t\tconst { purchases } = store.getState();\r\n\t\t\tconst productRecordFound = purchases.some((x) => x.products.find((y) => y.productId._id === payload._id));\r\n\t\t\tif (productRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.updateProductFailure(\"Transaction found for this product you can't edit it\")\r\n\t\t\t\t);\r\n\t\t\tconst isMatch = Object.values(payload).entries((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/product/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updateProductSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.updateProductFailure('Something went Wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.updateProductFailure('Network Failure')));\r\n\t\t\treturn Observable.of(actions.updateProductFailure('All fields are required'));\r\n\t\t}),\r\n\tdeleteProduct: (action$) =>\r\n\t\taction$.ofType(types.DELETEPRODUCT).switchMap(({ payload }) => {\r\n\t\t\tconst { purchases } = store.getState();\r\n\t\t\tconst productRecordFound = purchases.some((x) => x.products.find((y) => y.productId._id === payload));\r\n\t\t\tif (productRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.updateProductFailure(\"Transaction found for this product you can't delete it\")\r\n\t\t\t\t);\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/product/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response) return Observable.of(actions.deleteProductSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.deleteProductFailure('Something went Wrong'));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.deleteProductFailure('Network Failure')));\r\n\t\t})\r\n};\r\n\r\nexport default product;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\n\r\nconst vendor = {\r\n\tvendorSave: (action$) =>\r\n\t\taction$.ofType(types.VENDORSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/vendor',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.vendorSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.vendorSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.vendorSaveFailure('Network Error')));\r\n\t\t\treturn Observable.of(actions.vendorSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetVendor: (action$) =>\r\n\t\taction$.ofType(types.GETVENDOR).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/vendor',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.vendors.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getVendorSuccess(resp.response.vendors));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(actions.getVendorSuccess([]));\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.getVendorFailure('Network Error')));\r\n\t\t}),\r\n\tupdateVendor: (action$) =>\r\n\t\taction$.ofType(types.UPDATEVENDOR).switchMap(({ payload }) => {\r\n\t\t\tconst { purchases } = store.getState();\r\n\t\t\tconst vendorRecordFound = purchases.some((x) => x.vendorId._id === payload._id);\r\n\t\t\tif (vendorRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.updateVendorFailure(\"Transaction found for this vendor you can't edit it\")\r\n\t\t\t\t);\r\n\t\t\tconst isMatch = Object.values(payload).entries((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/vendor/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updateVendorSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.updateVendorFailure('Something went Wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.updateVendorFailure('Network Error')));\r\n\t\t\treturn Observable.of(actions.updateVendorFailure('All fields are required'));\r\n\t\t}),\r\n\tdeleteVendor: (action$) =>\r\n\t\taction$.ofType(types.DELETEVENDOR).switchMap(({ payload }) => {\r\n\t\t\tconst { purchases } = store.getState();\r\n\t\t\tconst vendorRecordFound = purchases.some((x) => x.vendorId._id === payload);\r\n\t\t\tif (vendorRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.updateVendorFailure(\"Transaction found for this vendor you can't delete it\")\r\n\t\t\t\t);\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/vendor/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response) return Observable.of(actions.deleteVendorSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.deleteVendorFailure('Something went Wrong'));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.deleteVendorFailure('Network Error')));\r\n\t\t})\r\n};\r\n\r\nexport default vendor;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\n\r\nconst client = {\r\n\tclientSave: (action$) =>\r\n\t\taction$.ofType(types.CLIENTSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/client',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.clientSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.clientSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.clientSaveFailure('Network Error')));\r\n\t\t\treturn Observable.of(actions.clientSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetClient: (action$) =>\r\n\t\taction$.ofType(types.GETCLIENT).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/client',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.clients.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getClientSuccess(resp.response.clients));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.getClientSuccess([])\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.getClientFailure('Network Error')));\r\n\t\t}),\r\n\tupdateClient: (action$) =>\r\n\t\taction$.ofType(types.UPDATECLIENT).switchMap(({ payload }) => {\r\n\t\t\tconst { sales } = store.getState();\r\n\t\t\tconst clientRecordFound = sales.some((x) => x.clientId._id === payload._id);\r\n\t\t\tif (clientRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.updateClientFailure(\"Transaction found for this client you can't edit it\")\r\n\t\t\t\t);\r\n\t\t\tconst isMatch = Object.values(payload).entries((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/client/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updateClientSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.updateClientFailure('Something went Wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.updateClientFailure('Network Failure')));\r\n\t\t\treturn Observable.of(actions.updateClientFailure('All fields are required'));\r\n\t\t}),\r\n\tdeleteClient: (action$) =>\r\n\t\taction$.ofType(types.DELETECLIENT).switchMap(({ payload }) => {\r\n\t\t\tconst { sales } = store.getState();\r\n\t\t\tconst clientRecordFound = sales.some((x) => x.clientId._id === payload);\r\n\t\t\tif (clientRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.deleteClientFailure(\"Transaction found for this client you can't delete it\")\r\n\t\t\t\t);\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/client/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\treturn Observable.of(actions.deleteClientSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.deleteClientFailure('Something went Wrong'));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.deleteClientFailure('Network Failure')));\r\n\t\t})\r\n};\r\n\r\nexport default client;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\n\r\nconst checkStock = () => {\r\n\tconst { purchases, sales, products } = store.getState();\r\n\tconst stockSum = {};\r\n\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\treturn stockSum;\r\n};\r\n\r\nconst purchase = {\r\n\tpurchaseSave: (action$) =>\r\n\t\taction$.ofType(types.PURCHASESAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\tif (isMatch)\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/purchase',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.purchaseSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.purchaseSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.purchaseSaveFailure('Network Error')));\r\n\t\t\treturn Observable.of(actions.purchaseSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetPurchase: (action$) =>\r\n\t\taction$.ofType(types.GETPURCHASE).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/purchase',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getPurchaseSuccess(resp.response));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\t\tactions.getPurchaseSuccess([])\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.getPurchaseFailure('Network Error')));\r\n\t\t}),\r\n\tupdatePurchase: (action$) =>\r\n\t\taction$.ofType(types.UPDATEPURCHASE).switchMap(({ payload }) => {\r\n\t\t\tconst { payments } = store.getState();\r\n\t\t\tconst purchaseRecordFound = payments.some((x) => x.details.find((y) => y.purchaseId === payload._id));\r\n\t\t\tif (purchaseRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.updatePurchaseFailure(\"Transaction found for this purchase you can't edit it\")\r\n\t\t\t\t);\r\n\t\t\tconst stock = checkStock();\r\n\t\t\tconst messages = [];\r\n\t\t\tpayload.products.forEach((value) => {\r\n\t\t\t\tif (value.oldProductId) {\r\n\t\t\t\t\tif (value.oldProductId === value.productId) {\r\n\t\t\t\t\t\tconst qty = +stock[value.oldProductId] - +value.oldQuantity + +value.quantity;\r\n\t\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\t\tmessages.push(`if Block: ${value.productName} will be negative by ${qty}`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst qty = +stock[value.oldProductId] - +value.oldQuantity;\r\n\t\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\t\tmessages.push(`else Block: ${value.productName} will be negative by ${qty}`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (messages.length) return Observable.of(actions.updatePurchaseFailure('Please rectify errors'));\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/purchase/${payload._id}`,\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: payload,\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updatePurchaseSuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.updatePurchaseFailure('something wrong'));\r\n\t\t\t});\r\n\t\t}),\r\n\tdeletePurchase: (action$) =>\r\n\t\taction$.ofType(types.DELETEPURCHASE).switchMap(({ payload }) => {\r\n\t\t\tconst { payments } = store.getState();\r\n\t\t\tconst purchaseRecordFound = payments.some((x) => x.details.find((y) => y.purchaseId === payload));\r\n\t\t\tif (purchaseRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.deletePurchaseFailure(\"Transaction found for this purchase you can't delete it\")\r\n\t\t\t\t);\r\n\t\t\tconst stock = checkStock();\r\n\t\t\tconst { products } = store.getState().purchases.find((x) => x._id === payload);\r\n\t\t\tconst messages = [];\r\n\t\t\tproducts.forEach((value) => {\r\n\t\t\t\tconst qty = +stock[value.productId._id] - +value.quantity;\r\n\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t`${value.productId.productName} will be negative by ${stock[value.productId._id] -\r\n\t\t\t\t\t\t\tvalue.quantity}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (messages.length) return Observable.of(actions.deletePurchaseFailure(messages.join(', ')));\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/purchase/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\treturn Observable.of(actions.deletePurchaseSuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.deletePurchaseFailure('something wrong'));\r\n\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default purchase;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\n\r\nconst checkStock = () => {\r\n\tconst { purchases, sales, products } = store.getState();\r\n\tconst stockSum = {};\r\n\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\treturn stockSum;\r\n};\r\n\r\nconst sale = {\r\n\tsaleSave: (action$) =>\r\n\t\taction$.ofType(types.SALESAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.products.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y) || y === false));\r\n\t\t\t});\r\n\t\t\tObject.values(payload).forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y)));\r\n\t\t\t});\r\n\t\t\tconst messages = [];\r\n\t\t\tconst stock = checkStock();\r\n\t\t\tpayload.products.forEach((value) => {\r\n\t\t\t\tif (stock[value.productId] < value.quantity) {\r\n\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t`${value.productName} will be negative by ${stock[value.productId] - value.quantity}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (messages.length) return Observable.of(actions.saleSaveFailure('Please resolve errors'));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/sale',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (resp.response)\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.saleSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.saleSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.saleSaveFailure('Network Error')));\r\n\t\t\treturn Observable.of(actions.saleSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetSale: (action$) =>\r\n\t\taction$.ofType(types.GETSALE).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/sale',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.length) {\r\n\t\t\t\t\t\treturn Observable.of(actions.getSaleSuccess(resp.response));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(actions.getSaleSuccess([]));\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.getSaleFailure('Something went wrong')));\r\n\t\t}),\r\n\tupdateSale: (action$) =>\r\n\t\taction$.ofType(types.UPDATESALE).switchMap(({ payload }) => {\r\n\t\t\tconst { recoveries } = store.getState();\r\n\t\t\tconst saleRecordFound = recoveries.some((x) => x.details.find((y) => y.saleId === payload._id));\r\n\t\t\tif (saleRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.updateSaleFailure(\"Transaction found for this sale you can't edit it\")\r\n\t\t\t\t);\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.products.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y) || y === false));\r\n\t\t\t});\r\n\t\t\tObject.values(payload).forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y)));\r\n\t\t\t});\r\n\t\t\tconst messages = [];\r\n\t\t\tconst stock = checkStock();\r\n\t\t\tpayload.products.forEach((value) => {\r\n\t\t\t\tif (value.oldProductId === value.productId) {\r\n\t\t\t\t\tconst qty = stock[value.oldProductId] + value.oldQuantity - value.quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t\t`${value.productName} will be negative by ${stock[value.productId] - value.quantity}`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst qty = stock[value.productId] - value.quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t\t`${value.productName} will be negative by ${stock[value.productId] - value.quantity}`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (messages.length) return Observable.of(actions.updateSaleFailure('Please resolve errors'));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/sale/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updateSaleSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.updateSaleFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.updateSaleFailure('Network Error')));\r\n\t\t\treturn Observable.of(actions.updateSaleFailure('All fields are required'));\r\n\t\t}),\r\n\tdeleteSale: (action$) =>\r\n\t\taction$.ofType(types.DELETESALE).switchMap(({ payload }) => {\r\n\t\t\tconst { recoveries } = store.getState();\r\n\t\t\tconst saleRecordFound = recoveries.some((x) => x.details.find((y) => y.saleId === payload));\r\n\t\t\tif (saleRecordFound)\r\n\t\t\t\treturn Observable.of(\r\n\t\t\t\t\tactions.deleteSaleFailure(\"Transaction found for this sale you can't delete it\")\r\n\t\t\t\t);\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/sale/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string') return Observable.of(actions.deleteSaleSuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.deleteSaleFailure('something wrong'));\r\n\t\t\t}).catch(() => Observable.of(actions.deleteSaleFailure('Network Error')));\r\n\t\t})\r\n};\r\n\r\nexport default sale;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\n\r\nconst payment = {\r\n\tpaymentSave: (action$) =>\r\n\t\taction$.ofType(types.PAYMENTSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t});\r\n\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/payment',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.paymentSaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.paymentSaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.paymentSaveFailure('Network Error')));\r\n\t\t\treturn Observable.of(actions.paymentSaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetPayment: (action$) =>\r\n\t\taction$.ofType(types.GETPAYMENT).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/payment',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.length) return Observable.of(actions.getPaymentSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.getPaymentSuccess([]));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.getPaymentFailure('Network Error')));\r\n\t\t}),\r\n\tupdatePayment: (action$) =>\r\n\t\taction$.ofType(types.UPDATEPAYMENT).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t});\r\n\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/payment/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t}).switchMap((resp) => {\r\n\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updatePaymentSuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.updatePaymentFailure('something wrong'));\r\n\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.updatePaymentFailure('All Fields are Required'));\r\n\t\t}),\r\n\tdeletePayment: (action$) =>\r\n\t\taction$.ofType(types.DELETEPAYMENT).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/payment/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\treturn Observable.of(actions.deletePaymentSuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.deletePaymentFailure('something wrong'));\r\n\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default payment;\r\n","import 'rxjs/Rx';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\n\r\nconst recovery = {\r\n\trecoverySave: (action$) =>\r\n\t\taction$.ofType(types.RECOVERYSAVE).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t});\r\n\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: '/recovery',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t})\r\n\t\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.recoverySaveSuccess(resp.response));\r\n\t\t\t\t\t\treturn Observable.of(actions.recoverySaveFailure('Something went wrong'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => Observable.of(actions.recoverySaveFailure('Network Error')));\r\n\t\t\treturn Observable.of(actions.recoverySaveFailure('All fields are required'));\r\n\t\t}),\r\n\tgetRecovery: (action$) =>\r\n\t\taction$.ofType(types.GETRECOVERY).switchMap(() => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: '/recovery',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t})\r\n\t\t\t\t.switchMap((resp) => {\r\n\t\t\t\t\tif (resp.response.length) return Observable.of(actions.getRecoverySuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.getRecoverySuccess([]));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => Observable.of(actions.getRecoveryFailure('Network Error')));\r\n\t\t}),\r\n\tupdateRecovery: (action$) =>\r\n\t\taction$.ofType(types.UPDATERECOVERY).switchMap(({ payload }) => {\r\n\t\t\tconst isFilled = [];\r\n\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t});\r\n\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\tif (isFilled.every((val) => Boolean(val)))\r\n\t\t\t\treturn Observable.ajax({\r\n\t\t\t\t\turl: `/recovery/${payload._id}`,\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\tbody: payload,\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t}).switchMap((resp) => {\r\n\t\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\t\treturn Observable.of(actions.onLoader(true), actions.updateRecoverySuccess(resp.response));\r\n\t\t\t\t\treturn Observable.of(actions.updateRecoveryFailure('something wrong'));\r\n\t\t\t\t});\r\n\t\t\treturn Observable.of(actions.updateRecoveryFailure('All Fields are Required'));\r\n\t\t}),\r\n\tdeleteRecovery: (action$) =>\r\n\t\taction$.ofType(types.DELETERECOVERY).switchMap(({ payload }) => {\r\n\t\t\treturn Observable.ajax({\r\n\t\t\t\turl: `/recovery/${payload}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tasync: true,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\t\tresponseType: 'json'\r\n\t\t\t}).switchMap((resp) => {\r\n\t\t\t\tif (typeof resp.response === 'string')\r\n\t\t\t\t\treturn Observable.of(actions.deleteRecoverySuccess(resp.response));\r\n\t\t\t\treturn Observable.of(actions.deleteRecoveryFailure('something wrong'));\r\n\t\t\t});\r\n\t\t})\r\n};\r\n\r\nexport default recovery;\r\n","import { combineEpics } from 'redux-observable';\r\n\r\nimport login from './login';\r\nimport product from './product';\r\nimport vendor from './vendor';\r\nimport client from './client';\r\nimport purchase from './purchase';\r\nimport sale from './sale';\r\nimport payment from './payment';\r\nimport recovery from './recovery';\r\n\r\nexport default combineEpics(\r\n    login.signUp,\r\n    login.signIn,\r\n    login.signOut,\r\n    login.isLoggedIn,\r\n\r\n    product.productSave,\r\n    product.getProduct,\r\n    product.updateProduct,\r\n    product.deleteProduct,\r\n\r\n    vendor.vendorSave,\r\n    vendor.getVendor,\r\n    vendor.updateVendor,\r\n    vendor.deleteVendor,\r\n\r\n    client.clientSave,\r\n    client.getClient,\r\n    client.updateClient,\r\n    client.deleteClient,\r\n\r\n    purchase.purchaseSave,\r\n    purchase.getPurchase,\r\n    purchase.updatePurchase,\r\n    purchase.deletePurchase,\r\n\r\n    sale.saleSave,\r\n    sale.getSale,\r\n    sale.updateSale,\r\n    sale.deleteSale,\r\n\r\n    payment.paymentSave,\r\n    payment.getPayment,\r\n    payment.updatePayment,\r\n    payment.deletePayment,\r\n\r\n    recovery.recoverySave,\r\n    recovery.getRecovery,\r\n    recovery.updateRecovery,\r\n    recovery.deleteRecovery\r\n);","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { createEpicMiddleware } from 'redux-observable';\r\n\r\nimport reducer from './reducer';\r\nimport epics from './epics';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst epicMiddleware = createEpicMiddleware();\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    composeEnhancers(\r\n        applyMiddleware(epicMiddleware)\r\n    )\r\n);\r\n\r\nepicMiddleware.run(epics)\r\n\r\n// store.subscribe(() => console.log(store.getState()));\r\n\r\nexport default store;","import React, { Component } from 'react';\r\nimport {\r\n    Paper, Typography, TextField,\r\n    Button\r\n} from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../../store/actions';\r\nimport '../../App.css';\r\n\r\nclass SignIn extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: 'shahan@domain.com',\r\n            password: '123abc456',\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.store.profile.email) return this.props.history.push('/dashboard');\r\n        return this.props.history.push('/');\r\n    }\r\n    handleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    onSignInHandler = () => {\r\n        const { email, password } = this.state;\r\n        this.props.signIn({ email, password });\r\n    }\r\n    gotoSignUp = () => {\r\n        this.props.history.push('/signup');\r\n    }\r\n    render() {\r\n        const { email, password } = this.state;\r\n        return (\r\n            <div className='paper-style'>\r\n                <Paper\r\n                    elevation={4}\r\n                    className='inner-paper-styling'\r\n                >\r\n                    <Typography\r\n                        align='center'\r\n                        color='primary'\r\n                        variant='h5'\r\n                        gutterBottom={true}\r\n                    >\r\n                        <span className='outline-it'>Login Portal</span>\r\n                    </Typography>\r\n                    <Typography\r\n                        align='center'\r\n                        color='textSecondary'\r\n                        variant='h6'\r\n                    >\r\n                        Sign In\r\n                    </Typography>\r\n                    <TextField\r\n                        autoFocus\r\n                        type='text'\r\n                        name='email' value={email}\r\n                        label='Email'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='password'\r\n                        name='password' value={password}\r\n                        label='Password'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <Button\r\n                        variant='contained'\r\n                        fullWidth={true}\r\n                        children='Sign In'\r\n                        color='primary'\r\n                        size='large'\r\n                        onClick={this.onSignInHandler}\r\n                    /><hr />\r\n                    <div className='ask-signup'>\r\n                        <Typography\r\n                            align='center'\r\n                            children=\"Don't have an Account ? \"\r\n                            color='textSecondary'\r\n                        />\r\n                        <Button\r\n                            variant='outlined'\r\n                            children='Create Account Now'\r\n                            color='secondary'\r\n                            size='medium'\r\n                            onClick={this.gotoSignUp}\r\n                        />\r\n                    </div>\r\n                </Paper>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        signIn: (email, password) => dispatch(actions.signIn(email, password)),\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    formControl: {\r\n        marginTop: theme.spacing.unit * 0.50,\r\n        marginBottom: theme.spacing.unit * 0.50,\r\n        minWidth: '100%',\r\n    },\r\n});\r\n\r\nclass NativeSelects extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: props.value,\r\n            labelWidth: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            labelWidth: ReactDOM.findDOMNode(this.InputLabelRef).offsetWidth,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { classes, range, criteria, theLabel, theField, toChange } = this.props;\r\n        return (\r\n            <div className={classes.root}>\r\n                <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                    <InputLabel\r\n                        ref={ref => {\r\n                            this.InputLabelRef = ref;\r\n                        }}\r\n                        htmlFor=\"values-for-select-list\"\r\n                    >\r\n                        {theLabel}\r\n                    </InputLabel>\r\n                    <Select\r\n                        native\r\n                        value={theField}\r\n                        onChange={toChange}\r\n                        input={\r\n                            <OutlinedInput\r\n                                name={criteria}\r\n                                labelWidth={this.state.labelWidth}\r\n                                id=\"values-for-select-list\"\r\n                            />\r\n                        }\r\n                    >\r\n                        <option value=\"\" />\r\n                        {range.map((val, ind) => {\r\n                            return (\r\n                                <option key={ind} value={val}>{val}</option>\r\n                            );\r\n                        })}\r\n                    </Select>\r\n                </FormControl>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nNativeSelects.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(NativeSelects);","import React, { Component } from 'react';\r\nimport {\r\n    Paper, Typography, TextField,\r\n    Button\r\n} from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../../store/actions';\r\nimport NativeSelects from '../selects';\r\nimport '../../App.css';\r\n\r\nclass SignUp extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: 'shahan@domain.com',\r\n            password: '123abc456',\r\n            confirmPassword: '123abc456',\r\n            mobile: '0336-2122588',\r\n            dob: '1986-01-29',\r\n            first: 'Shahan',\r\n            last: 'Ahmed Khan',\r\n            gender: 'Male',\r\n            maritalStatus: 'Married',\r\n            cnic: '42301-8964999-9',\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.store.profile.email) return this.props.history.push('/dashboard');\r\n    }\r\n    handleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    gotoSignIn = () => {\r\n        this.props.history.push('/');\r\n    }\r\n    onSignUpHandler = () => {\r\n        const isFilled = Object.values(this.state).every(x => Boolean(x) === true);\r\n        if (isFilled) return this.props.signUp(this.state);\r\n        return this.props.onSnackHandler(true, 'All Fields are required');\r\n    }\r\n    render() {\r\n        const {\r\n            email, password,\r\n            confirmPassword, mobile, dob, first, last, gender, cnic, maritalStatus\r\n        } = this.state;\r\n        return (\r\n            <div className='paper-style'>\r\n                <Paper\r\n                    elevation={4}\r\n                    className='inner-paper-styling'\r\n                >\r\n                    <Typography\r\n                        align='center'\r\n                        color='primary'\r\n                        variant='h5'\r\n                        gutterBottom={true}\r\n                    >\r\n                        <span className='outline-it'>Login Portal</span>\r\n                    </Typography>\r\n                    <Typography\r\n                        align='center'\r\n                        color='textSecondary'\r\n                        variant='h6'\r\n                    >\r\n                        Sign Up Form\r\n                    </Typography>\r\n                    <TextField\r\n                        autoFocus\r\n                        type='text'\r\n                        name='email' value={email}\r\n                        label='Email'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='password'\r\n                        name='password' value={password}\r\n                        label='Password'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='password'\r\n                        name='confirmPassword' value={confirmPassword}\r\n                        label='Confirm Password'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='mobile' value={mobile}\r\n                        label='Mobile No.'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                        style={{ marginBottom: 15 }}\r\n                        helperText={'example: 0300-1234567'}\r\n                    />\r\n                    <TextField\r\n                        type='date'\r\n                        name='dob' value={dob}\r\n                        label='Date of Birth'\r\n                        InputLabelProps={{ shrink: true }}\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='first' value={first}\r\n                        label='First Name'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='last' value={last}\r\n                        label='Last Name'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <NativeSelects\r\n                        range={['Male', 'Female']}\r\n                        theLabel='Gender'\r\n                        criteria='gender'\r\n                        theField={gender}\r\n                        toChange={this.handleChange}\r\n                    />\r\n                    <NativeSelects\r\n                        range={['Married', 'Single']}\r\n                        theLabel='Marital Status'\r\n                        criteria='maritalStatus'\r\n                        theField={maritalStatus}\r\n                        toChange={this.handleChange}\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='cnic' value={cnic}\r\n                        label='CNIC'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                        style={{ marginBottom: 15 }}\r\n                        helperText={'example: 12345-1234567-8'}\r\n                    />\r\n                    <Button\r\n                        variant='contained'\r\n                        fullWidth={true}\r\n                        children='Sign Up'\r\n                        color='primary'\r\n                        size='large'\r\n                        onClick={this.onSignUpHandler}\r\n                    /><hr />\r\n                    <div className='ask-signup'>\r\n                        <Typography\r\n                            align='center'\r\n                            children=\"Already have an Account ? \"\r\n                            color='textSecondary'\r\n                        />\r\n                        <Button\r\n                            variant='outlined'\r\n                            children='Sign In Now'\r\n                            color='secondary'\r\n                            size='medium'\r\n                            onClick={this.gotoSignIn}\r\n                        />\r\n                    </div>\r\n                </Paper>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        signUp: data => dispatch(actions.signUp(data)),\r\n        onSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../store/actions';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n          <Link\r\n            to='/dashboard'\r\n            className=\"navbar-brand\"\r\n            children='Dashboard'\r\n          />\r\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarsExample09\" aria-controls=\"navbarsExample09\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarsExample09\">\r\n            <ul className=\"navbar-nav mr-auto\">\r\n              <li className=\"nav-item dropdown\">\r\n                <Link\r\n                  to='/dashboard'\r\n                  children='Main'\r\n                  id=\"dropdown09\"\r\n                  className=\"nav-link active dropdown-toggle\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                />\r\n                <div className=\"dropdown-menu\" aria-labelledby=\"dropdown09\">\r\n                  <Link\r\n                    to='/dashboard/product'\r\n                    children='Product'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/vendor'\r\n                    children='Vendor'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/client'\r\n                    children='Client'\r\n                    className='dropdown-item'\r\n                  />\r\n                </div>\r\n              </li>\r\n              <li className=\"nav-item dropdown\">\r\n                <Link\r\n                  to='/dashboard'\r\n                  children='Transaction'\r\n                  id=\"dropdown09\"\r\n                  className=\"nav-link active dropdown-toggle\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                />\r\n                <div className=\"dropdown-menu\" aria-labelledby=\"dropdown09\">\r\n                  <Link\r\n                    to='/dashboard/purchase'\r\n                    children='Purchase Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/sale'\r\n                    children='Sale Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/payment'\r\n                    children='Payment Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/recovery'\r\n                    children='Recovery Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                </div>\r\n              </li>\r\n            </ul>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-primary my-2 my-sm-0\"\r\n              onClick={() => this.props.signOut()}\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signOut: () => dispatch(actions.signOut())\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Header);","import Pusher from 'pusher-js';\r\n\r\nconst pusher = new Pusher('f9126fc42e7cc112a924', {\r\n    cluster: 'ap2',\r\n    forceTLS: true\r\n});\r\nconst channel = pusher.subscribe('inventory');\r\n\r\nexport default channel;","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState(() => {\r\n\t\t\treturn {\r\n\t\t\t\t[name]: value\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getRow, deleteProduct, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst products = store.products.filter((val) => val.productName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{products.length ? (\r\n\t\t\t\t\tproducts.map((row, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Edit\" onClick={() => getRow(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteProduct(row._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Product: {row.productName}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Manufacturer: {row.manufacturer}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Description: {row.description}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { search } = this.state;\r\n\t\tconst { isPopup, validateSearch } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Product Name...\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{isPopup && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Product extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tproductName: '',\r\n\t\t\tmanufacturer: '',\r\n\t\t\tdescription: '',\r\n\t\t\tediting: false,\r\n\t\t\tisPopup: false,\r\n\t\t\tisSearch: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('products', () => {\r\n\t\t\tthis.props.getProduct();\r\n\t\t});\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\tgetRow = (id) => {\r\n\t\tconst obj = this.props.store.products.find((val) => val._id === id);\r\n\t\tconst { _id, productName, manufacturer, description } = obj;\r\n\t\tthis.setState({\r\n\t\t\t_id,\r\n\t\t\tproductName,\r\n\t\t\tmanufacturer,\r\n\t\t\tdescription,\r\n\t\t\tediting: true,\r\n\t\t\tisPopup: false,\r\n\t\t\tisSearch: false\r\n\t\t});\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, productName, manufacturer, description, editing } = this.state;\r\n\t\tif (!editing) return this.props.productSave({ productName, manufacturer, description });\r\n\t\treturn this.props.updateProduct({ _id, productName, manufacturer, description });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tisSearch: !state.isSearch\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tproductName: '',\r\n\t\t\tmanufacturer: '',\r\n\t\t\tdescription: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ isPopup: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ isPopup: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { productName, manufacturer, description } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"the-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Product Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Product Name\"\r\n\t\t\t\t\t\tname=\"productName\"\r\n\t\t\t\t\t\tvalue={productName}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Manufacturer\"\r\n\t\t\t\t\t\tname=\"manufacturer\"\r\n\t\t\t\t\t\tvalue={manufacturer}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={this.state.editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.isSearch && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tgetRow={this.getRow}\r\n\t\t\t\t\t\t\tisPopup={this.state.isPopup}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tdeleteProduct={this.props.deleteProduct}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tproductSave: (data) => dispatch(actions.productSave(data)),\r\n\t\tupdateProduct: (data) => dispatch(actions.updateProduct(data)),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tdeleteProduct: (id) => dispatch(actions.deleteProduct(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getRow, store, deleteVendor } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst vendors = store.vendors.filter((val) => val.vendorName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{vendors.length ? (\r\n\t\t\t\t\tvendors.map((row, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Edit\" onClick={() => getRow(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteVendor(row._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Vendor: {row.vendorName}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {row.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {row.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {row.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {row.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { search } = this.state;\r\n\t\tconst { isPopup, validateSearch } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Vendor Name...\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{isPopup && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Vendor extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tvendorName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('vendors', () => {\r\n\t\t\tthis.props.getVendor();\r\n\t\t});\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\tgetRow = (id) => {\r\n\t\tconst obj = this.props.store.vendors.find((val) => val._id === id);\r\n\t\tconst { _id, vendorName, address, telephone, email, ntn } = obj;\r\n\t\tthis.setState({\r\n\t\t\tediting: true,\r\n\t\t\t_id,\r\n\t\t\tvendorName,\r\n\t\t\taddress,\r\n\t\t\ttelephone,\r\n\t\t\temail,\r\n\t\t\tntn,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, vendorName, address, telephone, email, ntn, editing } = this.state;\r\n\t\tif (!editing) return this.props.vendorSave({ vendorName, address, telephone, email, ntn });\r\n\t\treturn this.props.updateVendor({ _id, vendorName, address, telephone, email, ntn });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tisSearch: !state.isSearch\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tvendorName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ isPopup: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ isPopup: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { vendorName, address, telephone, email, ntn } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"the-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Vendor Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Vendor Name\"\r\n\t\t\t\t\t\tname=\"vendorName\"\r\n\t\t\t\t\t\tvalue={vendorName}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Address\"\r\n\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Telephone\"\r\n\t\t\t\t\t\tname=\"telephone\"\r\n\t\t\t\t\t\tvalue={telephone}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"National Tax Number\"\r\n\t\t\t\t\t\tname=\"ntn\"\r\n\t\t\t\t\t\tvalue={ntn}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={this.state.editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.isSearch && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tgetRow={this.getRow}\r\n\t\t\t\t\t\t\tisPopup={this.state.isPopup}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tdeleteVendor={this.props.deleteVendor}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tvendorSave: (data) => dispatch(actions.vendorSave(data)),\r\n\t\tupdateVendor: (data) => dispatch(actions.updateVendor(data)),\r\n\t\tgetVendor: () => dispatch(actions.getVendor()),\r\n\t\tdeleteVendor: (id) => dispatch(actions.deleteVendor(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Vendor);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getRow, store, deleteClient } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst clients = store.clients.filter((val) => val.clientName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{clients.length ? (\r\n\t\t\t\t\tclients.map((row, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Edit\" onClick={() => getRow(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteClient(row._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Client: {row.clientName}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {row.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {row.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {row.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {row.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { search } = this.state;\r\n\t\tconst { isPopup, validateSearch } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Client Name...\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{isPopup && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Client extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tclientName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('clients', () => {\r\n\t\t\tthis.props.getClient();\r\n\t\t});\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\tgetRow = (id) => {\r\n\t\tconst obj = this.props.store.clients.find((val) => val._id === id);\r\n\t\tconst { _id, clientName, address, telephone, email, ntn } = obj;\r\n\t\tthis.setState({\r\n\t\t\tediting: true,\r\n\t\t\t_id,\r\n\t\t\tclientName,\r\n\t\t\taddress,\r\n\t\t\ttelephone,\r\n\t\t\temail,\r\n\t\t\tntn,\r\n\t\t\tisPopup: false,\r\n\t\t\tisSearch: false\r\n\t\t});\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, clientName, address, telephone, email, ntn, editing } = this.state;\r\n\t\tif (!editing) return this.props.clientSave({ clientName, address, telephone, email, ntn });\r\n\t\treturn this.props.updateClient({ _id, clientName, address, telephone, email, ntn });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tisSearch: !state.isSearch\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tclientName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ isPopup: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ isPopup: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { clientName, address, telephone, email, ntn } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"the-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Client Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Client Name\"\r\n\t\t\t\t\t\tname=\"clientName\"\r\n\t\t\t\t\t\tvalue={clientName}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Address\"\r\n\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Telephone\"\r\n\t\t\t\t\t\tname=\"telephone\"\r\n\t\t\t\t\t\tvalue={telephone}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"National Tax Number\"\r\n\t\t\t\t\t\tname=\"ntn\"\r\n\t\t\t\t\t\tvalue={ntn}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={this.state.editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.isSearch && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tgetRow={this.getRow}\r\n\t\t\t\t\t\t\tisPopup={this.state.isPopup}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tdeleteClient={this.props.deleteClient}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tclientSave: (data) => dispatch(actions.clientSave(data)),\r\n\t\tupdateClient: (data) => dispatch(actions.updateClient(data)),\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tdeleteClient: (id) => dispatch(actions.deleteClient(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Client);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getPurchaseFields, store, onDelete } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst purchases = store.purchases.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{purchases.length ? (\r\n\t\t\t\t\tpurchases.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getPurchaseFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Invoice: {val.invoice}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Vendor: {val.vendorId.vendorName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getPur, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Invoice #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getPur && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupVendor extends Component {\r\n\trenderSearchBlockVendor = () => {\r\n\t\tconst { vendorName, store, getVendorFields } = this.props;\r\n\t\tconst search = vendorName.toLowerCase();\r\n\t\tconst vendors = store.vendors.filter((val) => val.vendorName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{vendors.length ? (\r\n\t\t\t\t\tvendors.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getVendorFields(val._id, val.vendorName)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{val.vendorName}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {val.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {val.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {val.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {val.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { vendorName, validateVendor, vendorList, handleChange } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tlabel=\"Vendor\"\r\n\t\t\t\t\tname=\"vendorName\"\r\n\t\t\t\t\tvalue={vendorName}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={validateVendor}\r\n\t\t\t\t/>\r\n\t\t\t\t{vendorList && this.renderSearchBlockVendor()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupVendor);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupProduct extends Component {\r\n\trenderSearchBlockProduct = () => {\r\n\t\tconst { productName, getProductFields, store } = this.props;\r\n\t\tconst search = productName.toLowerCase();\r\n\t\tconst products = store.products.filter((val) => val.productName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{products.length ? (\r\n\t\t\t\t\tproducts.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getProductFields(val._id, val.productName)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{val.productName}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Manufacturer: {val.manufacturer}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Description: {val.description}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { productName, ind, inputProducts, handleChangeTab, validateProduct, vendorList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tname=\"productName\"\r\n\t\t\t\t\tvalue={productName}\r\n\t\t\t\t\tonChange={(ev) => handleChangeTab(ev, ind)}\r\n\t\t\t\t\tonKeyDown={(ev) => validateProduct(ev, ind)}\r\n\t\t\t\t/>\r\n\t\t\t\t{!vendorList && inputProducts[ind].productList && this.renderSearchBlockProduct()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupProduct);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupVendor from '../popup-vendor';\r\nimport PopupProduct from '../popup-product';\r\nimport actions from '../../../store/actions';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t}\r\n});\r\n\r\nclass Purchase extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tcostPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tproductList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tediting: false,\r\n\t\t\tvendorList: false,\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetPur: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('sales', () => {\r\n\t\t\tthis.props.getSale();\r\n\t\t});\r\n\t\tchannel.bind('purchases', () => {\r\n\t\t\tthis.props.getPurchase();\r\n\t\t});\r\n\t\tchannel.bind('products', () => {\r\n\t\t\tthis.props.getProduct();\r\n\t\t});\r\n\t\tchannel.bind('vendors', () => {\r\n\t\t\tthis.props.getVendor();\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t\tthis.interval = setInterval(() => this.getRefNo(), 3000);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.interval);\r\n\t}\r\n\tgetRefNo = () => {\r\n\t\tconst x = new Date();\r\n\t\tlet date = '2019-';\r\n\t\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\t\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\t\tif (!this.props.store.purchases.length) return this.setState({ invoice: 1, date });\r\n\t\treturn this.setState({ invoice: this.props.store.purchases.length + 1, date });\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (name === 'quantity' || name === 'costPrice') {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t\tthis.calcValue(ind);\r\n\t\t} else {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t}\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tcalcValue = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tinputProducts[ind].value = inputProducts[ind].quantity * inputProducts[ind].costPrice;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, invoice, vendorId, inputProducts, editing } = this.state;\r\n\t\tif (!editing) return this.props.purchaseSave({ date, invoice, vendorId, products: inputProducts });\r\n\t\treturn this.props.updatePurchase({ _id, date, invoice, vendorId, products: inputProducts });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tcostPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tsellingPrice: ''\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\toptions: false,\r\n\t\t\tediting: false\r\n\t\t});\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst isFilled = [];\r\n\t\tinputProducts.forEach((x) => {\r\n\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t});\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tinputProducts.push({\r\n\t\t\t\tproductId: '',\r\n\t\t\t\tproductName: '',\r\n\t\t\t\tquantity: '0',\r\n\t\t\t\tcostPrice: '0',\r\n\t\t\t\tvalue: '0',\r\n\t\t\t\tsellingPrice: '0',\r\n\t\t\t\tproductList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ inputProducts });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row first');\r\n\t};\r\n\tcheckStock = () => {\r\n\t\tconst { purchases, sales, products } = this.props.store;\r\n\t\tconst stockSum = {};\r\n\t\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\t\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\t\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\t\treturn stockSum;\r\n\t};\r\n\tcheckQty = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst products = this.props.store.products;\r\n\t\tif (this.state.editing) {\r\n\t\t\tconst stock = this.checkStock();\r\n\t\t\tif (inputProducts[ind].oldProductId) {\r\n\t\t\t\tif (inputProducts[ind].oldProductId === inputProducts[ind].productId) {\r\n\t\t\t\t\tconst qty =\r\n\t\t\t\t\t\t+stock[inputProducts[ind].oldProductId] -\r\n\t\t\t\t\t\t+inputProducts[ind].oldQuantity +\r\n\t\t\t\t\t\t+inputProducts[ind].quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tconst name = products.find((x) => x._id === inputProducts[ind].oldProductId).productName;\r\n\t\t\t\t\t\tinputProducts[ind].err = `${name} will be negative by ${qty}`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst qty = +stock[inputProducts[ind].oldProductId] - +inputProducts[ind].oldQuantity;\r\n\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\tconst name = products.find((x) => x._id === inputProducts[ind].oldProductId).productName;\r\n\t\t\t\t\tinputProducts[ind].err = `${name} will be negative by ${qty}`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst products = this.props.store.products;\r\n\t\tif (this.state.editing) {\r\n\t\t\tconst stock = this.checkStock();\r\n\t\t\tif (inputProducts[ind].oldProductId) {\r\n\t\t\t\tconst qty = +stock[inputProducts[ind].oldProductId] - +inputProducts[ind].oldQuantity;\r\n\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\tconst name = products.find((x) => x._id === inputProducts[ind].oldProductId).productName;\r\n\t\t\t\t\tinputProducts[ind].err = `${name} will be negative by ${qty}`;\r\n\t\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.onDeleteRow(ind);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.onDeleteRow(ind);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.onDeleteRow(ind);\r\n\t\t}\r\n\t};\r\n\tonDeleteRow = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (inputProducts.length > 1) {\r\n\t\t\tinputProducts[ind].productList = false;\r\n\t\t\tinputProducts.splice(ind, 1);\r\n\t\t\tthis.setState({ inputProducts });\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tinputProducts: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproductId: '',\r\n\t\t\t\t\t\tproductName: '',\r\n\t\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\t\tcostPrice: '0',\r\n\t\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\t\tproductList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getPur: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getPur: false });\r\n\t};\r\n\tgetPurchaseFields = (id) => {\r\n\t\tconst purchases = this.props.store.purchases.find((val) => val._id === id);\r\n\t\tconst { _id, date, invoice, vendorId, products } = purchases;\r\n\t\tthis.setState({\r\n\t\t\t_id,\r\n\t\t\tdate: date.slice(0, 10),\r\n\t\t\tinvoice,\r\n\t\t\tvendorId: vendorId._id,\r\n\t\t\tvendorName: vendorId.vendorName,\r\n\t\t\tinputProducts: products.map((val) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t_id: val._id,\r\n\t\t\t\t\tproductId: val.productId._id,\r\n\t\t\t\t\toldProductId: val.productId._id,\r\n\t\t\t\t\tproductName: val.productId.productName,\r\n\t\t\t\t\tquantity: val.quantity,\r\n\t\t\t\t\toldQuantity: val.quantity,\r\n\t\t\t\t\tcostPrice: val.costPrice,\r\n\t\t\t\t\tvalue: val.value,\r\n\t\t\t\t\tsellingPrice: val.sellingPrice\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t\tediting: true,\r\n\t\t\tgetPur: false,\r\n\t\t\toptions: false\r\n\t\t});\r\n\t};\r\n\tvalidateVendor = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ vendorList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ vendorList: false });\r\n\t};\r\n\tgetVendorFields = (vendorId, vendorName) => {\r\n\t\tthis.setState({\r\n\t\t\tvendorId,\r\n\t\t\tvendorName,\r\n\t\t\tvendorList: false\r\n\t\t});\r\n\t};\r\n\tvalidateProduct = (ev, ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (ev.keyCode === 13) inputProducts[ind].productList = true;\r\n\t\tif (ev.keyCode === 27) inputProducts[ind].productList = false;\r\n\t\tthis.setState({ ind, inputProducts });\r\n\t};\r\n\tgetProductFields = (id, name) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tinputProducts.forEach((val, i) => {\r\n\t\t\tif (i !== ind) {\r\n\t\t\t\tif (val.productName === name) return this.props.onSnackHandler(true, \"can't enter same product\");\r\n\t\t\t}\r\n\t\t});\r\n\t\tinputProducts[ind].productId = id;\r\n\t\tinputProducts[ind].productName = name;\r\n\t\tinputProducts[ind].productList = false;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\trender() {\r\n\t\tconst { date, invoice, vendorName, inputProducts, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Purchase Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Invoice\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupVendor\r\n\t\t\t\t\t\tvendorName={vendorName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateVendor={this.validateVendor}\r\n\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\tgetVendorFields={this.getVendorFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Product</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Quantity</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Cost</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Value</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Selling</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{inputProducts.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupProduct\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetProductFields={this.getProductFields}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproductName={row.productName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputProducts={inputProducts}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={this.handleChangeTab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateProduct={this.validateProduct}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.checkQty(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"costPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.costPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.err)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.err && row.err}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(row.value).toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"sellingPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.sellingPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.quantity), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.value), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetPur={this.state.getPur}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetPurchaseFields={this.getPurchaseFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deletePurchase}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetVendor: () => dispatch(actions.getVendor()),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tpurchaseSave: (data) => dispatch(actions.purchaseSave(data)),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase()),\r\n\t\tupdatePurchase: (data) => dispatch(actions.updatePurchase(data)),\r\n\t\tdeletePurchase: (id) => dispatch(actions.deletePurchase(id)),\r\n\t\tgetSale: () => dispatch(actions.getSale())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Purchase));\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getSaleFields, onDelete, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst sales = store.sales.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{sales.length ? (\r\n\t\t\t\t\tsales.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getSaleFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Invoice: {val.invoice}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Client: {val.clientId.clientName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getSal, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Invoice #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getSal && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);","import React, { Component } from 'react';\r\nimport { TextField, Paper } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupClient extends Component {\r\n\trenderSearchBlockClient = () => {\r\n\t\tconst { clientName, store, getClientFields } = this.props;\r\n\t\tconst search = clientName.toLowerCase();\r\n\t\tconst clients = store.clients.filter((val) => val.clientName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{clients.length ? (\r\n\t\t\t\t\tclients.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getClientFields(val._id, val.clientName)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{val.clientName}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {val.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {val.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {val.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {val.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { clientName, validateClient, clientList, handleChange } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tlabel=\"Client\"\r\n\t\t\t\t\tname=\"clientName\"\r\n\t\t\t\t\tvalue={clientName}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={validateClient}\r\n\t\t\t\t/>\r\n\t\t\t\t{clientList && this.renderSearchBlockClient()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupClient);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupClient from '../popup-client';\r\nimport PopupProduct from './../popup-product';\r\nimport actions from '../../../store/actions';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t}\r\n});\r\n\r\nclass Sale extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tproductList: false,\r\n\t\t\t\t\terr: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tediting: false,\r\n\t\t\tclientList: false,\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetSal: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('sales', () => {\r\n\t\t\tthis.props.getSale();\r\n\t\t});\r\n\t\tchannel.bind('purchases', () => {\r\n\t\t\tthis.props.getPurchase();\r\n\t\t});\r\n\t\tchannel.bind('products', () => {\r\n\t\t\tthis.props.getProduct();\r\n\t\t});\r\n\t\tchannel.bind('clients', () => {\r\n\t\t\tthis.props.getClient();\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t}\r\n\tgetRefNo = () => {\r\n\t\tconst x = new Date();\r\n\t\tlet date = '2019-';\r\n\t\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\t\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\t\tif (!this.props.store.sales.length) return this.setState({ invoice: 1, date });\r\n\t\treturn this.setState({ invoice: this.props.store.sales.length + 1, date });\r\n\t}\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tproductList: false,\r\n\t\t\t\t\terr: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tediting: false,\r\n\t\t\tclientList: false,\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetSal: false\r\n\t\t});\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst isFilled = [];\r\n\t\tinputProducts.forEach((x) => isFilled.push(Object.values(x).every((y) => y === false || Boolean(y))));\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tinputProducts.push({\r\n\t\t\t\tproductId: '',\r\n\t\t\t\tproductName: '',\r\n\t\t\t\tquantity: '0',\r\n\t\t\t\tsellingPrice: '0',\r\n\t\t\t\tvalue: '0',\r\n\t\t\t\tproductList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ inputProducts });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row(s) first');\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (inputProducts.length > 1) {\r\n\t\t\tinputProducts[ind].productList = false;\r\n\t\t\tinputProducts.splice(ind, 1);\r\n\t\t\treturn this.setState({ inputProducts });\r\n\t\t}\r\n\t\treturn this.setState({\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tproductList: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (name === 'quantity' || name === 'sellingPrice') {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t\tthis.calcValue(ind);\r\n\t\t} else {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t}\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tcalcValue = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tinputProducts[ind].value = inputProducts[ind].quantity * inputProducts[ind].sellingPrice;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, invoice, clientId, inputProducts, editing } = this.state;\r\n\t\tif (!editing) return this.props.saleSave({ date, invoice, clientId, products: inputProducts });\r\n\t\treturn this.props.updateSale({ _id, date, invoice, clientId, products: inputProducts });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getSal: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getSal: false });\r\n\t};\r\n\tgetSaleFields = (id) => {\r\n\t\tconst sales = this.props.store.sales.find((val) => val._id === id);\r\n\t\tconst { _id, date, invoice, clientId, products } = sales;\r\n\t\tthis.setState({\r\n\t\t\t_id,\r\n\t\t\tdate: date.slice(0, 10),\r\n\t\t\tinvoice,\r\n\t\t\tclientId: clientId._id,\r\n\t\t\tclientName: clientId.clientName,\r\n\t\t\tinputProducts: products.map((val) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tproductId: val.productId._id,\r\n\t\t\t\t\tproductName: val.productId.productName,\r\n\t\t\t\t\tquantity: val.quantity,\r\n\t\t\t\t\tsellingPrice: val.sellingPrice,\r\n\t\t\t\t\tvalue: val.value,\r\n\t\t\t\t\toldProductId: val.productId._id,\r\n\t\t\t\t\toldQuantity: val.quantity\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t\tediting: true,\r\n\t\t\toptions: false,\r\n\t\t\tgetSal: false\r\n\t\t});\r\n\t};\r\n\tvalidateClient = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ clientList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ clientList: false });\r\n\t};\r\n\tgetClientFields = (clientId, clientName) => {\r\n\t\tthis.setState({\r\n\t\t\tclientId,\r\n\t\t\tclientName,\r\n\t\t\tclientList: false\r\n\t\t});\r\n\t};\r\n\tvalidateProduct = (ev, ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (ev.keyCode === 13) inputProducts[ind].productList = true;\r\n\t\tif (ev.keyCode === 27) inputProducts[ind].productList = false;\r\n\t\tthis.setState({ ind, inputProducts });\r\n\t};\r\n\tgetProductFields = (id, name) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tinputProducts.forEach((val, i) => {\r\n\t\t\tif (i !== ind) {\r\n\t\t\t\tif (val.productName === name)\r\n\t\t\t\t\treturn this.props.onSnackHandler(true, `can't enter same product (${name}) again`);\r\n\t\t\t}\r\n\t\t});\r\n\t\tinputProducts[ind].productId = id;\r\n\t\tinputProducts[ind].productName = name;\r\n\t\tinputProducts[ind].productList = false;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tcheckStock = () => {\r\n\t\tconst { purchases, sales, products } = this.props.store;\r\n\t\tconst stockSum = {};\r\n\t\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\t\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\t\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\t\treturn stockSum;\r\n\t};\r\n\tcheckQty = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst products = this.props.store.products;\r\n\t\tconst stock = this.checkStock();\r\n\t\tif (this.state.editing) {\r\n\t\t\tif (inputProducts[ind].oldProductId) {\r\n\t\t\t\tif (inputProducts[ind].oldProductId === inputProducts[ind].productId) {\r\n\t\t\t\t\tconst qty =\r\n\t\t\t\t\t\t+stock[inputProducts[ind].oldProductId] +\r\n\t\t\t\t\t\t+inputProducts[ind].oldQuantity -\r\n\t\t\t\t\t\t+inputProducts[ind].quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tconst { productName } = products.find((x) => x._id === inputProducts[ind].oldProductId);\r\n\t\t\t\t\t\tinputProducts[ind].err = `${productName} will be negative by ${qty}`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst qty = stock[inputProducts[ind].productId] - +inputProducts[ind].quantity;\r\n\t\t\tconst { purchases } = this.props.store;\r\n\t\t\tif (qty < 0) {\r\n\t\t\t\tinputProducts[ind].err = `${inputProducts[ind].productName} will be negative by ${qty}`;\r\n\t\t\t\tlet isMatched = { match: false };\r\n\t\t\t\tpurchases.forEach((x) => {\r\n\t\t\t\t\tx.products.forEach((y) => {\r\n\t\t\t\t\t\tif (y.productId._id === inputProducts[ind].productId) {\r\n\t\t\t\t\t\t\tisMatched.match = true;\r\n\t\t\t\t\t\t\tisMatched.sellingPrice = y.sellingPrice;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tif (isMatched.match) inputProducts[ind].sellingPrice = isMatched.sellingPrice;\r\n\t\t\t\telse inputProducts[ind].sellingPrice = 0;\r\n\t\t\t} else {\r\n\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\tpurchases.forEach((x) => {\r\n\t\t\t\t\tx.products.forEach((y) => {\r\n\t\t\t\t\t\tif (y.productId._id === inputProducts[ind].productId) {\r\n\t\t\t\t\t\t\tinputProducts[ind].sellingPrice = y.sellingPrice;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.setState({ inputProducts });\r\n\t\t}\r\n\t};\r\n\trender() {\r\n\t\tconst { date, invoice, clientName, inputProducts, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Sale Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Invoice\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupClient\r\n\t\t\t\t\t\tclientName={clientName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateClient={this.validateClient}\r\n\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\tgetClientFields={this.getClientFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Product</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Quantity</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Selling</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Value</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{inputProducts.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupProduct\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetProductFields={this.getProductFields}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproductName={row.productName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputProducts={inputProducts}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={this.handleChangeTab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateProduct={this.validateProduct}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.checkQty(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"sellingPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.sellingPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.calcValue(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.err)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.err && row.err}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(row.value).toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.quantity), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.value), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetSal={this.state.getSal}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetSaleFields={this.getSaleFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deleteSale}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tsaleSave: (data) => dispatch(actions.saleSave(data)),\r\n\t\tupdateSale: (data) => dispatch(actions.updateSale(data)),\r\n\t\tgetSale: () => dispatch(actions.getSale()),\r\n\t\tdeleteSale: (id) => dispatch(actions.deleteSale(id)),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Sale));\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getPaymentFields, onDelete, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst payments = store.payments.filter((val) => val.refNo.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{payments.length ? (\r\n\t\t\t\t\tpayments.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getPaymentFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Reference: {val.refNo}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Vendor: {val.vendorId.vendorName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getEntry, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type reference #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getEntry && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);","import React, { Component } from 'react';\r\nimport { Paper, TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupInvoices extends Component {\r\n\trenderSearchBlockProduct = () => {\r\n\t\tconst { invoice, vendorId, getInvoiceField, editing, store } = this.props;\r\n\t\tconst search = invoice.toLowerCase();\r\n\t\tconst allBills = store.purchases\r\n\t\t\t.filter((val) => val.vendorId._id === vendorId)\r\n\t\t\t.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\tconst payments = store.payments.filter((x) => x.vendorId._id === vendorId);\r\n\t\tlet bills = [];\r\n\t\tconst realized = { bill: 0, pay: 0, refId: '' };\r\n\t\tpayments.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.pay += +y.pay;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tif (!editing) {\r\n\t\t\tallBills.forEach((z) => {\r\n\t\t\t\tif (z.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.bill = z.products.reduce((acc, cur) => acc + cur.value, 0);\r\n\t\t\t\t\tif (realized.bill > realized.pay) {\r\n\t\t\t\t\t\tbills.push(z);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tbills = allBills;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{bills.length ? (\r\n\t\t\t\t\tbills.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={() => getInvoiceField(val)}>\r\n\t\t\t\t\t\t\t\t\t\t{val.invoice}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\tAmount: {val.products.reduce((acc, cur) => acc + +cur.value, 0).toLocaleString()}/-\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { invoice, ind, detail, handleChangeTab, validateInvoice, vendorList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\tonChange={(ev) => handleChangeTab(ev, ind)}\r\n\t\t\t\t\tonKeyDown={(ev) => validateInvoice(ev, ind)}\r\n\t\t\t\t/>\r\n\t\t\t\t{!vendorList && detail.detailList && this.renderSearchBlockProduct()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupInvoices);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupVendor from '../popup-vendor';\r\nimport actions from '../../../store/actions';\r\nimport PopupInvoices from './popup-invoices';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t},\r\n\tselectControl: {\r\n\t\tminWidth: 100\r\n\t}\r\n});\r\n\r\nclass Payment extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tvendorList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getRefNo();\r\n\t\tchannel.bind('payments', () => {\r\n\t\t\tthis.props.getPayment();\r\n\t\t});\r\n\t\tchannel.bind('purchases', () => {\r\n\t\t\tthis.props.getPurchase();\r\n\t\t});\r\n\t\tchannel.bind('vendors', () => {\r\n\t\t\tthis.props.getVendor();\r\n\t\t});\r\n\t};\r\n\tstatic getDerivedStateFromProps = (nextProps, prevState) => {\r\n\t\tconst { payments } = nextProps.store;\r\n\t\tif (payments.length && !prevState.editing) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in payments) {\r\n\t\t\t\tarr.push(payments[key].refNo);\r\n\t\t\t}\r\n\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\tif (refNo !== prevState.refNo) return { refNo };\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tgetRefNo = () => {\r\n\t\tconst x = new Date();\r\n\t\tlet date = '2019-';\r\n\t\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\t\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\t\tconst { payments } = this.props.store;\r\n\t\tif (payments.length) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in payments) {\r\n\t\t\t\tarr.push(payments[key].refNo);\r\n\t\t\t}\r\n\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\treturn this.setState({ refNo, date });\r\n\t\t}\r\n\t\treturn this.setState({ refNo: 1, date });\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tdetails[ind][name] = value;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, refNo, vendorId, details, editing } = this.state;\r\n\t\tif (!editing) {\r\n\t\t\tthis.props.paymentSave({ date, refNo, vendorId, details });\r\n\t\t} else {\r\n\t\t\tthis.props.updatePayment({ _id, date, refNo, vendorId, details });\r\n\t\t}\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tvendorList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst isFilled = [];\r\n\t\tdetails.forEach((x) => {\r\n\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t});\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tdetails.push({\r\n\t\t\t\tinvoice: '',\r\n\t\t\t\tbalance: '0',\r\n\t\t\t\tpay: '0',\r\n\t\t\t\tdescription: '',\r\n\t\t\t\tdetailList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ details });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row first');\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details.length > 1) {\r\n\t\t\tfor (let i = 0; i < details.length; i++) {\r\n\t\t\t\tdetails[i].detailList = false;\r\n\t\t\t}\r\n\t\t\tdetails.splice(ind, 1);\r\n\t\t\tthis.setState({ details });\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdetails: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\t\tpay: '0',\r\n\t\t\t\t\t\tdescription: '',\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getEntry: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getEntry: false });\r\n\t};\r\n\tvalidateVendor = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ vendorList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ vendorList: false });\r\n\t};\r\n\tgetVendorFields = (vendorId, vendorName) => {\r\n\t\tthis.setState({\r\n\t\t\tvendorId,\r\n\t\t\tvendorName,\r\n\t\t\tvendorList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\tvalidateInvoice = (ev, ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (ev.keyCode === 13) details[ind].detailList = true;\r\n\t\tif (ev.keyCode === 27) details[ind].detailList = false;\r\n\t\tthis.setState({ ind, details });\r\n\t};\r\n\tgetInvoiceField = (value) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tconst count = { record: 0 };\r\n\t\tdetails[ind].invoice = value.invoice;\r\n\t\tdetails.forEach((val) => {\r\n\t\t\tif (val.invoice === value.invoice) {\r\n\t\t\t\tcount.record++;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (count.record > 1) return this.props.onSnackHandler(true, \"can't enter same product\");\r\n\t\tdetails[ind].purchaseId = value._id;\r\n\t\tdetails[ind].detailList = false;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tgetBalance = (value) => {\r\n\t\tconst payments = this.props.store.payments;\r\n\t\tconst amounts = { invoiceValue: 0, realized: [] };\r\n\t\tamounts.invoiceValue = value.products.reduce((acc, cur) => acc + +cur.value, 0);\r\n\t\tpayments.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice === value.invoice) {\r\n\t\t\t\t\tamounts.realized.push(y);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tamounts.realized = amounts.realized.reduce((acc, cur) => acc + +cur.pay, 0);\r\n\t\treturn amounts;\r\n\t};\r\n\tgetPaymentFields = (id) => {\r\n\t\tif (id) {\r\n\t\t\tconst payment = this.props.store.payments.find((val) => val._id === id);\r\n\t\t\tconst { _id, date, refNo, vendorId, details } = payment;\r\n\t\t\tthis.setState({\r\n\t\t\t\t_id,\r\n\t\t\t\tdate: date.slice(0, 10),\r\n\t\t\t\trefNo,\r\n\t\t\t\toldVendorId: vendorId._id,\r\n\t\t\t\tvendorId: vendorId._id,\r\n\t\t\t\tvendorName: vendorId.vendorName,\r\n\t\t\t\tdetails: details.map((val) => {\r\n\t\t\t\t\tconst { purchaseId, invoice, pay, description } = val;\r\n\t\t\t\t\tconst value = this.props.store.purchases.find((x) => x.invoice === invoice);\r\n\t\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpurchaseId,\r\n\t\t\t\t\t\tinvoice,\r\n\t\t\t\t\t\tbalance: +amounts.invoiceValue - +amounts.realized + +pay,\r\n\t\t\t\t\t\tpay,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t\tediting: true,\r\n\t\t\t\tgetEntry: false,\r\n\t\t\t\toptions: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidatePayment = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (!this.state.editing) {\r\n\t\t\tif (details[ind].purchaseId) {\r\n\t\t\t\tconst search = details[ind].invoice;\r\n\t\t\t\tconst value = this.props.store.purchases.find((x) => x.invoice === search);\r\n\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst search = details[ind].invoice;\r\n\t\t\tconst value = this.props.store.purchases.find((x) => x.invoice === search);\r\n\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\tconst oldDetails = this.props.store.payments\r\n\t\t\t\t.find((x) => x.refNo === this.state.refNo)\r\n\t\t\t\t.details.find((x) => x.invoice === value.invoice);\r\n\t\t\tif (oldDetails.purchaseId === details[ind].purchaseId) {\r\n\t\t\t\tdetails[ind].pay = oldDetails.pay;\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized + +oldDetails.pay;\r\n\t\t\t} else {\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tbalanceCheck = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details[ind].pay > details[ind].balance) {\r\n\t\t\tdetails[ind].balanceDesc = `Balance will be negative by ${details[ind].balance - details[ind].pay}`;\r\n\t\t} else {\r\n\t\t\tdetails[ind].balanceDesc = false;\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\trender() {\r\n\t\tconst { date, refNo, vendorName, details, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Payment Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Ref #\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"refNo\"\r\n\t\t\t\t\t\tvalue={refNo}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupVendor\r\n\t\t\t\t\t\tvendorName={vendorName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateVendor={this.validateVendor}\r\n\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\tgetVendorFields={this.getVendorFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Invoice</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Balance</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Amount</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Description</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{details.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupInvoices\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice={row.invoice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvendorId={this.state.vendorId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdetail={row}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateInvoice={(ev) => this.validateInvoice(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetInvoiceField={this.getInvoiceField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tediting={editing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.balanceDesc)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.balanceDesc && row.balanceDesc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"balance\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pay\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.pay}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.balanceCheck(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.validatePayment(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{details\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.pay), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetEntry={this.state.getEntry}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetPaymentFields={this.getPaymentFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deletePayment}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetVendor: () => dispatch(actions.getVendor()),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase()),\r\n\t\tpaymentSave: (data) => dispatch(actions.paymentSave(data)),\r\n\t\tgetPayment: () => dispatch(actions.getPayment()),\r\n\t\tupdatePayment: (data) => dispatch(actions.updatePayment(data)),\r\n\t\tdeletePayment: (id) => dispatch(actions.deletePayment(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Payment));\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsearch: '',\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst search = this.state.search;\r\n\t\tconst { getRecoveryFields, onDelete, store } = this.props;\r\n\t\tconst recoveries = store.recoveries.filter((val) => val.refNo.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{recoveries.length ? (\r\n\t\t\t\t\trecoveries.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getRecoveryFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Reference: {val.refNo}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Client: {val.clientId.clientName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getEntry, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type reference #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getEntry && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupInvoices extends Component {\r\n\trenderSearchBlockProduct = () => {\r\n\t\tconst { invoice, clientId, getInvoiceField, editing, store } = this.props;\r\n\t\tconst search = invoice.toLowerCase();\r\n\t\tconst allBills = store.sales\r\n\t\t\t.filter((val) => val.clientId._id === clientId)\r\n\t\t\t.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\tconst recoveries = store.recoveries.filter((x) => x.clientId._id === clientId);\r\n\t\tlet bills = [];\r\n\t\tconst realized = { bill: 0, pay: 0, refId: '' };\r\n\t\trecoveries.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.pay += +y.pay;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tif (!editing) {\r\n\t\t\tallBills.forEach((z) => {\r\n\t\t\t\tif (z.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.bill = z.products.reduce((acc, cur) => acc + cur.value, 0);\r\n\t\t\t\t\tif (realized.bill > realized.pay) {\r\n\t\t\t\t\t\tbills.push(z);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tbills = allBills;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{bills.length ? (\r\n\t\t\t\t\tbills.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={() => getInvoiceField(val)}>\r\n\t\t\t\t\t\t\t\t\t\t{val.invoice}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\tAmount: {val.products.reduce((acc, cur) => acc + +cur.value, 0).toLocaleString()}/-\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { invoice, ind, detail, handleChangeTab, validateInvoice, clientList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\tonChange={(ev) => handleChangeTab(ev, ind)}\r\n\t\t\t\t\tonKeyDown={(ev) => validateInvoice(ev, ind)}\r\n\t\t\t\t/>\r\n\t\t\t\t{!clientList && detail.detailList && this.renderSearchBlockProduct()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupInvoices);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupClient from '../popup-client';\r\nimport actions from '../../../store/actions';\r\nimport PopupInvoices from './popup-invoices';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t},\r\n\tselectControl: {\r\n\t\tminWidth: 100\r\n\t}\r\n});\r\n\r\nclass Recovery extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tclientList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getRefNo();\r\n\t\tchannel.bind('recoveries', () => {\r\n\t\t\tthis.props.getRecovery();\r\n\t\t});\r\n\t\tchannel.bind('sales', () => {\r\n\t\t\tthis.props.getSale();\r\n\t\t});\r\n\t\tchannel.bind('clients', () => {\r\n\t\t\tthis.props.getClient();\r\n\t\t});\r\n\t};\r\n\tstatic getDerivedStateFromProps = (nextProps, prevState) => {\r\n\t\tconst { recoveries } = nextProps.store;\r\n\t\tif (recoveries) {\r\n\t\t\tif (recoveries.length && !prevState.editing) {\r\n\t\t\t\tconst arr = [];\r\n\t\t\t\tfor (let key in recoveries) {\r\n\t\t\t\t\tarr.push(recoveries[key].refNo);\r\n\t\t\t\t}\r\n\t\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\t\tif (refNo !== prevState.refNo) return { refNo };\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tgetRefNo = () => {\r\n\t\tconst x = new Date();\r\n\t\tlet date = '2019-';\r\n\t\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\t\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\t\tconst { recoveries } = this.props.store;\r\n\t\tif (recoveries) {\r\n\t\t\tif (recoveries.length) {\r\n\t\t\t\tconst arr = [];\r\n\t\t\t\tfor (let key in recoveries) {\r\n\t\t\t\t\tarr.push(recoveries[key].refNo);\r\n\t\t\t\t}\r\n\t\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\t\treturn this.setState({ refNo, date });\r\n\t\t\t}\r\n\t\t\treturn this.setState({ refNo: 1, date });\r\n\t\t}\r\n\t\treturn this.setState({ refNo: 1, date });\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tdetails[ind][name] = value;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, refNo, clientId, details, editing } = this.state;\r\n\t\tif (!editing) {\r\n\t\t\tthis.props.recoverySave({ date, refNo, clientId, details });\r\n\t\t} else {\r\n\t\t\tthis.props.updateRecovery({ _id, date, refNo, clientId, details });\r\n\t\t}\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tclientList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst isFilled = [];\r\n\t\tdetails.forEach((x) => {\r\n\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t});\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tdetails.push({\r\n\t\t\t\tinvoice: '',\r\n\t\t\t\tbalance: '0',\r\n\t\t\t\tpay: '0',\r\n\t\t\t\tdescription: '',\r\n\t\t\t\tdetailList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ details });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row first');\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details.length > 1) {\r\n\t\t\tfor (let i = 0; i < details.length; i++) {\r\n\t\t\t\tdetails[i].detailList = false;\r\n\t\t\t}\r\n\t\t\tdetails.splice(ind, 1);\r\n\t\t\tthis.setState({ details });\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdetails: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\t\tpay: '0',\r\n\t\t\t\t\t\tdescription: '',\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getEntry: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getEntry: false });\r\n\t};\r\n\tvalidateClient = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ clientList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ clientList: false });\r\n\t};\r\n\tgetClientFields = (clientId, clientName) => {\r\n\t\tthis.setState({\r\n\t\t\tclientId,\r\n\t\t\tclientName,\r\n\t\t\tclientList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\tvalidateInvoice = (ev, ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (ev.keyCode === 13) details[ind].detailList = true;\r\n\t\tif (ev.keyCode === 27) details[ind].detailList = false;\r\n\t\tthis.setState({ ind, details });\r\n\t};\r\n\tgetInvoiceField = (value) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tconst count = { record: 0 };\r\n\t\tdetails[ind].invoice = value.invoice;\r\n\t\tdetails.forEach((val) => {\r\n\t\t\tif (val.invoice === value.invoice) {\r\n\t\t\t\tcount.record++;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (count.record > 1) return this.props.onSnackHandler(true, \"can't enter same product\");\r\n\t\tdetails[ind].saleId = value._id;\r\n\t\tdetails[ind].detailList = false;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tgetBalance = (value) => {\r\n\t\tconst { recoveries } = this.props.store;\r\n\t\tconst amounts = { invoiceValue: 0, realized: [] };\r\n\t\tamounts.invoiceValue = value.products.reduce((acc, cur) => acc + +cur.value, 0);\r\n\t\trecoveries.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice === value.invoice) {\r\n\t\t\t\t\tamounts.realized.push(y);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tamounts.realized = amounts.realized.reduce((acc, cur) => acc + +cur.pay, 0);\r\n\t\treturn amounts;\r\n\t};\r\n\tgetRecoveryFields = (id) => {\r\n\t\tif (id) {\r\n\t\t\tconst recovery = this.props.store.recoveries.find((val) => val._id === id);\r\n\t\t\tconst { _id, date, refNo, clientId, details } = recovery;\r\n\t\t\tthis.setState({\r\n\t\t\t\t_id,\r\n\t\t\t\tdate: date.slice(0, 10),\r\n\t\t\t\trefNo,\r\n\t\t\t\toldClient: clientId._id,\r\n\t\t\t\tclientId: clientId._id,\r\n\t\t\t\tclientName: clientId.clientName,\r\n\t\t\t\tdetails: details.map((val) => {\r\n\t\t\t\t\tconst { saleId, invoice, pay, description } = val;\r\n\t\t\t\t\tconst value = this.props.store.sales.find((x) => x.invoice === invoice);\r\n\t\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tsaleId,\r\n\t\t\t\t\t\tinvoice,\r\n\t\t\t\t\t\tbalance: +amounts.invoiceValue - +amounts.realized + +pay,\r\n\t\t\t\t\t\tpay,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t\tediting: true,\r\n\t\t\t\tgetEntry: false,\r\n\t\t\t\toptions: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSale = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (!this.state.editing) {\r\n\t\t\tif (details[ind].saleId) {\r\n\t\t\t\tconst search = details[ind].invoice;\r\n\t\t\t\tconst value = this.props.store.sales.find((x) => x.invoice === search);\r\n\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst search = details[ind].invoice;\r\n\t\t\tconst value = this.props.store.sales.find((x) => x.invoice === search);\r\n\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\tconst oldDetails = this.props.store.recoveries\r\n\t\t\t\t.find((x) => x.refNo === this.state.refNo)\r\n\t\t\t\t.details.find((x) => x.invoice === value.invoice);\r\n\t\t\tif (oldDetails.saleId === details[ind].saleId) {\r\n\t\t\t\tdetails[ind].pay = oldDetails.pay;\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized + +oldDetails.pay;\r\n\t\t\t} else {\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tbalanceCheck = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details[ind].pay > details[ind].balance) {\r\n\t\t\tdetails[ind].balanceDesc = `Balance will be negative by ${details[ind].balance - details[ind].pay}`;\r\n\t\t} else {\r\n\t\t\tdetails[ind].balanceDesc = false;\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\trender() {\r\n\t\tconst { date, refNo, clientName, details, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Recovery Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Ref #\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"refNo\"\r\n\t\t\t\t\t\tvalue={refNo}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupClient\r\n\t\t\t\t\t\tclientName={clientName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateClient={this.validateClient}\r\n\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\tgetClientFields={this.getClientFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Invoice</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Balance</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Amount</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Description</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{details.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupInvoices\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice={row.invoice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientId={this.state.clientId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdetail={row}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateInvoice={(ev) => this.validateInvoice(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetInvoiceField={this.getInvoiceField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tediting={editing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.balanceDesc)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.balanceDesc && row.balanceDesc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"balance\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pay\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.pay}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.balanceCheck(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.validateSale(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{details\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.pay), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetEntry={this.state.getEntry}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetRecoveryFields={this.getRecoveryFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deleteRecovery}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tgetSale: () => dispatch(actions.getSale()),\r\n\t\trecoverySave: (data) => dispatch(actions.recoverySave(data)),\r\n\t\tgetRecovery: () => dispatch(actions.getRecovery()),\r\n\t\tupdateRecovery: (data) => dispatch(actions.updateRecovery(data)),\r\n\t\tdeleteRecovery: (id) => dispatch(actions.deleteRecovery(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Recovery));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport Header from './header';\r\nimport Product from './dashboard/product/product';\r\nimport Vendor from './dashboard/vendor/vendor';\r\nimport Client from './dashboard/client/client';\r\nimport Purchase from './dashboard/purchase/purchase';\r\nimport Sale from './dashboard/sale/sale';\r\nimport Payment from './dashboard/payment/payment';\r\nimport Recovery from './dashboard/recovery/recovery';\r\nimport actions from '../store/actions';\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/dashboard/product',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Product {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/vendor',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Vendor {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/client',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Client {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/purchase',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Purchase {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/sale',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Sale {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/payment',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Payment {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/recovery',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Recovery {...props} />\r\n\t}\r\n];\r\n\r\nclass Dashboard extends Component {\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.store.profile.email) return this.props.history.push('/');\r\n\t\tthis.props.getClient();\r\n\t\tthis.props.getPayment();\r\n\t\tthis.props.getRecovery();\r\n\t\tthis.props.getProduct();\r\n\t\tthis.props.getPurchase();\r\n\t\tthis.props.getSale();\r\n\t\tthis.props.getVendor();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t</header>\r\n\t\t\t\t<section className=\"container\">\r\n\t\t\t\t\t{routes.map((val, ind) => {\r\n\t\t\t\t\t\treturn <Route key={ind} path={val.path} exact={val.exact} component={val.main} />;\r\n\t\t\t\t\t})}\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tgetPayment: () => dispatch(actions.getPayment()),\r\n\t\tgetRecovery: () => dispatch(actions.getRecovery()),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase()),\r\n\t\tgetSale: () => dispatch(actions.getSale()),\r\n\t\tgetVendor: () => dispatch(actions.getVendor())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import React, { Component } from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../store/actions';\r\n\r\nclass PositionedSnackbar extends Component {\r\n    state = {\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n    };\r\n\r\n    render() {\r\n        const { vertical, horizontal } = this.state;\r\n        const { isSnackOpen, snackMessage } = this.props.store;\r\n        return (\r\n            <div>\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical, horizontal }}\r\n                    open={isSnackOpen}\r\n                    autoHideDuration={3000}\r\n                    onClose={() => this.props.onSnackHandler(false, '')}\r\n                    ContentProps={{\r\n                        'aria-describedby': 'message-id',\r\n                    }}\r\n                    message={<span id=\"message-id\">{snackMessage}</span>}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message }))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PositionedSnackbar);","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport SignIn from './components/login/signin';\r\nimport SignUp from './components/login/signup';\r\nimport Dashboard from './components/dashboard';\r\nimport PositionedSnackbar from './components/snackbar';\r\n\r\nimport actions from './store/actions';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    if (!this.props.store.profile.email) return this.props.isLoggedIn();\r\n  }\r\n  render() {\r\n    if (this.props.store.isLoading) return (\r\n      <div className='loader-container'>\r\n        <CircularProgress\r\n          color='secondary'\r\n        />\r\n      </div>\r\n    );\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Route path='/' exact component={SignIn} />\r\n          <Route path='/signup' exact component={SignUp} />\r\n          <Route path='/dashboard' component={Dashboard} />\r\n          <PositionedSnackbar />\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    isLoggedIn: () => dispatch(actions.isLoggedIn()),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport store from './store';\r\nimport App from './App';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}