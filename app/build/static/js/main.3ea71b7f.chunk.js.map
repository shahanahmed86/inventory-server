{"version":3,"sources":["store/constants.js","store/reducer/index.js","store/actions/index.js","service/index.js","store/epics/login.js","store/epics/product.js","store/epics/vendor.js","store/epics/client.js","store/epics/purchase.js","store/epics/sale.js","store/epics/payment.js","store/epics/recovery.js","store/epics/index.js","store/index.js","components/login/signin.js","components/selects.js","components/login/signup.js","components/header.js","config.js","components/dashboard/product/search.js","components/dashboard/product/product.js","components/dashboard/vendor/search.js","components/dashboard/vendor/vendor.js","components/dashboard/client/search.js","components/dashboard/client/client.js","components/dashboard/purchase/search.js","components/dashboard/popup-vendor.js","components/dashboard/popup-product.js","components/dashboard/purchase/purchase.js","components/dashboard/sale/search.js","components/dashboard/popup-client.js","components/dashboard/sale/sale.js","components/dashboard/payment/search.js","components/dashboard/payment/popup-invoices.js","components/dashboard/payment/payment.js","components/dashboard/recovery/search.js","components/dashboard/recovery/popup-invoices.js","components/dashboard/recovery/recovery.js","components/dashboard.js","components/snackbar.js","App.js","serviceWorker.js","index.js"],"names":["types","ONSNACK","ONLOADER","SIGNUP","SIGNUPACCESS","SIGNIN","SIGNINSUCCESS","SIGNINFAILURE","SIGNOUT","SIGNOUTSUCCESS","SIGNOUTFAILURE","ISLOGGEDIN","ISLOGGEDINSUCCESS","ISLOGGEDINFAILURE","PRODUCTSAVE","PRODUCTSAVESUCCESS","PRODUCTSAVEFAILURE","GETPRODUCT","GETPRODUCTSUCCESS","GETPRODUCTFAILURE","UPDATEPRODUCT","UPDATEPRODUCTSUCCESS","UPDATEPRODUCTFAILURE","DELETEPRODUCT","DELETEPRODUCTSUCCESS","DELETEPRODUCTFAILURE","VENDORSAVE","VENDORSAVESUCCESS","VENDORSAVEFAILURE","GETVENDOR","GETVENDORSUCCESS","GETVENDORFAILURE","UPDATEVENDOR","UPDATEVENDORSUCCESS","UPDATEVENDORFAILURE","DELETEVENDOR","DELETEVENDORSUCCESS","DELETEVENDORFAILURE","CLIENTSAVE","CLIENTSAVESUCCESS","CLIENTSAVEFAILURE","GETCLIENT","GETCLIENTSUCCESS","GETCLIENTFAILURE","UPDATECLIENT","UPDATECLIENTSUCCESS","UPDATECLIENTFAILURE","DELETECLIENT","DELETECLIENTSUCCESS","DELETECLIENTFAILURE","PURCHASESAVE","PURCHASESAVESUCCESS","PURCHASESAVEFAILURE","GETPURCHASE","GETPURCHASESUCCESS","GETPURCHASEFAILURE","UPDATEPURCHASE","UPDATEPURCHASESUCCESS","UPDATEPURCHASEFAILURE","DELETEPURCHASE","DELETEPURCHASESUCCESS","DELETEPURCHASEFAILURE","SALESAVE","SALESAVESUCCESS","SALESAVEFAILURE","GETSALE","GETSALESUCCESS","GETSALEFAILURE","UPDATESALE","UPDATESALESUCCESS","UPDATESALEFAILURE","DELETESALE","DELETESALESUCCESS","DELETESALEFAILURE","PAYMENTSAVE","PAYMENTSAVESUCCESS","PAYMENTSAVEFAILURE","GETPAYMENT","GETPAYMENTSUCCESS","GETPAYMENTFAILURE","UPDATEPAYMENT","UPDATEPAYMENTSUCCESS","UPDATEPAYMENTFAILURE","DELETEPAYMENT","DELETEPAYMENTSUCCESS","DELETEPAYMENTFAILURE","RECOVERYSAVE","RECOVERYSAVESUCCESS","RECOVERYSAVEFAILURE","GETRECOVERY","GETRECOVERYSUCCESS","GETRECOVERYFAILURE","UPDATERECOVERY","UPDATERECOVERYSUCCESS","UPDATERECOVERYFAILURE","DELETERECOVERY","DELETERECOVERYSUCCESS","DELETERECOVERYFAILURE","initialState","profile","products","vendors","clients","purchases","sales","payments","recoveries","isLoading","isSnackOpen","snackMessage","reducer","state","arguments","length","undefined","action","type","Object","objectSpread","payload","snack","message","actions","onSnackHandler","onLoader","signUp","signUpAccess","signIn","signInSuccess","signInFailure","signOut","signOutSuccess","signOutFailure","isLoggedIn","isLoggedInSuccess","isLoggedInFailure","productSave","productSaveSuccess","productSaveFailure","getProduct","getProductSuccess","getProductFailure","updateProduct","updateProductSuccess","updateProductFailure","deleteProduct","deleteProductSuccess","deleteProductFailure","vendorSave","vendorSaveSuccess","vendorSaveFailure","getVendor","getVendorSuccess","getVendorFailure","updateVendor","updateVendorSuccess","updateVendorFailure","deleteVendor","deleteVendorSuccess","deleteVendorFailure","clientSave","clientSaveSuccess","clientSaveFailure","getClient","getClientSuccess","getClientFailure","updateClient","updateClientSuccess","updateClientFailure","deleteClient","deleteClientSuccess","deleteClientFailure","purchaseSave","purchaseSaveSuccess","purchaseSaveFailure","getPurchase","getPurchaseSuccess","getPurchaseFailure","deletePurchase","deletePurchaseSuccess","deletePurchaseFailure","updatePurchase","updatePurchaseSuccess","updatePurchaseFailure","saleSave","saleSaveSuccess","saleSaveFailure","getSale","getSaleSuccess","getSaleFailure","updateSale","updateSaleSuccess","updateSaleFailure","deleteSale","deleteSaleSuccess","deleteSaleFailure","paymentSave","paymentSaveSuccess","paymentSaveFailure","getPayment","getPaymentSuccess","getPaymentFailure","updatePayment","updatePaymentSuccess","updatePaymentFailure","deletePayment","deletePaymentSuccess","deletePaymentFailure","recoverySave","recoverySaveSuccess","recoverySaveFailure","getRecovery","getRecoverySuccess","getRecoveryFailure","updateRecovery","updateRecoverySuccess","updateRecoveryFailure","deleteRecovery","deleteRecoverySuccess","deleteRecoveryFailure","api","HttpService","post","apiCall","method","body","url","Observable","ajax","headers","Content-Type","async","crossDomain","withCredentials","createXHR","XMLHttpRequest","responseType","get","put","delete","login","action$","pipe","ofType","switchMap","_ref","res","response","of","catchError","err","_ref2","values","every","x","Boolean","doc","checkEntries","id","book","text","condition","store","getState","some","find","y","productId","_id","concat","product","val","resp","checkTransaction","entries","_ref3","vendorId","vendor","clientId","client","checkStock","_store$getState","stockSum","forEach","quantity","details","purchaseId","purchase","stock","messages","value","oldProductId","qty","oldQuantity","push","productName","join","saleId","sale","isFilled","payment","recovery","combineEpics","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","epicMiddleware","createEpicMiddleware","createStore","applyMiddleware","run","epics","SignIn","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","ev","_ev$target","target","name","setState","defineProperty","onSignInHandler","_this$state","email","password","props","gotoSignUp","history","_this$state2","react_default","a","createElement","className","index_es","elevation","align","color","variant","gutterBottom","autoFocus","label","onChange","fullWidth","margin","children","size","onClick","Component","connect","dispatch","NativeSelects","labelWidth","ReactDOM","findDOMNode","InputLabelRef","offsetWidth","_this2","_this$props","classes","range","criteria","theLabel","theField","toChange","root","FormControl_default","formControl","InputLabel_default","ref","htmlFor","Select_default","native","input","OutlinedInput_default","map","ind","key","React","withStyles","theme","display","flexWrap","marginTop","spacing","unit","marginBottom","minWidth","SignUp","gotoSignIn","onSignUpHandler","confirmPassword","mobile","dob","first","last","gender","maritalStatus","cnic","style","helperText","InputLabelProps","shrink","selects","data","Header","Link","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","aria-haspopup","aria-labelledby","channel","Pusher","cluster","forceTLS","subscribe","Search","renderSearchBlock","getRow","search","toLowerCase","filter","indexOf","row","Delete_default","manufacturer","description","_this$props2","isPopup","validateSearch","onKeyDown","Product","obj","editing","isSearch","onSaveHandler","onBrowseHandler","onClearHandler","keyCode","bind","role","product_search","vendorName","address","telephone","ntn","Vendor","vendor_search","clientName","Client","client_search","getPurchaseFields","onDelete","invoice","date","slice","options","getPur","PopupVendor","renderSearchBlockVendor","getVendorFields","validateVendor","vendorList","PopupProduct","renderSearchBlockProduct","getProductFields","inputProducts","handleChangeTab","validateProduct","productList","CustomTableCell","head","backgroundColor","palette","common","black","white","textAlign","padding","fontSize","footer","TableCell","getNowDate","Date","getMonth","getDate","Purchase","componentDidMount","getRefNo","arr","Math","max","apply","_ev$target2","toConsumableArray","calcValue","costPrice","sellingPrice","onAddRow","_this$props$store","checkQty","onRemoveRow","onDeleteRow","splice","i","disabled","popup_vendor","table","popup_product","onBlur","error","parseInt","toLocaleString","fab","reduce","sum","Add_default","purchase_search","getDerivedStateFromProps","nextProps","prevState","width","overflowX","&:nth-of-type(odd)","background","default","getSaleFields","getSal","PopupClient","renderSearchBlockClient","getClientFields","validateClient","clientList","Sale","isMatched","match","popup_client","sale_CustomTableCell","onFocus","sale_search","getPaymentFields","refNo","getEntry","PopupInvoices","getInvoiceField","allBills","bills","realized","bill","pay","refId","z","acc","cur","detail","validateInvoice","detailList","Payment","balance","count","record","getBalance","amounts","invoiceValue","oldVendorId","validatePayment","oldDetails","balanceCheck","balanceDesc","payment_CustomTableCell","popup_invoices","payment_search","selectControl","getRecoveryFields","Recovery","oldClient","validateSale","recovery_CustomTableCell","recovery_popup_invoices","recovery_search","routes","path","exact","main","product_product","vendor_vendor","client_client","purchase_purchase","sale_sale","payment_payment","recovery_recovery","Dashboard","header","Route","component","PositionedSnackbar","vertical","horizontal","Snackbar_default","anchorOrigin","open","autoHideDuration","onClose","ContentProps","aria-describedby","App","BrowserRouter","snackbar","location","hostname","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"0PAqIeA,EArID,CACVC,QAAS,UAETC,SAAU,WAEVC,OAAQ,SACRC,aAAc,eAEdC,OAAQ,SACRC,cAAe,gBACfC,cAAe,gBAEfC,QAAS,UACTC,eAAgB,iBAChBC,eAAgB,iBAEhBC,WAAY,aACZC,kBAAmB,oBACnBC,kBAAmB,oBAEnBC,YAAa,cACbC,mBAAoB,qBACpBC,mBAAoB,qBAEpBC,WAAY,aACZC,kBAAmB,oBACnBC,kBAAmB,oBAEnBC,cAAe,gBACfC,qBAAsB,uBACtBC,qBAAsB,uBAEtBC,cAAe,gBACfC,qBAAsB,uBACtBC,qBAAsB,uBAEtBC,WAAY,aACZC,kBAAmB,oBACnBC,kBAAmB,oBAEnBC,UAAW,YACXC,iBAAkB,mBAClBC,iBAAkB,mBAElBC,aAAc,eACdC,oBAAqB,sBACrBC,oBAAqB,sBAErBC,aAAc,eACdC,oBAAqB,sBACrBC,oBAAqB,sBAErBC,WAAY,aACZC,kBAAmB,oBACnBC,kBAAmB,oBAEnBC,UAAW,YACXC,iBAAkB,mBAClBC,iBAAkB,mBAElBC,aAAc,eACdC,oBAAqB,sBACrBC,oBAAqB,sBAErBC,aAAc,eACdC,oBAAqB,sBACrBC,oBAAqB,sBAErBC,aAAc,eACdC,oBAAqB,sBACrBC,oBAAqB,sBAErBC,YAAa,cACbC,mBAAoB,qBACpBC,mBAAoB,qBAEpBC,eAAgB,iBAChBC,sBAAuB,wBACvBC,sBAAuB,wBAEvBC,eAAgB,iBAChBC,sBAAuB,wBACvBC,sBAAuB,wBAEvBC,SAAU,WACVC,gBAAiB,kBACjBC,gBAAiB,kBAEjBC,QAAS,UACTC,eAAgB,iBAChBC,eAAgB,iBAEhBC,WAAY,aACZC,kBAAmB,oBACnBC,kBAAmB,oBAEnBC,WAAY,aACZC,kBAAmB,oBACnBC,kBAAmB,oBAEnBC,YAAa,cACbC,mBAAoB,qBACpBC,mBAAoB,qBAEpBC,WAAY,aACZC,kBAAmB,oBACnBC,kBAAmB,oBAEnBC,cAAe,gBACfC,qBAAsB,uBACtBC,qBAAsB,uBAEtBC,cAAe,gBACfC,qBAAsB,uBACtBC,qBAAsB,uBAEtBC,aAAc,eACdC,oBAAqB,sBACrBC,oBAAqB,sBAErBC,YAAa,cACbC,mBAAoB,qBACpBC,mBAAoB,qBAEpBC,eAAgB,iBAChBC,sBAAuB,wBACvBC,sBAAuB,wBAEvBC,eAAgB,iBAChBC,sBAAuB,wBACvBC,sBAAuB,yBChIrBC,EAAe,CACpBC,QAAS,GACTC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,UAAW,GACXC,MAAO,GACPC,SAAU,GACVC,WAAY,GAEZC,WAAW,EAEXC,aAAa,EACbC,aAAc,IAgLAC,EA7KC,WAAkC,IAAjCC,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBd,EAAciB,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACjD,OAAQC,EAAOC,MACd,KAAKpH,EAAMC,QACV,OAAOoH,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECH,YAAaO,EAAOI,QAAQC,MAC5BX,aAAcM,EAAOI,QAAQE,UAG/B,KAAKzH,EAAME,SACV,OAAOmH,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECJ,UAAWQ,EAAOI,UAGpB,KAAKvH,EAAMQ,QACV,OAAO6G,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECJ,WAAW,IAGb,KAAK3G,EAAMS,eACX,KAAKT,EAAMU,eACV,OAAO2G,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECZ,QAAS,GACTC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,UAAW,GACXC,MAAO,GACPC,SAAU,GACVC,WAAY,GACZC,WAAW,IAGb,KAAK3G,EAAMW,WACV,OAAO0G,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECJ,WAAW,IAGb,KAAK3G,EAAMY,kBACV,OAAOyG,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECJ,WAAW,EACXR,QAASgB,EAAOI,UAGlB,KAAKvH,EAAMa,kBACV,OAAOwG,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECJ,WAAW,IAGb,KAAK3G,EAAMiC,oBACX,KAAKjC,EAAMoC,oBACX,KAAKpC,EAAM2B,kBACX,KAAK3B,EAAMqB,qBACX,KAAKrB,EAAMwB,qBACX,KAAKxB,EAAMe,mBACX,KAAKf,EAAMuC,kBACX,KAAKvC,EAAM6C,oBACX,KAAK7C,EAAMgD,oBACX,KAAKhD,EAAMmD,oBACX,KAAKnD,EAAMyD,sBACX,KAAKzD,EAAM4D,sBACX,KAAK5D,EAAM+D,gBACX,KAAK/D,EAAMqE,kBACX,KAAKrE,EAAMwE,kBACX,KAAKxE,EAAM2E,mBACX,KAAK3E,EAAMiF,qBACX,KAAKjF,EAAMoF,qBACX,KAAKpF,EAAMuF,oBACX,KAAKvF,EAAM6F,sBACX,KAAK7F,EAAMgG,sBACV,OAAOqB,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECJ,WAAW,EACXC,aAAa,EACbC,aAAcM,EAAOI,UAGvB,KAAKvH,EAAMkC,oBACX,KAAKlC,EAAMqC,oBACX,KAAKrC,EAAM4B,kBACX,KAAK5B,EAAMsB,qBACX,KAAKtB,EAAMyB,qBACX,KAAKzB,EAAMgB,mBACX,KAAKhB,EAAMwC,kBACX,KAAKxC,EAAM8C,oBACX,KAAK9C,EAAMiD,oBACX,KAAKjD,EAAMoD,oBACX,KAAKpD,EAAM0D,sBACX,KAAK1D,EAAM6D,sBACX,KAAK7D,EAAMgE,gBACX,KAAKhE,EAAMsE,kBACX,KAAKtE,EAAMyE,kBACX,KAAKzE,EAAM4E,mBACX,KAAK5E,EAAMkF,qBACX,KAAKlF,EAAMqF,qBACX,KAAKrF,EAAMwF,oBACX,KAAKxF,EAAM8F,sBACX,KAAK9F,EAAMiG,sBACV,OAAOoB,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECH,aAAa,EACbC,aAAcM,EAAOI,UAGvB,KAAKvH,EAAMkB,kBACV,OAAOmG,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECX,SAAUe,EAAOI,UAgBnB,KAAKvH,EAAM8B,iBACV,OAAOuF,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECV,QAASc,EAAOI,UAGlB,KAAKvH,EAAM0C,iBACV,OAAO2E,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECT,QAASa,EAAOI,UAGlB,KAAKvH,EAAMsD,mBACV,OAAO+D,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECR,UAAWY,EAAOI,UAGpB,KAAKvH,EAAMkE,eACV,OAAOmD,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECP,MAAOW,EAAOI,UAGhB,KAAKvH,EAAM8E,kBACV,OAAOuC,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECN,SAAUU,EAAOI,UAGnB,KAAKvH,EAAM0F,mBACV,OAAO2B,OAAAC,EAAA,EAAAD,CAAA,GACHN,EADJ,CAECL,WAAYS,EAAOI,UAGrB,QACC,OAAOF,OAAAC,EAAA,EAAAD,CAAA,GACHN,+CC0YQW,EAjkBC,CACfC,eAAgB,SAACJ,GAChB,MAAO,CACNH,KAAMpH,EAAMC,QACZsH,YAGFK,SAAU,SAACL,GACV,MAAO,CACNH,KAAMpH,EAAME,SACZqH,YAGFM,OAAQ,SAACN,GACR,MAAO,CACNH,KAAMpH,EAAMG,OACZoH,YAGFO,aAAc,SAACP,GACd,MAAO,CACNH,KAAMpH,EAAMI,aACZmH,YAGFQ,OAAQ,SAACR,GACR,MAAO,CACNH,KAAMpH,EAAMK,OACZkH,YAGFS,cAAe,SAACT,GACf,MAAO,CACNH,KAAMpH,EAAMM,cACZiH,YAGFU,cAAe,SAACV,GACf,MAAO,CACNH,KAAMpH,EAAMO,cACZgH,YAGFW,QAAS,WACR,MAAO,CACNd,KAAMpH,EAAMQ,UAGd2H,eAAgB,WACf,MAAO,CACNf,KAAMpH,EAAMS,iBAGd2H,eAAgB,WACf,MAAO,CACNhB,KAAMpH,EAAMS,iBAGd4H,WAAY,WACX,MAAO,CACNjB,KAAMpH,EAAMW,aAGd2H,kBAAmB,SAACf,GACnB,MAAO,CACNH,KAAMpH,EAAMY,kBACZ2G,YAGFgB,kBAAmB,SAAChB,GACnB,MAAO,CACNH,KAAMpH,EAAMa,kBACZ0G,YAGFiB,YAAa,SAACjB,GACb,MAAO,CACNH,KAAMpH,EAAMc,YACZyG,YAGFkB,mBAAoB,SAAClB,GACpB,MAAO,CACNH,KAAMpH,EAAMe,mBACZwG,YAGFmB,mBAAoB,SAACnB,GACpB,MAAO,CACNH,KAAMpH,EAAMgB,mBACZuG,YAGFoB,WAAY,SAACpB,GACZ,MAAO,CACNH,KAAMpH,EAAMiB,WACZsG,YAGFqB,kBAAmB,SAACrB,GACnB,MAAO,CACNH,KAAMpH,EAAMkB,kBACZqG,YAGFsB,kBAAmB,SAACtB,GACnB,MAAO,CACNH,KAAMpH,EAAMmB,kBACZoG,YAGFuB,cAAe,SAACvB,GACf,MAAO,CACNH,KAAMpH,EAAMoB,cACZmG,YAGFwB,qBAAsB,SAACxB,GACtB,MAAO,CACNH,KAAMpH,EAAMqB,qBACZkG,YAGFyB,qBAAsB,SAACzB,GACtB,MAAO,CACNH,KAAMpH,EAAMsB,qBACZiG,YAGF0B,cAAe,SAAC1B,GACf,MAAO,CACNH,KAAMpH,EAAMuB,cACZgG,YAGF2B,qBAAsB,SAAC3B,GACtB,MAAO,CACNH,KAAMpH,EAAMwB,qBACZ+F,YAGF4B,qBAAsB,SAAC5B,GACtB,MAAO,CACNH,KAAMpH,EAAMyB,qBACZ8F,YAGF6B,WAAY,SAAC7B,GACZ,MAAO,CACNH,KAAMpH,EAAM0B,WACZ6F,YAGF8B,kBAAmB,SAAC9B,GACnB,MAAO,CACNH,KAAMpH,EAAM2B,kBACZ4F,YAGF+B,kBAAmB,SAAC/B,GACnB,MAAO,CACNH,KAAMpH,EAAM4B,kBACZ2F,YAGFgC,UAAW,SAAChC,GACX,MAAO,CACNH,KAAMpH,EAAM6B,UACZ0F,YAGFiC,iBAAkB,SAACjC,GAClB,MAAO,CACNH,KAAMpH,EAAM8B,iBACZyF,YAGFkC,iBAAkB,SAAClC,GAClB,MAAO,CACNH,KAAMpH,EAAM+B,iBACZwF,YAGFmC,aAAc,SAACnC,GACd,MAAO,CACNH,KAAMpH,EAAMgC,aACZuF,YAGFoC,oBAAqB,SAACpC,GACrB,MAAO,CACNH,KAAMpH,EAAMiC,oBACZsF,YAGFqC,oBAAqB,SAACrC,GACrB,MAAO,CACNH,KAAMpH,EAAMkC,oBACZqF,YAGFsC,aAAc,SAACtC,GACd,MAAO,CACNH,KAAMpH,EAAMmC,aACZoF,YAGFuC,oBAAqB,SAACvC,GACrB,MAAO,CACNH,KAAMpH,EAAMoC,oBACZmF,YAGFwC,oBAAqB,SAACxC,GACrB,MAAO,CACNH,KAAMpH,EAAMqC,oBACZkF,YAGFyC,WAAY,SAACzC,GACZ,MAAO,CACNH,KAAMpH,EAAMsC,WACZiF,YAGF0C,kBAAmB,SAAC1C,GACnB,MAAO,CACNH,KAAMpH,EAAMuC,kBACZgF,YAGF2C,kBAAmB,SAAC3C,GACnB,MAAO,CACNH,KAAMpH,EAAMwC,kBACZ+E,YAGF4C,UAAW,SAAC5C,GACX,MAAO,CACNH,KAAMpH,EAAMyC,UACZ8E,YAGF6C,iBAAkB,SAAC7C,GAClB,MAAO,CACNH,KAAMpH,EAAM0C,iBACZ6E,YAGF8C,iBAAkB,SAAC9C,GAClB,MAAO,CACNH,KAAMpH,EAAM2C,iBACZ4E,YAGF+C,aAAc,SAAC/C,GACd,MAAO,CACNH,KAAMpH,EAAM4C,aACZ2E,YAGFgD,oBAAqB,SAAChD,GACrB,MAAO,CACNH,KAAMpH,EAAM6C,oBACZ0E,YAGFiD,oBAAqB,SAACjD,GACrB,MAAO,CACNH,KAAMpH,EAAM8C,oBACZyE,YAGFkD,aAAc,SAAClD,GACd,MAAO,CACNH,KAAMpH,EAAM+C,aACZwE,YAGFmD,oBAAqB,SAACnD,GACrB,MAAO,CACNH,KAAMpH,EAAMgD,oBACZuE,YAGFoD,oBAAqB,SAACpD,GACrB,MAAO,CACNH,KAAMpH,EAAMiD,oBACZsE,YAGFqD,aAAc,SAACrD,GACd,MAAO,CACNH,KAAMpH,EAAMkD,aACZqE,YAGFsD,oBAAqB,SAACtD,GACrB,MAAO,CACNH,KAAMpH,EAAMmD,oBACZoE,YAGFuD,oBAAqB,SAACvD,GACrB,MAAO,CACNH,KAAMpH,EAAMoD,oBACZmE,YAGFwD,YAAa,WACZ,MAAO,CACN3D,KAAMpH,EAAMqD,cAGd2H,mBAAoB,SAACzD,GACpB,MAAO,CACNH,KAAMpH,EAAMsD,mBACZiE,YAGF0D,mBAAoB,SAAC1D,GACpB,MAAO,CACNH,KAAMpH,EAAMuD,mBACZgE,YAGF2D,eAAgB,SAAC3D,GAChB,MAAO,CACNH,KAAMpH,EAAM2D,eACZ4D,YAGF4D,sBAAuB,SAAC5D,GACvB,MAAO,CACNH,KAAMpH,EAAM4D,sBACZ2D,YAGF6D,sBAAuB,SAAC7D,GACvB,MAAO,CACNH,KAAMpH,EAAM6D,sBACZ0D,YAGF8D,eAAgB,SAAC9D,GAChB,MAAO,CACNH,KAAMpH,EAAMwD,eACZ+D,YAGF+D,sBAAuB,SAAC/D,GACvB,MAAO,CACNH,KAAMpH,EAAMyD,sBACZ8D,YAGFgE,sBAAuB,SAAChE,GACvB,MAAO,CACNH,KAAMpH,EAAM0D,sBACZ6D,YAGFiE,SAAU,SAACjE,GACV,MAAO,CACNH,KAAMpH,EAAM8D,SACZyD,YAGFkE,gBAAiB,SAAClE,GACjB,MAAO,CACNH,KAAMpH,EAAM+D,gBACZwD,YAGFmE,gBAAiB,SAACnE,GACjB,MAAO,CACNH,KAAMpH,EAAMgE,gBACZuD,YAGFoE,QAAS,WACR,MAAO,CACNvE,KAAMpH,EAAMiE,UAGd2H,eAAgB,SAACrE,GAChB,MAAO,CACNH,KAAMpH,EAAMkE,eACZqD,YAGFsE,eAAgB,SAACtE,GAChB,MAAO,CACNH,KAAMpH,EAAMmE,eACZoD,YAGFuE,WAAY,SAACvE,GACZ,MAAO,CACNH,KAAMpH,EAAMoE,WACZmD,YAGFwE,kBAAmB,SAACxE,GACnB,MAAO,CACNH,KAAMpH,EAAMqE,kBACZkD,YAGFyE,kBAAmB,SAACzE,GACnB,MAAO,CACNH,KAAMpH,EAAMsE,kBACZiD,YAGF0E,WAAY,SAAC1E,GACZ,MAAO,CACNH,KAAMpH,EAAMuE,WACZgD,YAGF2E,kBAAmB,SAAC3E,GACnB,MAAO,CACNH,KAAMpH,EAAMwE,kBACZ+C,YAGF4E,kBAAmB,SAAC5E,GACnB,MAAO,CACNH,KAAMpH,EAAMyE,kBACZ8C,YAGF6E,YAAa,SAAC7E,GACb,MAAO,CACNH,KAAMpH,EAAM0E,YACZ6C,YAGF8E,mBAAoB,SAAC9E,GACpB,MAAO,CACNH,KAAMpH,EAAM2E,mBACZ4C,YAGF+E,mBAAoB,SAAC/E,GACpB,MAAO,CACNH,KAAMpH,EAAM4E,mBACZ2C,YAGFgF,WAAY,WACX,MAAO,CACNnF,KAAMpH,EAAM6E,aAGd2H,kBAAmB,SAACjF,GACnB,MAAO,CACNH,KAAMpH,EAAM8E,kBACZyC,YAGFkF,kBAAmB,SAAClF,GACnB,MAAO,CACNH,KAAMpH,EAAM+E,kBACZwC,YAGFmF,cAAe,SAACnF,GACf,MAAO,CACNH,KAAMpH,EAAMgF,cACZuC,YAGFoF,qBAAsB,SAACpF,GACtB,MAAO,CACNH,KAAMpH,EAAMiF,qBACZsC,YAGFqF,qBAAsB,SAACrF,GACtB,MAAO,CACNH,KAAMpH,EAAMkF,qBACZqC,YAGFsF,cAAe,SAACtF,GACf,MAAO,CACNH,KAAMpH,EAAMmF,cACZoC,YAGFuF,qBAAsB,SAACvF,GACtB,MAAO,CACNH,KAAMpH,EAAMoF,qBACZmC,YAGFwF,qBAAsB,SAACxF,GACtB,MAAO,CACNH,KAAMpH,EAAMqF,qBACZkC,YAGFyF,aAAc,SAACzF,GACd,MAAO,CACNH,KAAMpH,EAAMsF,aACZiC,YAGF0F,oBAAqB,SAAC1F,GACrB,MAAO,CACNH,KAAMpH,EAAMuF,oBACZgC,YAGF2F,oBAAqB,SAAC3F,GACrB,MAAO,CACNH,KAAMpH,EAAMwF,oBACZ+B,YAGF4F,YAAa,WACZ,MAAO,CACN/F,KAAMpH,EAAMyF,cAGd2H,mBAAoB,SAAC7F,GACpB,MAAO,CACNH,KAAMpH,EAAM0F,mBACZ6B,YAGF8F,mBAAoB,SAAC9F,GACpB,MAAO,CACNH,KAAMpH,EAAM2F,mBACZ4B,YAGF+F,eAAgB,SAAC/F,GAChB,MAAO,CACNH,KAAMpH,EAAM4F,eACZ2B,YAGFgG,sBAAuB,SAAChG,GACvB,MAAO,CACNH,KAAMpH,EAAM6F,sBACZ0B,YAGFiG,sBAAuB,SAACjG,GACvB,MAAO,CACNH,KAAMpH,EAAM8F,sBACZyB,YAGFkG,eAAgB,SAAClG,GAChB,MAAO,CACNH,KAAMpH,EAAM+F,eACZwB,YAGFmG,sBAAuB,SAACnG,GACvB,MAAO,CACNH,KAAMpH,EAAMgG,sBACZuB,YAGFoG,sBAAuB,SAACpG,GACvB,MAAO,CACNH,KAAMpH,EAAMiG,sBACZsB,aC3jBGqG,EAAM,+CA2FGC,EAzFK,CAEnBC,KAAM,SAACC,EAASC,EAAQC,GACvB,IAAMC,EAAMN,EAAMG,EAClB,OAAOI,aAAWC,KAAK,CACtBF,MACAF,SACAC,OACAI,QAAS,CAAEC,eAAgB,oBAC3BC,OAAO,EACPC,aAAa,EACbC,iBAAiB,EACjBC,UAAW,kBAAM,IAAIC,gBACrBC,aAAc,UAIhBC,IAAK,SAACd,EAASC,GACd,IAAME,EAAMN,EAAMG,EAClB,OAAOI,aAAWC,KAAK,CACtBF,MACAF,SACAK,QAAS,CAAEC,eAAgB,oBAC3BC,OAAO,EACPC,aAAa,EACbC,iBAAiB,EACjBC,UAAW,kBAAM,IAAIC,gBACrBC,aAAc,UAIhBE,IAAK,SAACf,EAASC,EAAQC,GACtB,IAAMC,EAAMN,EAAMG,EAClB,OAAOI,aAAWC,KAAK,CACtBF,MACAF,SACAC,OACAI,QAAS,CAAEC,eAAgB,oBAC3BC,OAAO,EACPC,aAAa,EACbC,iBAAiB,EACjBC,UAAW,kBAAM,IAAIC,gBACrBC,aAAc,UAIhBG,OAAQ,SAAChB,EAASC,GACjB,IAAME,EAAMN,EAAMG,EAClB,OAAOI,aAAWC,KAAK,CACtBF,MACAF,SACAK,QAAS,CAAEC,eAAgB,oBAC3BC,OAAO,EACPC,aAAa,EACbC,iBAAiB,EACjBC,UAAW,kBAAM,IAAIC,gBACrBC,aAAc,UAIhB/G,OAAQ,SAACkG,EAASC,EAAQC,GACzB,IAAMC,EAAMN,EAAMG,EAClB,OAAOI,aAAWC,KAAK,CACtBF,MACAF,SACAC,OACAI,QAAS,CAAEC,eAAgB,oBAC3BC,OAAO,EACPC,aAAa,EACbE,UAAW,kBAAM,IAAIC,gBACrBC,aAAc,UAIhB1G,QAAS,SAAC6F,EAASC,GAClB,IAAME,EAAMN,EAAMG,EAClB,OAAOI,aAAWC,KAAK,CACtBF,MACAF,SACAK,QAAS,CAAEC,eAAgB,oBAC3BC,OAAO,EACPC,aAAa,EACbC,iBAAiB,EACjBC,UAAW,kBAAM,IAAIC,gBACrBC,aAAc,WC+CFI,EA/HD,CACbnH,OAAQ,SAACoH,GAAD,OACPA,EAAQC,KACPC,YAAOnP,EAAMG,QACbiP,YAAU,SAAAC,GAAiB,IAAd9H,EAAc8H,EAAd9H,QACZ,OAAOsG,EAAYhG,OAAZ,sBAA2CN,GAAS2H,KAC1DE,YACC,SAACE,GAAD,MACyB,kBAAjBA,EAAIC,UACXpB,aAAWqB,GACV9H,EAAQE,UAAS,GACjBF,EAAQE,UAAS,GACjBF,EAAQI,eACRJ,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAAS6H,EAAIC,cAGtDE,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GACX9H,EAAQI,eACRJ,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAASiI,EAAIH,YAEnDpB,aAAWqB,GACX9H,EAAQI,eACRJ,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAAS,0BAMxDM,OAAQ,SAACkH,GAAD,OACPA,EAAQC,KACPC,YAAOnP,EAAMK,QACb+O,YAAU,SAAAO,GAAiB,IAAdpI,EAAcoI,EAAdpI,QAEZ,OADgBF,OAAOuI,OAAOrI,GAASsI,MAAM,SAACC,GAAD,OAAOC,QAAQD,KAEpDjC,EAAYC,KAAZ,sBAAyCvG,GAAS2H,KACxDE,YACC,SAACE,GAAD,MACyB,kBAAjBA,EAAIC,UACXpB,aAAWqB,GACV9H,EAAQM,gBACRN,EAAQW,aACRX,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAAS6H,EAAIC,cAGtDE,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GACX9H,EAAQO,gBACRP,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAASiI,EAAIH,YAEnDpB,aAAWqB,GACX9H,EAAQO,gBACRP,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAAS,sBAK9C0G,aAAWqB,GACjB9H,EAAQO,gBACRP,EAAQC,eAAe,CACtBH,OAAO,EACPC,QAAS,0DAMfS,QAAS,SAAC+G,GAAD,OACRA,EAAQC,KACPC,YAAOnP,EAAMQ,SACb4O,YAAU,WACT,OAAOvB,EAAY3F,QAAZ,uBAA4CgH,KAClDE,YACC,SAACE,GAAD,MACyB,kBAAjBA,EAAIC,UACXpB,aAAWqB,GACV9H,EAAQS,iBACRT,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAAS6H,EAAIC,cAGtDE,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GACX9H,EAAQU,iBACRV,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAASiI,EAAIH,YAEnDpB,aAAWqB,GACX9H,EAAQU,iBACRV,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAAS,0BAMxDY,WAAY,SAAC4G,GAAD,OACXA,EAAQC,KACPC,YAAOnP,EAAMW,YACbyO,YAAU,WACT,OAAOvB,EAAYgB,IAAZ,eAAgCK,KACtCE,YACC,SAACE,GAAD,OACCA,EAAIC,SAASS,IACV7B,aAAWqB,GAAG9H,EAAQY,kBAAkBgH,EAAIC,SAASS,MACrD7B,aAAWqB,GAAG9H,EAAQa,kBAAkB,oBAE7CkH,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GACX9H,EAAQa,oBACRb,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAASiI,EAAIH,YAEnDpB,aAAWqB,GACX9H,EAAQa,oBACRb,EAAQC,eAAe,CAAEH,OAAO,EAAMC,QAAS,2BCtHnDwI,EAAe,SAACC,EAAIC,EAAMC,GAE/B,MAAO,CACNC,UAFqBC,EAAMC,WAApBhK,UAEciK,KAAK,SAACV,GAAD,OAAOA,EAAE1J,SAASqK,KAAK,SAACC,GAAD,OAAOA,EAAEC,UAAUC,MAAQV,MAC5EzI,QAAO,8BAAAoJ,OAAgCV,EAAhC,eAAAU,OAAkDT,EAAlD,SAyGMU,EArGC,CACftI,YAAa,SAACyG,GAAD,OACZA,EAAQC,KACPC,YAAOnP,EAAMc,aACbsO,YAAU,SAAAC,GAAiB,IAAd9H,EAAc8H,EAAd9H,QAEZ,OADgBF,OAAOuI,OAAOrI,GAASsI,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAEtDlD,EAAYC,KAAZ,kBAAqCvG,GAAS2H,KACpDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQe,mBAAmBuI,EAAKzB,WACtEpB,aAAWqB,GAAG9H,EAAQgB,mBAAmB,2BAE9C+G,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQgB,mBAAmBgH,EAAIH,WAC7CpB,aAAWqB,GAAG9H,EAAQgB,mBAAmB,qBAIxCyF,aAAWqB,GAAG9H,EAAQgB,mBAAmB,gCAIpDC,WAAY,SAACsG,GAAD,OACXA,EAAQC,KACPC,YAAOnP,EAAMiB,YACbmO,YAAU,WACT,OAAOvB,EAAYgB,IAAZ,kBAAmCK,KACzCE,YACC,SAAC4B,GAAD,OACCA,EAAKzB,SAASnJ,SAASa,OACpBkH,aAAWqB,GAAG9H,EAAQkB,kBAAkBoI,EAAKzB,SAASnJ,WACtD+H,aAAWqB,GAAG9H,EAAQkB,kBAAkB,OAE7C6G,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQmB,kBAAkB6G,EAAIH,WAC5CpB,aAAWqB,GAAG9H,EAAQmB,kBAAkB,yBAKjDC,cAAe,SAACmG,GAAD,OACdA,EAAQC,KACPC,YAAOnP,EAAMoB,eACbgO,YAAU,SAAAO,GAAiB,IAAdpI,EAAcoI,EAAdpI,QACN0J,EAAmBhB,EAAa1I,EAAQqJ,IAAK,UAAW,QAC9D,OAAIK,EAAiBZ,UACblC,aAAWqB,GAAG9H,EAAQsB,qBAAqBiI,EAAiBxJ,UAEpDJ,OAAOuI,OAAOrI,GAAS2J,QAAQ,SAACH,GAAD,OAAShB,QAAQgB,KAExDlD,EAAYiB,IAAZ,YAAA+B,OAA4BtJ,EAAQqJ,KAApC,MAAkDrJ,GAAS2H,KACjEE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQqB,qBAAqBiI,EAAKzB,WACxEpB,aAAWqB,GAAG9H,EAAQsB,qBAAqB,2BAEhDyG,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQsB,qBAAqB0G,EAAIH,WAC/CpB,aAAWqB,GAAG9H,EAAQsB,qBAAqB,uBAI1CmF,aAAWqB,GAAG9H,EAAQsB,qBAAqB,gCAItDC,cAAe,SAACgG,GAAD,OACdA,EAAQC,KACPC,YAAOnP,EAAMuB,eACb6N,YAAU,SAAA+B,GAAiB,IAAd5J,EAAc4J,EAAd5J,QACN0J,EAAmBhB,EAAa1I,EAAS,UAAW,UAC1D,OAAI0J,EAAiBZ,UACblC,aAAWqB,GAAG9H,EAAQsB,qBAAqBiI,EAAiBxJ,UAE7DoG,EAAYkB,OAAZ,YAAA8B,OAA+BtJ,GAA/B,UAAoD2H,KAC1DE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQwB,qBAAqB8H,EAAKzB,WAChDpB,aAAWqB,GAAG9H,EAAQyB,qBAAqB,2BAEhDsG,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQyB,qBAAqBuG,EAAIH,WAC/CpB,aAAWqB,GAAG9H,EAAQyB,qBAAqB,4BCtG/C8G,EAAe,SAACC,EAAIC,EAAMC,GAE/B,MAAO,CACNC,UAFqBC,EAAMC,WAApBhK,UAEciK,KAAK,SAACV,GAAD,OAAOA,EAAEsB,SAASR,MAAQV,IACpDzI,QAAO,8BAAAoJ,OAAgCV,EAAhC,eAAAU,OAAkDT,EAAlD,SAyGMiB,EArGA,CACdjI,WAAY,SAAC6F,GAAD,OACXA,EAAQC,KACPC,YAAOnP,EAAM0B,YACb0N,YAAU,SAAAC,GAAiB,IAAd9H,EAAc8H,EAAd9H,QAEZ,OADgBF,OAAOuI,OAAOrI,GAASsI,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAEtDlD,EAAYC,KAAZ,iBAAoCvG,GAAS2H,KACnDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQ2B,kBAAkB2H,EAAKzB,WACrEpB,aAAWqB,GAAG9H,EAAQ4B,kBAAkB,2BAE7CmG,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ4B,kBAAkBoG,EAAIH,WAC5CpB,aAAWqB,GAAG9H,EAAQ4B,kBAAkB,qBAIvC6E,aAAWqB,GAAG9H,EAAQ4B,kBAAkB,gCAInDC,UAAW,SAAC0F,GAAD,OACVA,EAAQC,KACPC,YAAOnP,EAAM6B,WACbuN,YAAU,WACT,OAAOvB,EAAYgB,IAAZ,iBAAkCK,KACxCE,YACC,SAAC4B,GAAD,OACCA,EAAKzB,SAASlJ,QAAQY,OACnBkH,aAAWqB,GAAG9H,EAAQ8B,iBAAiBwH,EAAKzB,SAASlJ,UACrD8H,aAAWqB,GAAG9H,EAAQ8B,iBAAiB,OAE5CiG,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ+B,iBAAiBiG,EAAIH,WAC3CpB,aAAWqB,GAAG9H,EAAQ+B,iBAAiB,yBAKhDC,aAAc,SAACuF,GAAD,OACbA,EAAQC,KACPC,YAAOnP,EAAMgC,cACboN,YAAU,SAAAO,GAAiB,IAAdpI,EAAcoI,EAAdpI,QACN0J,EAAmBhB,EAAa1I,EAAQqJ,IAAK,SAAU,QAC7D,OAAIK,EAAiBZ,UACblC,aAAWqB,GAAG9H,EAAQkC,oBAAoBqH,EAAiBxJ,UAEnDJ,OAAOuI,OAAOrI,GAAS2J,QAAQ,SAACH,GAAD,OAAShB,QAAQgB,KAExDlD,EAAYiB,IAAZ,WAAA+B,OAA2BtJ,EAAQqJ,KAAnC,MAAiDrJ,GAAS2H,KAChEE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQiC,oBAAoBqH,EAAKzB,WACvEpB,aAAWqB,GAAG9H,EAAQkC,oBAAoB,2BAE/C6F,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQkC,oBAAoB8F,EAAIH,WAC9CpB,aAAWqB,GAAG9H,EAAQkC,oBAAoB,qBAIzCuE,aAAWqB,GAAG9H,EAAQkC,oBAAoB,gCAIrDC,aAAc,SAACoF,GAAD,OACbA,EAAQC,KACPC,YAAOnP,EAAMmC,cACbiN,YAAU,SAAA+B,GAAiB,IAAd5J,EAAc4J,EAAd5J,QACN0J,EAAmBhB,EAAa1I,EAAS,SAAU,UACzD,OAAI0J,EAAiBZ,UACblC,aAAWqB,GAAG9H,EAAQqC,oBAAoBkH,EAAiBxJ,UAE5DoG,EAAYkB,OAAZ,WAAA8B,OAA8BtJ,GAA9B,UAAmD2H,KACzDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQoC,oBAAoBkH,EAAKzB,WAC/CpB,aAAWqB,GAAG9H,EAAQqC,oBAAoB,2BAE/C0F,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQqC,oBAAoB2F,EAAIH,WAC9CpB,aAAWqB,GAAG9H,EAAQqC,oBAAoB,0BCtG9CkG,EAAe,SAACC,EAAIC,EAAMC,GAE/B,MAAO,CACNC,UAFiBC,EAAMC,WAAhB/J,MAEUgK,KAAK,SAACV,GAAD,OAAOA,EAAEwB,SAASV,MAAQV,IAChDzI,QAAO,8BAAAoJ,OAAgCV,EAAhC,eAAAU,OAAkDT,EAAlD,SAyGMmB,EArGA,CACdvH,WAAY,SAACiF,GAAD,OACXA,EAAQC,KACPC,YAAOnP,EAAMsC,YACb8M,YAAU,SAAAC,GAAiB,IAAd9H,EAAc8H,EAAd9H,QAEZ,OADgBF,OAAOuI,OAAOrI,GAASsI,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAEtDlD,EAAYC,KAAZ,iBAAoCvG,GAAS2H,KACnDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQuC,kBAAkB+G,EAAKzB,WACrEpB,aAAWqB,GAAG9H,EAAQwC,kBAAkB,2BAE7CuF,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQwC,kBAAkBwF,EAAIH,WAC5CpB,aAAWqB,GAAG9H,EAAQwC,kBAAkB,qBAIvCiE,aAAWqB,GAAG9H,EAAQwC,kBAAkB,gCAInDC,UAAW,SAAC8E,GAAD,OACVA,EAAQC,KACPC,YAAOnP,EAAMyC,WACb2M,YAAU,WACT,OAAOvB,EAAYgB,IAAZ,iBAAkCK,KACxCE,YACC,SAAC4B,GAAD,OACCA,EAAKzB,SAASjJ,QAAQW,OACnBkH,aAAWqB,GAAG9H,EAAQ0C,iBAAiB4G,EAAKzB,SAASjJ,UACrD6H,aAAWqB,GAAG9H,EAAQ0C,iBAAiB,OAE5CqF,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ2C,iBAAiBqF,EAAIH,WAC3CpB,aAAWqB,GAAG9H,EAAQ2C,iBAAiB,yBAKhDC,aAAc,SAAC2E,GAAD,OACbA,EAAQC,KACPC,YAAOnP,EAAM4C,cACbwM,YAAU,SAAAO,GAAiB,IAAdpI,EAAcoI,EAAdpI,QACN0J,EAAmBhB,EAAa1I,EAAQqJ,IAAK,SAAU,QAC7D,OAAIK,EAAiBZ,UACblC,aAAWqB,GAAG9H,EAAQ8C,oBAAoByG,EAAiBxJ,UAEnDJ,OAAOuI,OAAOrI,GAAS2J,QAAQ,SAACH,GAAD,OAAShB,QAAQgB,KAExDlD,EAAYiB,IAAZ,WAAA+B,OAA2BtJ,EAAQqJ,KAAnC,MAAiDrJ,GAAS2H,KAChEE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQ6C,oBAAoByG,EAAKzB,WACvEpB,aAAWqB,GAAG9H,EAAQ8C,oBAAoB,2BAE/CiF,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ8C,oBAAoBkF,EAAIH,WAC9CpB,aAAWqB,GAAG9H,EAAQ8C,oBAAoB,uBAIzC2D,aAAWqB,GAAG9H,EAAQ8C,oBAAoB,gCAIrDC,aAAc,SAACwE,GAAD,OACbA,EAAQC,KACPC,YAAOnP,EAAM+C,cACbqM,YAAU,SAAA+B,GAAiB,IAAd5J,EAAc4J,EAAd5J,QACN0J,EAAmBhB,EAAa1I,EAAS,SAAU,UACzD,OAAI0J,EAAiBZ,UACblC,aAAWqB,GAAG9H,EAAQiD,oBAAoBsG,EAAiBxJ,UAE5DoG,EAAYkB,OAAZ,WAAA8B,OAA8BtJ,GAA9B,UAAmD2H,KACzDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQgD,oBAAoBsG,EAAKzB,WAC/CpB,aAAWqB,GAAG9H,EAAQiD,oBAAoB,2BAE/C8E,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQiD,oBAAoB+E,EAAIH,WAC9CpB,aAAWqB,GAAG9H,EAAQiD,oBAAoB,4BCtG9C6G,EAAa,WAAM,IAAAC,EACenB,EAAMC,WAArChK,EADgBkL,EAChBlL,UAAWC,EADKiL,EACLjL,MAAOJ,EADFqL,EACErL,SACpBsL,EAAW,GAIjB,OAHAtL,EAASuL,QAAQ,SAAC7B,GAAD,OAAQ4B,EAAS5B,EAAEc,KAAO,IAC3CrK,EAAUoL,QAAQ,SAAC7B,GAAD,OAAOA,EAAE1J,SAASuL,QAAQ,SAACjB,GAAD,OAAQgB,EAAShB,EAAEC,UAAUC,MAAQF,EAAEkB,aACnFpL,EAAMmL,QAAQ,SAAC7B,GAAD,OAAOA,EAAE1J,SAASuL,QAAQ,SAACjB,GAAD,OAAQgB,EAAShB,EAAEC,UAAUC,MAAQF,EAAEkB,aACxEF,GAGFzB,EAAe,SAACC,EAAIC,EAAMC,GAE/B,MAAO,CACNC,UAFoBC,EAAMC,WAAnB9J,SAEa+J,KAAK,SAACV,GAAD,OAAOA,EAAE+B,QAAQpB,KAAK,SAACC,GAAD,OAAOA,EAAEoB,aAAe5B,MACvEzI,QAAO,8BAAAoJ,OAAgCV,EAAhC,eAAAU,OAAkDT,EAAlD,SA4IM2B,EAxIE,CAChBnH,aAAc,SAACqE,GAAD,OACbA,EAAQC,KACPC,YAAOnP,EAAMkD,cACbkM,YAAU,SAAAC,GAAiB,IAAd9H,EAAc8H,EAAd9H,QAEZ,OADgBF,OAAOuI,OAAOrI,GAASsI,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAEtDlD,EAAYC,KAAZ,mBAAsCvG,GAAS2H,KACrDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQmD,oBAAoBmG,EAAKzB,WACvEpB,aAAWqB,GAAG9H,EAAQoD,oBAAoB,2BAE/C2E,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQoD,oBAAoB4E,EAAIH,WAC9CpB,aAAWqB,GAAG9H,EAAQoD,oBAAoB,qBAIzCqD,aAAWqB,GAAG9H,EAAQoD,oBAAoB,gCAIrDC,YAAa,SAACkE,GAAD,OACZA,EAAQC,KACPC,YAAOnP,EAAMqD,aACb+L,YAAU,WACT,OAAOvB,EAAYgB,IAAZ,mBAAoCK,KAC1CE,YACC,SAAC4B,GAAD,OACCA,EAAKzB,SAAStI,OACXkH,aAAWqB,GAAG9H,EAAQsD,mBAAmBgG,EAAKzB,WAC9CpB,aAAWqB,GAAG9H,EAAQsD,mBAAmB,OAE9CyE,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQuD,mBAAmByE,EAAIH,WAC7CpB,aAAWqB,GAAG9H,EAAQuD,mBAAmB,yBAKlDI,eAAgB,SAAC4D,GAAD,OACfA,EAAQC,KACPC,YAAOnP,EAAMwD,gBACb4L,YAAU,SAAAO,GAAiB,IAAdpI,EAAcoI,EAAdpI,QACN0J,EAAmBhB,EAAa1I,EAAQqJ,IAAK,WAAY,QAC/D,GAAIK,EAAiBZ,UACpB,OAAOlC,aAAWqB,GAAG9H,EAAQ6D,sBAAsB0F,EAAiBxJ,UAErE,IAAMuK,EAAQR,IACRS,EAAW,GAgBjB,OAfA1K,EAAQnB,SAASuL,QAAQ,SAACO,GACzB,GAAIA,EAAMC,aACT,GAAID,EAAMC,eAAiBD,EAAMvB,UAAW,CAC3C,IAAMyB,GAAOJ,EAAME,EAAMC,eAAiBD,EAAMG,cAAeH,EAAMN,SACjEQ,EAAM,GACTH,EAASK,KAAT,aAAAzB,OAA2BqB,EAAMK,YAAjC,yBAAA1B,OAAoEuB,QAE/D,CACN,IAAMA,GAAOJ,EAAME,EAAMC,eAAiBD,EAAMG,YAC5CD,EAAM,GACTH,EAASK,KAAT,eAAAzB,OAA6BqB,EAAMK,YAAnC,yBAAA1B,OAAsEuB,OAKtEH,EAAShL,OACLkH,aAAWqB,GAAG9H,EAAQ6D,sBAAsB,0BAE5CsC,EAAYiB,IAAZ,aAAA+B,OAA6BtJ,EAAQqJ,KAArC,MAAmDrJ,GAAS2H,KAClEE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GACX9H,EAAQE,UAAS,GACjBF,EAAQ4D,sBAAsB0F,EAAKzB,WAEnCpB,aAAWqB,GAAG9H,EAAQ6D,sBAAsB,sBAEjDkE,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ6D,sBAAsBmE,EAAIH,WAChDpB,aAAWqB,GAAG9H,EAAQ6D,sBAAsB,yBAMtDL,eAAgB,SAAC+D,GAAD,OACfA,EAAQC,KACPC,YAAOnP,EAAM2D,gBACbyL,YAAU,SAAA+B,GAAiB,IAAd5J,EAAc4J,EAAd5J,QACN0J,EAAmBhB,EAAa1I,EAAS,WAAY,UAC3D,GAAI0J,EAAiBZ,UACpB,OAAOlC,aAAWqB,GAAG9H,EAAQ0D,sBAAsB6F,EAAiBxJ,UAErE,IAAMuK,EAAQR,IACNpL,EAAakK,EAAMC,WAAWhK,UAAUkK,KAAK,SAACX,GAAD,OAAOA,EAAEc,MAAQrJ,IAA9DnB,SACF6L,EAAW,GAUjB,OATA7L,EAASuL,QAAQ,SAACO,IACJF,EAAME,EAAMvB,UAAUC,MAAQsB,EAAMN,SACvC,GACTK,EAASK,KAAT,GAAAzB,OACIqB,EAAMvB,UAAU4B,YADpB,yBAAA1B,OACuDmB,EAAME,EAAMvB,UAAUC,KAC3EsB,EAAMN,aAINK,EAAShL,OACLkH,aAAWqB,GAAG9H,EAAQ0D,sBAAsB6G,EAASO,KAAK,QAE1D3E,EAAYkB,OAAZ,aAAA8B,OAAgCtJ,GAAhC,UAAqD2H,KAC3DE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQyD,sBAAsB6F,EAAKzB,WACjDpB,aAAWqB,GAAG9H,EAAQ0D,sBAAsB,sBAEjDqE,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ0D,sBAAsBsE,EAAIH,WAChDpB,aAAWqB,GAAG9H,EAAQ0D,sBAAsB,0BCjJjDoG,EAAa,WAAM,IAAAC,EACenB,EAAMC,WAArChK,EADgBkL,EAChBlL,UAAWC,EADKiL,EACLjL,MAAOJ,EADFqL,EACErL,SACpBsL,EAAW,GAIjB,OAHAtL,EAASuL,QAAQ,SAAC7B,GAAD,OAAQ4B,EAAS5B,EAAEc,KAAO,IAC3CrK,EAAUoL,QAAQ,SAAC7B,GAAD,OAAOA,EAAE1J,SAASuL,QAAQ,SAACjB,GAAD,OAAQgB,EAAShB,EAAEC,UAAUC,MAAQF,EAAEkB,aACnFpL,EAAMmL,QAAQ,SAAC7B,GAAD,OAAOA,EAAE1J,SAASuL,QAAQ,SAACjB,GAAD,OAAQgB,EAAShB,EAAEC,UAAUC,MAAQF,EAAEkB,aACxEF,GAGFzB,EAAe,SAACC,EAAIC,EAAMC,GAE/B,MAAO,CACNC,UAFsBC,EAAMC,WAArB7J,WAEe8J,KAAK,SAACV,GAAD,OAAOA,EAAE+B,QAAQpB,KAAK,SAACC,GAAD,OAAOA,EAAE+B,SAAWvC,MACrEzI,QAAO,8BAAAoJ,OAAgCV,EAAhC,eAAAU,OAAkDT,EAAlD,SA6JMsC,EAzJF,CACZlH,SAAU,SAACyD,GAAD,OACTA,EAAQC,KACPC,YAAOnP,EAAM8D,UACbsL,YAAU,SAAAC,GAAiB,IAAd9H,EAAc8H,EAAd9H,QACNoL,EAAW,GACjBpL,EAAQnB,SAASuL,QAAQ,SAAC7B,GACzB6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAOX,QAAQW,KAAY,IAANA,OAE3DrJ,OAAOuI,OAAOrI,GAASoK,QAAQ,SAAC7B,GAC/B6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAOX,QAAQW,QAErD,IAAMuB,EAAW,GACXD,EAAQR,IAQd,OAPAjK,EAAQnB,SAASuL,QAAQ,SAACO,GACrBF,EAAME,EAAMvB,WAAauB,EAAMN,UAClCK,EAASK,KAAT,GAAAzB,OACIqB,EAAMK,YADV,yBAAA1B,OAC6CmB,EAAME,EAAMvB,WAAauB,EAAMN,aAI1EK,EAAShL,OACLkH,aAAWqB,GAAG9H,EAAQgE,gBAAgB,0BAEzCiH,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAC5BlD,EAAYC,KAAZ,eAAkCvG,GAAS2H,KACjDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQ+D,gBAAgBuF,EAAKzB,WACnEpB,aAAWqB,GAAG9H,EAAQgE,gBAAgB,2BAE3C+D,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQgE,gBAAgBgE,EAAIH,WAC1CpB,aAAWqB,GAAG9H,EAAQgE,gBAAgB,qBAIrCyC,aAAWqB,GAAG9H,EAAQgE,gBAAgB,gCAKlDC,QAAS,SAACsD,GAAD,OACRA,EAAQC,KACPC,YAAOnP,EAAMiE,SACbmL,YAAU,WACT,OAAOvB,EAAYgB,IAAZ,eAAgCK,KACtCE,YACC,SAAC4B,GAAD,OACCA,EAAKzB,SAAStI,OACXkH,aAAWqB,GAAG9H,EAAQkE,eAAeoF,EAAKzB,WAC1CpB,aAAWqB,GAAG9H,EAAQkE,eAAe,OAE1C6D,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQmE,eAAe6D,EAAIH,WACzCpB,aAAWqB,GAAG9H,EAAQmE,eAAe,yBAK9CC,WAAY,SAACmD,GAAD,OACXA,EAAQC,KACPC,YAAOnP,EAAMoE,YACbgL,YAAU,SAAAO,GAAiB,IAAdpI,EAAcoI,EAAdpI,QACN0J,EAAmBhB,EAAa1I,EAAQqJ,IAAK,OAAQ,QAC3D,GAAIK,EAAiBZ,UACpB,OAAOlC,aAAWqB,GAAG9H,EAAQsE,kBAAkBiF,EAAiBxJ,UAEjE,IAAMkL,EAAW,GACjBpL,EAAQnB,SAASuL,QAAQ,SAAC7B,GACzB6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAOX,QAAQW,KAAY,IAANA,OAE3DrJ,OAAOuI,OAAOrI,GAASoK,QAAQ,SAAC7B,GAC/B6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAOX,QAAQW,QAErD,IAAMuB,EAAW,GACXD,EAAQR,IAkBd,OAjBAjK,EAAQnB,SAASuL,QAAQ,SAACO,GACrBA,EAAMC,eAAiBD,EAAMvB,UACpBqB,EAAME,EAAMC,cAAgBD,EAAMG,YAAcH,EAAMN,SACxD,GACTK,EAASK,KAAT,GAAAzB,OACIqB,EAAMK,YADV,yBAAA1B,OAC6CmB,EAAME,EAAMvB,WAAauB,EAAMN,WAIjEI,EAAME,EAAMvB,WAAauB,EAAMN,SACjC,GACTK,EAASK,KAAT,GAAAzB,OACIqB,EAAMK,YADV,yBAAA1B,OAC6CmB,EAAME,EAAMvB,WAAauB,EAAMN,aAK3EK,EAAShL,OACLkH,aAAWqB,GAAG9H,EAAQsE,kBAAkB,0BAE3C2G,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAC5BlD,EAAYiB,IAAZ,SAAA+B,OAAyBtJ,EAAQqJ,KAAjC,MAA+CrJ,GAAS2H,KAC9DE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GACX9H,EAAQE,UAAS,GACjBF,EAAQqE,kBAAkBiF,EAAKzB,WAE/BpB,aAAWqB,GAAG9H,EAAQsE,kBAAkB,2BAE7CyD,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQsE,kBAAkB0D,EAAIH,WAC5CpB,aAAWqB,GAAG9H,EAAQsE,kBAAkB,qBAIvCmC,aAAWqB,GAAG9H,EAAQsE,kBAAkB,gCAKpDC,WAAY,SAACgD,GAAD,OACXA,EAAQC,KACPC,YAAOnP,EAAMuE,YACb6K,YAAU,SAAA+B,GAAiB,IAAd5J,EAAc4J,EAAd5J,QACN0J,EAAmBhB,EAAa1I,EAAS,OAAQ,UACvD,OAAI0J,EAAiBZ,UACblC,aAAWqB,GAAG9H,EAAQyE,kBAAkB8E,EAAiBxJ,UAEzDoG,EAAYkB,OAAZ,SAAA8B,OAA4BtJ,GAA5B,UAAiD2H,KACvDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQwE,kBAAkB8E,EAAKzB,WAC7CpB,aAAWqB,GAAG9H,EAAQyE,kBAAkB,sBAE7CsD,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQyE,kBAAkBuD,EAAIH,WAC5CpB,aAAWqB,GAAG9H,EAAQyE,kBAAkB,0BC9DpCyG,EArGC,CACfxG,YAAa,SAAC6C,GAAD,OACZA,EAAQC,KACPC,YAAOnP,EAAM0E,aACb0K,YAAU,SAAAC,GAAiB,IAAd9H,EAAc8H,EAAd9H,QACNoL,EAAW,GAKjB,OAJApL,EAAQsK,QAAQF,QAAQ,SAAC7B,GACxB6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAa,IAANA,GAAeX,QAAQW,QAEpEiC,EAASL,KAAKjL,OAAOuI,OAAOrI,GAASsI,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,MACxD4B,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAC5BlD,EAAYC,KAAZ,kBAAqCvG,GAAS2H,KACpDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQ2E,mBAAmB2E,EAAKzB,WACtEpB,aAAWqB,GAAG9H,EAAQ4E,mBAAmB,2BAE9CmD,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ4E,mBAAmBoD,EAAIH,WAC7CpB,aAAWqB,GAAG9H,EAAQ4E,mBAAmB,qBAIxC6B,aAAWqB,GAAG9H,EAAQ4E,mBAAmB,gCAIpDC,WAAY,SAAC0C,GAAD,OACXA,EAAQC,KACPC,YAAOnP,EAAM6E,YACbuK,YAAU,WACT,OAAOvB,EAAYgB,IAAZ,kBAAmCK,KACzCE,YACC,SAAC4B,GAAD,OACCA,EAAKzB,SAAStI,OACXkH,aAAWqB,GAAG9H,EAAQ8E,kBAAkBwE,EAAKzB,WAC7CpB,aAAWqB,GAAG9H,EAAQ8E,kBAAkB,OAE7CiD,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ+E,kBAAkBiD,EAAIH,WAC5CpB,aAAWqB,GAAG9H,EAAQ+E,kBAAkB,yBAKjDC,cAAe,SAACuC,GAAD,OACdA,EAAQC,KACPC,YAAOnP,EAAMgF,eACboK,YAAU,SAAAO,GAAiB,IAAdpI,EAAcoI,EAAdpI,QACNoL,EAAW,GAKjB,OAJApL,EAAQsK,QAAQF,QAAQ,SAAC7B,GACxB6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAa,IAANA,GAAeX,QAAQW,QAEpEiC,EAASL,KAAKjL,OAAOuI,OAAOrI,GAASsI,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,MACxD4B,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAC5BlD,EAAYiB,IAAZ,YAAA+B,OAA4BtJ,EAAQqJ,KAApC,MAAkDrJ,GAAS2H,KACjEE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQiF,qBAAqBqE,EAAKzB,WACxEpB,aAAWqB,GAAG9H,EAAQkF,qBAAqB,sBAEhD6C,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQkF,qBAAqB8C,EAAIH,WAC/CpB,aAAWqB,GAAG9H,EAAQkF,qBAAqB,qBAI1CuB,aAAWqB,GAAG9H,EAAQkF,qBAAqB,gCAItDC,cAAe,SAACoC,GAAD,OACdA,EAAQC,KACPC,YAAOnP,EAAMmF,eACbiK,YAAU,SAAA+B,GAAiB,IAAd5J,EAAc4J,EAAd5J,QACZ,OAAOsG,EAAYkB,OAAZ,YAAA8B,OAA+BtJ,GAA/B,UAAoD2H,KAC1DE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQoF,qBAAqBkE,EAAKzB,WAChDpB,aAAWqB,GAAG9H,EAAQqF,qBAAqB,2BAEhD0C,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQkF,qBAAqB8C,EAAIH,WAC/CpB,aAAWqB,GAAG9H,EAAQkF,qBAAqB,0BCUtCiG,EAxGE,CAChB7F,aAAc,SAACiC,GAAD,OACbA,EAAQC,KACPC,YAAOnP,EAAMsF,cACb8J,YAAU,SAAAC,GAAiB,IAAd9H,EAAc8H,EAAd9H,QACNoL,EAAW,GAKjB,OAJApL,EAAQsK,QAAQF,QAAQ,SAAC7B,GACxB6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAa,IAANA,GAAeX,QAAQW,QAEpEiC,EAASL,KAAKjL,OAAOuI,OAAOrI,GAASsI,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,MACxD4B,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAC5BlD,EAAYC,KAAZ,mBAAsCvG,GAAS2H,KACrDE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQE,UAAS,GAAOF,EAAQuF,oBAAoB+D,EAAKzB,WACvEpB,aAAWqB,GAAG9H,EAAQwF,oBAAoB,2BAE/CuC,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQwF,oBAAoBwC,EAAIH,WAC9CpB,aAAWqB,GAAG9H,EAAQwF,oBAAoB,qBAIzCiB,aAAWqB,GAAG9H,EAAQwF,oBAAoB,gCAIrDC,YAAa,SAAC8B,GAAD,OACZA,EAAQC,KACPC,YAAOnP,EAAMyF,aACb2J,YAAU,WACT,OAAOvB,EAAYgB,IAAZ,mBAAoCK,KAC1CE,YACC,SAAC4B,GAAD,OACCA,EAAKzB,SAAStI,OACXkH,aAAWqB,GAAG9H,EAAQ0F,mBAAmB4D,EAAKzB,WAC9CpB,aAAWqB,GAAG9H,EAAQ0F,mBAAmB,OAE9CqC,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ2F,mBAAmBqC,EAAIH,WAC7CpB,aAAWqB,GAAG9H,EAAQ2F,mBAAmB,yBAKlDC,eAAgB,SAAC2B,GAAD,OACfA,EAAQC,KACPC,YAAOnP,EAAM4F,gBACbwJ,YAAU,SAAAO,GAAiB,IAAdpI,EAAcoI,EAAdpI,QACNoL,EAAW,GAKjB,OAJApL,EAAQsK,QAAQF,QAAQ,SAAC7B,GACxB6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAa,IAANA,GAAeX,QAAQW,QAEpEiC,EAASL,KAAKjL,OAAOuI,OAAOrI,GAASsI,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,MACxD4B,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,KAC5BlD,EAAYiB,IAAZ,aAAA+B,OAA6BtJ,EAAQqJ,KAArC,MAAmDrJ,GAAS2H,KAClEE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GACX9H,EAAQE,UAAS,GACjBF,EAAQ6F,sBAAsByD,EAAKzB,WAEnCpB,aAAWqB,GAAG9H,EAAQ8F,sBAAsB,sBAEjDiC,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQ8F,sBAAsBkC,EAAIH,WAChDpB,aAAWqB,GAAG9H,EAAQ8F,sBAAsB,qBAI3CW,aAAWqB,GAAG9H,EAAQ8F,sBAAsB,gCAIvDC,eAAgB,SAACwB,GAAD,OACfA,EAAQC,KACPC,YAAOnP,EAAM+F,gBACbqJ,YAAU,SAAA+B,GAAiB,IAAd5J,EAAc4J,EAAd5J,QACZ,OAAOsG,EAAYkB,OAAZ,aAAA8B,OAAgCtJ,GAAhC,UAAqD2H,KAC3DE,YACC,SAAC4B,GAAD,MAC0B,kBAAlBA,EAAKzB,SACTpB,aAAWqB,GAAG9H,EAAQgG,sBAAsBsD,EAAKzB,WACjDpB,aAAWqB,GAAG9H,EAAQiG,sBAAsB,sBAEjD8B,YACC,SAACC,GAAD,MACyB,kBAAjBA,EAAIH,SACRpB,aAAWqB,GAAG9H,EAAQiG,sBAAsB+B,EAAIH,WAChDpB,aAAWqB,GAAG9H,EAAQiG,sBAAsB,0BC/FvCmF,cACX9D,EAAMnH,OACNmH,EAAMjH,OACNiH,EAAM9G,QACN8G,EAAM3G,WAENyI,EAAQtI,YACRsI,EAAQnI,WACRmI,EAAQhI,cACRgI,EAAQ7H,cAERoI,EAAOjI,WACPiI,EAAO9H,UACP8H,EAAO3H,aACP2H,EAAOxH,aAEP0H,EAAOvH,WACPuH,EAAOpH,UACPoH,EAAOjH,aACPiH,EAAO9G,aAEPsH,EAASnH,aACTmH,EAAShH,YACTgH,EAAS1G,eACT0G,EAAS7G,eAETwH,EAAKlH,SACLkH,EAAK/G,QACL+G,EAAK5G,WACL4G,EAAKzG,WAEL2G,EAAQxG,YACRwG,EAAQrG,WACRqG,EAAQlG,cACRkG,EAAQ/F,cAERgG,EAAS7F,aACT6F,EAAS1F,YACT0F,EAASvF,eACTuF,EAASpF,gBC5CPsF,EAAmBC,OAAOC,sCAAwCC,IAElEC,EAAiBC,cAEjB9C,EAAQ+C,YACVvM,EACAiM,EACIO,YAAgBH,KAIxBA,EAAeI,IAAIC,GAIJlD,iFCXTmD,sBACF,SAAAA,IAAc,IAAAC,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAAH,IACVC,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAoM,GAAAM,KAAAH,QAUJI,aAAe,SAAAC,GAAM,IAAAC,EACOD,EAAGE,OAAnBC,EADSF,EACTE,KAAMlC,EADGgC,EACHhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACK+M,EAAOlC,KAdFwB,EAiBda,gBAAkB,WAAM,IAAAC,EACQd,EAAK3M,MAAzB0N,EADYD,EACZC,MAAOC,EADKF,EACLE,SACfhB,EAAKiB,MAAM5M,OAAO,CAAE0M,QAAOC,cAnBjBhB,EAqBdkB,WAAa,WACTlB,EAAKiB,MAAME,QAAQvC,KAAK,YApBxBoB,EAAK3M,MAAQ,CACT0N,MAAO,oBACPC,SAAU,aAJJhB,mFAQV,OAAIE,KAAKe,MAAMrE,MAAMnK,QAAQsO,MAAcb,KAAKe,MAAME,QAAQvC,KAAK,cAC5DsB,KAAKe,MAAME,QAAQvC,KAAK,sCAe1B,IAAAwC,EACuBlB,KAAK7M,MAAzB0N,EADHK,EACGL,MAAOC,EADVI,EACUJ,SACf,OACIK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIC,UAAW,EACXF,UAAU,uBAEVH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIE,MAAM,SACNC,MAAM,UACNC,QAAQ,KACRC,cAAc,GAEdT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,iBAEJH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIE,MAAM,SACNC,MAAM,gBACNC,QAAQ,MAHZ,WAOAR,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIM,WAAS,EACTrO,KAAK,OACLgN,KAAK,QAAQlC,MAAOuC,EACpBiB,MAAM,QACNC,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,UAEXd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACI/N,KAAK,WACLgN,KAAK,WAAWlC,MAAOwC,EACvBgB,MAAM,WACNC,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,UAEXd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACII,QAAQ,YACRK,WAAW,EACXE,SAAS,UACTR,MAAM,UACNS,KAAK,QACLC,QAASpC,KAAKW,kBAChBQ,EAAAC,EAAAC,cAAA,WACFF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIE,MAAM,SACNS,SAAS,2BACTR,MAAM,kBAEVP,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACII,QAAQ,WACRO,SAAS,qBACTR,MAAM,YACNS,KAAK,SACLC,QAASpC,KAAKgB,uBAtFrBqB,cAyGNC,cAVS,SAAA5F,GACpB,MAAO,CAAEA,UAGc,SAAA6F,GACvB,MAAO,CACHpO,OAAQ,SAAC0M,EAAOC,GAAR,OAAqByB,EAASzO,EAAQK,OAAO0M,EAAOC,OAIrDwB,CAA6CzC,+FC9FtD2C,eACF,SAAAA,EAAYzB,GAAO,IAAAjB,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAAwC,IACf1C,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAA+O,GAAArC,KAAAH,KAAMe,KACD5N,MAAQ,CACTmL,MAAOyC,EAAMzC,MACbmE,WAAY,GAJD3C,mFASfE,KAAKS,SAAS,CACVgC,WAAYC,IAASC,YAAY3C,KAAK4C,eAAeC,+CAIpD,IAAAC,EAAA9C,KAAA+C,EAC8D/C,KAAKe,MAAhEiC,EADHD,EACGC,QAASC,EADZF,EACYE,MAAOC,EADnBH,EACmBG,SAAUC,EAD7BJ,EAC6BI,SAAUC,EADvCL,EACuCK,SAAUC,EADjDN,EACiDM,SACtD,OACIlC,EAAAC,EAAAC,cAAA,OAAKC,UAAW0B,EAAQM,MACpBnC,EAAAC,EAAAC,cAACkC,GAAAnC,EAAD,CAAaO,QAAQ,WAAWL,UAAW0B,EAAQQ,aAC/CrC,EAAAC,EAAAC,cAACoC,GAAArC,EAAD,CACIsC,IAAK,SAAAA,GACDZ,EAAKF,cAAgBc,GAEzBC,QAAQ,0BAEPR,GAELhC,EAAAC,EAAAC,cAACuC,GAAAxC,EAAD,CACIyC,QAAM,EACNvF,MAAO8E,EACPrB,SAAUsB,EACVS,MACI3C,EAAAC,EAAAC,cAAC0C,GAAA3C,EAAD,CACIZ,KAAM0C,EACNT,WAAYzC,KAAK7M,MAAMsP,WACvBnG,GAAG,4BAIX6E,EAAAC,EAAAC,cAAA,UAAQ/C,MAAM,KACb2E,EAAMe,IAAI,SAAC7G,EAAK8G,GACb,OACI9C,EAAAC,EAAAC,cAAA,UAAQ6C,IAAKD,EAAK3F,MAAOnB,GAAMA,eA3CnCgH,IAAM9B,WAyDnB+B,wBArEA,SAAAC,GAAK,MAAK,CACrBf,KAAM,CACFgB,QAAS,OACTC,SAAU,QAEdf,YAAa,CACTgB,UAAgC,GAArBH,EAAMI,QAAQC,KACzBC,aAAmC,GAArBN,EAAMI,QAAQC,KAC5BE,SAAU,UA6DHR,CAAmB5B,ICnE5BqC,eACF,SAAAA,IAAc,IAAA/E,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA6E,IACV/E,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAoR,GAAA1E,KAAAH,QAiBJI,aAAe,SAAAC,GAAM,IAAAC,EACOD,EAAGE,OAAnBC,EADSF,EACTE,KAAMlC,EADGgC,EACHhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACK+M,EAAOlC,KArBFwB,EAwBdgF,WAAa,WACThF,EAAKiB,MAAME,QAAQvC,KAAK,MAzBdoB,EA2BdiF,gBAAkB,WAEd,OADiBtR,OAAOuI,OAAO8D,EAAK3M,OAAO8I,MAAM,SAAAC,GAAC,OAAmB,IAAfC,QAAQD,KACzC4D,EAAKiB,MAAM9M,OAAO6L,EAAK3M,OACrC2M,EAAKiB,MAAMhN,gBAAe,EAAM,4BA5BvC+L,EAAK3M,MAAQ,CACT0N,MAAO,oBACPC,SAAU,YACVkE,gBAAiB,YACjBC,OAAQ,eACRC,IAAK,aACLC,MAAO,SACPC,KAAM,aACNC,OAAQ,OACRC,cAAe,UACfC,KAAM,mBAZAzF,mFAgBV,GAAIE,KAAKe,MAAMrE,MAAMnK,QAAQsO,MAAO,OAAOb,KAAKe,MAAME,QAAQvC,KAAK,+CAgB9D,IAAAkC,EAIDZ,KAAK7M,MAFL0N,EAFCD,EAEDC,MAAOC,EAFNF,EAEME,SACPkE,EAHCpE,EAGDoE,gBAAiBC,EAHhBrE,EAGgBqE,OAAQC,EAHxBtE,EAGwBsE,IAAKC,EAH7BvE,EAG6BuE,MAAOC,EAHpCxE,EAGoCwE,KAAMC,EAH1CzE,EAG0CyE,OAAQE,EAHlD3E,EAGkD2E,KAAMD,EAHxD1E,EAGwD0E,cAE7D,OACInE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIC,UAAW,EACXF,UAAU,uBAEVH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIE,MAAM,SACNC,MAAM,UACNC,QAAQ,KACRC,cAAc,GAEdT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,iBAEJH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIE,MAAM,SACNC,MAAM,gBACNC,QAAQ,MAHZ,gBAOAR,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIM,WAAS,EACTrO,KAAK,OACLgN,KAAK,QAAQlC,MAAOuC,EACpBiB,MAAM,QACNC,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,UAEXd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACI/N,KAAK,WACLgN,KAAK,WAAWlC,MAAOwC,EACvBgB,MAAM,WACNC,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,UAEXd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACI/N,KAAK,WACLgN,KAAK,kBAAkBlC,MAAO0G,EAC9BlD,MAAM,mBACNC,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,UAEXd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACI/N,KAAK,OACLgN,KAAK,SAASlC,MAAO2G,EACrBnD,MAAM,aACNC,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,QACPuD,MAAO,CAAEb,aAAc,IACvBc,WAAY,0BAEhBtE,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACI/N,KAAK,OACLgN,KAAK,MAAMlC,MAAO4G,EAClBpD,MAAM,gBACN4D,gBAAiB,CAAEC,QAAQ,GAC3B5D,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,UAEXd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACI/N,KAAK,OACLgN,KAAK,QAAQlC,MAAO6G,EACpBrD,MAAM,aACNC,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,UAEXd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACI/N,KAAK,OACLgN,KAAK,OAAOlC,MAAO8G,EACnBtD,MAAM,YACNC,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,UAEXd,EAAAC,EAAAC,cAACuE,GAAD,CACI3C,MAAO,CAAC,OAAQ,UAChBE,SAAS,SACTD,SAAS,SACTE,SAAUiC,EACVhC,SAAUrD,KAAKI,eAEnBe,EAAAC,EAAAC,cAACuE,GAAD,CACI3C,MAAO,CAAC,UAAW,UACnBE,SAAS,iBACTD,SAAS,gBACTE,SAAUkC,EACVjC,SAAUrD,KAAKI,eAEnBe,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACI/N,KAAK,OACLgN,KAAK,OAAOlC,MAAOiH,EACnBzD,MAAM,OACNC,SAAU/B,KAAKI,aACf4B,WAAW,EACXL,QAAQ,WACRM,OAAO,QACPuD,MAAO,CAAEb,aAAc,IACvBc,WAAY,6BAEhBtE,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACII,QAAQ,YACRK,WAAW,EACXE,SAAS,UACTR,MAAM,UACNS,KAAK,QACLC,QAASpC,KAAK+E,kBAChB5D,EAAAC,EAAAC,cAAA,WACFF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIE,MAAM,SACNS,SAAS,6BACTR,MAAM,kBAEVP,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACII,QAAQ,WACRO,SAAS,cACTR,MAAM,YACNS,KAAK,SACLC,QAASpC,KAAK8E,uBA1KrBzC,aA8LNC,eAXS,SAAA5F,GACpB,MAAO,CAAEA,UAGc,SAAA6F,GACvB,MAAO,CACHtO,OAAQ,SAAA4R,GAAI,OAAItD,EAASzO,EAAQG,OAAO4R,KACxC9R,eAAgB,SAACH,EAAOC,GAAR,OAAoB0O,EAASzO,EAAQC,eAAe,CAAEH,QAAOC,gBAItEyO,CAA6CuC,cCnMtDiB,oLACK,IAAAhG,EAAAE,KACP,OACEmB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+CACbH,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,aACH1E,UAAU,eACVY,SAAS,cAEXf,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiB9N,KAAK,SAASyS,cAAY,WAAWC,cAAY,oBAAoBC,gBAAc,mBAAmBC,gBAAc,QAAQC,aAAW,qBACxKlF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,yBAElBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BAA2BhF,GAAG,oBAC3C6E,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,qBACZH,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,aACH9D,SAAS,OACT5F,GAAG,aACHgF,UAAU,kCACV2E,cAAY,WACZK,gBAAc,OACdF,gBAAc,UAEhBjF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBiF,kBAAgB,cAC7CpF,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,qBACH9D,SAAS,UACTZ,UAAU,kBAEZH,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,oBACH9D,SAAS,SACTZ,UAAU,kBAEZH,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,oBACH9D,SAAS,SACTZ,UAAU,oBAIhBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,qBACZH,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,aACH9D,SAAS,cACT5F,GAAG,aACHgF,UAAU,kCACV2E,cAAY,WACZK,gBAAc,OACdF,gBAAc,UAEhBjF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBiF,kBAAgB,cAC7CpF,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,sBACH9D,SAAS,gBACTZ,UAAU,kBAEZH,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,kBACH9D,SAAS,YACTZ,UAAU,kBAEZH,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,qBACH9D,SAAS,eACTZ,UAAU,kBAEZH,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CACEC,GAAG,sBACH9D,SAAS,gBACTZ,UAAU,qBAKlBH,EAAAC,EAAAC,cAAA,UACE7N,KAAK,SACL8N,UAAU,uCACVc,QAAS,kBAAMtC,EAAKiB,MAAMzM,YAH5B,oBA7ES+N,aAiGNC,eAAQ,KANI,SAAAC,GACzB,MAAO,CACLjO,QAAS,kBAAMiO,EAASzO,EAAQQ,cAIrBgO,CAAkCwD,cC/FlCU,GANA,YAAIC,GAAO,uBAAwB,CAC9CC,QAAS,MACTC,UAAU,IAESC,UAAU,iCCD3BC,eACL,SAAAA,IAAc,IAAA/G,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA6G,IACb/G,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAoT,GAAA1G,KAAAH,QAKDI,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAAS,WACb,OAAOhN,OAAAiN,EAAA,EAAAjN,CAAA,GACL+M,EAAOlC,MAVGwB,EAcdgH,kBAAoB,WAAM,IAAA/D,EACgBjD,EAAKiB,MAAtCgG,EADiBhE,EACjBgE,OAAQ1R,EADS0N,EACT1N,cAAeqH,EADNqG,EACMrG,MACzBsK,EAASlH,EAAK3M,MAAM6T,OAAOC,cAC3BzU,EAAWkK,EAAMlK,SAAS0U,OAAO,SAAC/J,GAAD,OAA4D,IAAnDA,EAAIwB,YAAYsI,cAAcE,QAAQH,KACtF,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9B9O,EAASa,OACTb,EAASwR,IAAI,SAACoD,EAAKnD,GAClB,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAKY,KAAK,QAAQT,MAAM,UAAU2E,aAAW,OAAOjE,QAAS,kBAAM2E,EAAOK,EAAIpK,OAC7EmE,EAAAC,EAAAC,cAACE,EAAA,EAAD,mBAEDJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACXjE,QAAS,kBAAM/M,EAAc+R,EAAIpK,OAEjCmE,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,QAGFD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,YAA0C8F,EAAIzI,aAC9CwC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,iBAA+C8F,EAAIE,cACnDnG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,gBAA8C8F,EAAIG,gBAKrDpG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,WA1CHxB,EAAK3M,MAAQ,CACZ6T,OAAQ,IAHIlH,wEAiDL,IACAkH,EAAWhH,KAAK7M,MAAhB6T,OADAQ,EAE4BxH,KAAKe,MAAjC0G,EAFAD,EAEAC,QAASC,EAFTF,EAESE,eACjB,OACCvG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPN,QAAQ,WACRG,MAAM,uBACNtB,KAAK,SACLlC,MAAO0I,EACPjF,SAAU/B,KAAKI,aACfuH,UAAWD,KAGbvG,EAAAC,EAAAC,cAAA,WAAMoG,GAAWzH,KAAK8G,8BArENzE,aAgFNC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BuE,IC7ExCe,eACL,SAAAA,IAAc,IAAA9H,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA4H,IACb9H,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAmU,GAAAzH,KAAAH,QAgBDI,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KApBIwB,EAuBdiH,OAAS,SAACzK,GACT,IAAMuL,EAAM/H,EAAKiB,MAAMrE,MAAMlK,SAASqK,KAAK,SAACM,GAAD,OAASA,EAAIH,MAAQV,IACxDU,EAAgD6K,EAAhD7K,IAAK2B,EAA2CkJ,EAA3ClJ,YAAa2I,EAA8BO,EAA9BP,aAAcC,EAAgBM,EAAhBN,YACxCzH,EAAKW,SAAS,CACbzD,MACA2B,cACA2I,eACAC,cACAO,SAAS,EACTL,SAAS,EACTM,UAAU,KAjCEjI,EAoCdkI,cAAgB,WAAM,IAAApH,EAC4Cd,EAAK3M,MAA9D6J,EADa4D,EACb5D,IAAK2B,EADQiC,EACRjC,YAAa2I,EADL1G,EACK0G,aAAcC,EADnB3G,EACmB2G,YACxC,OAFqB3G,EACgCkH,QAE9ChI,EAAKiB,MAAM7L,cAAc,CAAE8H,MAAK2B,cAAa2I,eAAcC,gBAD7CzH,EAAKiB,MAAMnM,YAAY,CAAE+J,cAAa2I,eAAcC,iBAtC5DzH,EAyCdmI,gBAAkB,WACjBnI,EAAKW,SAAS,SAACtN,GAAD,MAAY,CACzB4U,UAAW5U,EAAM4U,aA3CLjI,EA8CdoI,eAAiB,WAChBpI,EAAKW,SAAS,CACbzD,IAAK,GACL2B,YAAa,GACb2I,aAAc,GACdC,YAAa,GACbO,SAAS,EACTC,UAAU,EACVN,SAAS,KAtDG3H,EAyDd4H,eAAiB,SAACrH,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEgH,SAAS,IACpC,KAAfpH,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEgH,SAAS,SAAvD,GAzDA3H,EAAK3M,MAAQ,CACZ6J,IAAK,GACL2B,YAAa,GACb2I,aAAc,GACdC,YAAa,GACbO,SAAS,EACTL,SAAS,EACTM,UAAU,GATEjI,mFAYM,IAAAgD,EAAA9C,KACnBwG,GAAQ4B,KAAK,WAAY,WACxBtF,EAAK/B,MAAMhM,gDA+CJ,IAAAmM,EAC2ClB,KAAK7M,MAAhDwL,EADAuC,EACAvC,YAAa2I,EADbpG,EACaoG,aAAcC,EAD3BrG,EAC2BqG,YACnC,OACCpG,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,YAC/BH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCW,SAAS,eACTT,MAAM,SACNC,MAAM,YACNE,cAAc,EACdD,QAAQ,OAETR,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPH,MAAM,eACNtB,KAAK,cACLlC,MAAOK,EACPoD,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,eACNtB,KAAK,eACLlC,MAAOgJ,EACPvF,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,cACNtB,KAAK,cACLlC,MAAOiJ,EACPxF,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY+G,KAAK,QAAQhC,aAAW,iBAClDlF,EAAAC,EAAAC,cAAA,UACCC,UAAWtB,KAAK7M,MAAM2U,QAAU,oBAAsB,kBACtD1F,QAASpC,KAAKgI,eAEbhI,KAAK7M,MAAM2U,QAAU,SAAW,QAElC3G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBc,QAASpC,KAAKiI,iBAAlD,UAGA9G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBc,QAASpC,KAAKkI,gBAAjD,WAKDlI,KAAK7M,MAAM4U,UACX5G,EAAAC,EAAAC,cAACiH,GAAD,CACCvB,OAAQ/G,KAAK+G,OACbU,QAASzH,KAAK7M,MAAMsU,QACpBC,eAAgB1H,KAAK0H,eACrBrS,cAAe2K,KAAKe,MAAM1L,yBA9HXgN,aAoJPC,eAbS,SAAC5F,GACxB,MAAO,CAAEA,UAGiB,SAAC6F,GAC3B,MAAO,CACN3N,YAAa,SAACiR,GAAD,OAAUtD,EAASzO,EAAQc,YAAYiR,KACpD3Q,cAAe,SAAC2Q,GAAD,OAAUtD,EAASzO,EAAQoB,cAAc2Q,KACxD9Q,WAAY,kBAAMwN,EAASzO,EAAQiB,eACnCM,cAAe,SAACiH,GAAD,OAAQiG,EAASzO,EAAQuB,cAAciH,OAIzCgG,CAA6CsF,ICvJtDf,eACL,SAAAA,IAAc,IAAA/G,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA6G,IACb/G,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAoT,GAAA1G,KAAAH,QAKDI,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KATIwB,EAYdgH,kBAAoB,WAAM,IAAA/D,EACejD,EAAKiB,MAArCgG,EADiBhE,EACjBgE,OAAQrK,EADSqG,EACTrG,MAAOzG,EADE8M,EACF9M,aACjB+Q,EAASlH,EAAK3M,MAAM6T,OAAOC,cAC3BxU,EAAUiK,EAAMjK,QAAQyU,OAAO,SAAC/J,GAAD,OAA2D,IAAlDA,EAAIoL,WAAWtB,cAAcE,QAAQH,KACnF,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9B7O,EAAQY,OACRZ,EAAQuR,IAAI,SAACoD,EAAKnD,GACjB,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAKY,KAAK,QAAQT,MAAM,UAAU2E,aAAW,OAAOjE,QAAS,kBAAM2E,EAAOK,EAAIpK,OAC7EmE,EAAAC,EAAAC,cAACE,EAAA,EAAD,mBAEDJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACXjE,QAAS,kBAAMnM,EAAamR,EAAIpK,OAEhCmE,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,QAGFD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,WAAyC8F,EAAImB,YAC7CpH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,YAA0C8F,EAAIoB,SAC9CrH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,cAA4C8F,EAAIqB,WAChDtH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,UAAwC8F,EAAIvG,OAC5CM,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,QAAsC8F,EAAIsB,QAK7CvH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,WA1CHxB,EAAK3M,MAAQ,CACZ6T,OAAQ,IAHIlH,wEAiDL,IACAkH,EAAWhH,KAAK7M,MAAhB6T,OADAQ,EAE4BxH,KAAKe,MAAjC0G,EAFAD,EAEAC,QAASC,EAFTF,EAESE,eACjB,OACCvG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPN,QAAQ,WACRG,MAAM,sBACNtB,KAAK,SACLlC,MAAO0I,EACPjF,SAAU/B,KAAKI,aACfuH,UAAWD,KAGbvG,EAAAC,EAAAC,cAAA,WAAMoG,GAAWzH,KAAK8G,8BArENzE,aAgFNC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BuE,IC7ExC8B,eACL,SAAAA,IAAc,IAAA7I,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA2I,IACb7I,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAkV,GAAAxI,KAAAH,QAkBDI,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KAtBIwB,EAyBdiH,OAAS,SAACzK,GACT,IAAMuL,EAAM/H,EAAKiB,MAAMrE,MAAMjK,QAAQoK,KAAK,SAACM,GAAD,OAASA,EAAIH,MAAQV,IACvDU,EAAoD6K,EAApD7K,IAAKuL,EAA+CV,EAA/CU,WAAYC,EAAmCX,EAAnCW,QAASC,EAA0BZ,EAA1BY,UAAW5H,EAAegH,EAAfhH,MAAO6H,EAAQb,EAARa,IACpD5I,EAAKW,SAAS,CACbqH,SAAS,EACT9K,MACAuL,aACAC,UACAC,YACA5H,QACA6H,MACAX,UAAU,EACVN,SAAS,KArCG3H,EAwCdkI,cAAgB,WAAM,IAAApH,EACgDd,EAAK3M,MAAlE6J,EADa4D,EACb5D,IAAKuL,EADQ3H,EACR2H,WAAYC,EADJ5H,EACI4H,QAASC,EADb7H,EACa6H,UAAW5H,EADxBD,EACwBC,MAAO6H,EAD/B9H,EAC+B8H,IACpD,OAFqB9H,EACoCkH,QAElDhI,EAAKiB,MAAMjL,aAAa,CAAEkH,MAAKuL,aAAYC,UAASC,YAAW5H,QAAO6H,QADxD5I,EAAKiB,MAAMvL,WAAW,CAAE+S,aAAYC,UAASC,YAAW5H,QAAO6H,SA1CvE5I,EA6CdmI,gBAAkB,WACjBnI,EAAKW,SAAS,SAACtN,GAAD,MAAY,CACzB4U,UAAW5U,EAAM4U,aA/CLjI,EAkDdoI,eAAiB,WAChBpI,EAAKW,SAAS,CACbzD,IAAK,GACLuL,WAAY,GACZC,QAAS,GACTC,UAAW,GACX5H,MAAO,GACP6H,IAAK,GACLZ,SAAS,EACTC,UAAU,EACVN,SAAS,KA5DG3H,EA+Dd4H,eAAiB,SAACrH,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEgH,SAAS,IACpC,KAAfpH,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEgH,SAAS,SAAvD,GA/DA3H,EAAK3M,MAAQ,CACZ6J,IAAK,GACLuL,WAAY,GACZC,QAAS,GACTC,UAAW,GACX5H,MAAO,GACP6H,IAAK,GACLZ,SAAS,EACTC,UAAU,EACVN,SAAS,GAXG3H,mFAcM,IAAAgD,EAAA9C,KACnBwG,GAAQ4B,KAAK,UAAW,WACvBtF,EAAK/B,MAAMpL,+CAmDJ,IAAAuL,EAC+ClB,KAAK7M,MAApDoV,EADArH,EACAqH,WAAYC,EADZtH,EACYsH,QAASC,EADrBvH,EACqBuH,UAAW5H,EADhCK,EACgCL,MAAO6H,EADvCxH,EACuCwH,IAC/C,OACCvH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,YAC/BH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCW,SAAS,cACTT,MAAM,SACNC,MAAM,YACNE,cAAc,EACdD,QAAQ,OAETR,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPH,MAAM,cACNtB,KAAK,aACLlC,MAAOiK,EACPxG,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,UACNtB,KAAK,UACLlC,MAAOkK,EACPzG,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,YACNtB,KAAK,YACLlC,MAAOmK,EACP1G,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,gBACNtB,KAAK,QACLlC,MAAOuC,EACPkB,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,sBACNtB,KAAK,MACLlC,MAAOoK,EACP3G,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY+G,KAAK,QAAQhC,aAAW,iBAClDlF,EAAAC,EAAAC,cAAA,UACCC,UAAWtB,KAAK7M,MAAM2U,QAAU,oBAAsB,kBACtD1F,QAASpC,KAAKgI,eAEbhI,KAAK7M,MAAM2U,QAAU,SAAW,QAElC3G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBc,QAASpC,KAAKiI,iBAAlD,UAGA9G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBc,QAASpC,KAAKkI,gBAAjD,WAKDlI,KAAK7M,MAAM4U,UACX5G,EAAAC,EAAAC,cAACuH,GAAD,CACC7B,OAAQ/G,KAAK+G,OACbU,QAASzH,KAAK7M,MAAMsU,QACpBC,eAAgB1H,KAAK0H,eACrBzR,aAAc+J,KAAKe,MAAM9K,wBAxJXoM,aA8KNC,eAbS,SAAC5F,GACxB,MAAO,CAAEA,UAGiB,SAAC6F,GAC3B,MAAO,CACN/M,WAAY,SAACqQ,GAAD,OAAUtD,EAASzO,EAAQ0B,WAAWqQ,KAClD/P,aAAc,SAAC+P,GAAD,OAAUtD,EAASzO,EAAQgC,aAAa+P,KACtDlQ,UAAW,kBAAM4M,EAASzO,EAAQ6B,cAClCM,aAAc,SAACqG,GAAD,OAAQiG,EAASzO,EAAQmC,aAAaqG,OAIvCgG,CAA6CqG,ICjLtD9B,eACL,SAAAA,IAAc,IAAA/G,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA6G,IACb/G,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAoT,GAAA1G,KAAAH,QAKDI,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KATIwB,EAYdgH,kBAAoB,WAAM,IAAA/D,EACejD,EAAKiB,MAArCgG,EADiBhE,EACjBgE,OAAQrK,EADSqG,EACTrG,MAAO7F,EADEkM,EACFlM,aACjBmQ,EAASlH,EAAK3M,MAAM6T,OAAOC,cAC3BvU,EAAUgK,EAAMhK,QAAQwU,OAAO,SAAC/J,GAAD,OAA2D,IAAlDA,EAAI0L,WAAW5B,cAAcE,QAAQH,KACnF,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9B5O,EAAQW,OACRX,EAAQsR,IAAI,SAACoD,EAAKnD,GACjB,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAKY,KAAK,QAAQT,MAAM,UAAU2E,aAAW,OAAOjE,QAAS,kBAAM2E,EAAOK,EAAIpK,OAC7EmE,EAAAC,EAAAC,cAACE,EAAA,EAAD,mBAEDJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACXjE,QAAS,kBAAMvL,EAAauQ,EAAIpK,OAEhCmE,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,QAGFD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,WAAyC8F,EAAIyB,YAC7C1H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,YAA0C8F,EAAIoB,SAC9CrH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,cAA4C8F,EAAIqB,WAChDtH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,UAAwC8F,EAAIvG,OAC5CM,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,QAAsC8F,EAAIsB,QAK7CvH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,WA1CHxB,EAAK3M,MAAQ,CACZ6T,OAAQ,IAHIlH,wEAiDL,IACAkH,EAAWhH,KAAK7M,MAAhB6T,OADAQ,EAE4BxH,KAAKe,MAAjC0G,EAFAD,EAEAC,QAASC,EAFTF,EAESE,eACjB,OACCvG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPN,QAAQ,WACRG,MAAM,sBACNtB,KAAK,SACLlC,MAAO0I,EACPjF,SAAU/B,KAAKI,aACfuH,UAAWD,KAGbvG,EAAAC,EAAAC,cAAA,WAAMoG,GAAWzH,KAAK8G,8BArENzE,aAgFNC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BuE,IC7ExCiC,eACL,SAAAA,IAAc,IAAAhJ,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA8I,IACbhJ,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAqV,GAAA3I,KAAAH,QAkBDI,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KAtBIwB,EAyBdiH,OAAS,SAACzK,GACT,IAAMuL,EAAM/H,EAAKiB,MAAMrE,MAAMhK,QAAQmK,KAAK,SAACM,GAAD,OAASA,EAAIH,MAAQV,IACvDU,EAAoD6K,EAApD7K,IAAK6L,EAA+ChB,EAA/CgB,WAAYL,EAAmCX,EAAnCW,QAASC,EAA0BZ,EAA1BY,UAAW5H,EAAegH,EAAfhH,MAAO6H,EAAQb,EAARa,IACpD5I,EAAKW,SAAS,CACbqH,SAAS,EACT9K,MACA6L,aACAL,UACAC,YACA5H,QACA6H,MACAjB,SAAS,EACTM,UAAU,KArCEjI,EAwCdkI,cAAgB,WAAM,IAAApH,EACgDd,EAAK3M,MAAlE6J,EADa4D,EACb5D,IAAK6L,EADQjI,EACRiI,WAAYL,EADJ5H,EACI4H,QAASC,EADb7H,EACa6H,UAAW5H,EADxBD,EACwBC,MAAO6H,EAD/B9H,EAC+B8H,IACpD,OAFqB9H,EACoCkH,QAElDhI,EAAKiB,MAAMrK,aAAa,CAAEsG,MAAK6L,aAAYL,UAASC,YAAW5H,QAAO6H,QADxD5I,EAAKiB,MAAM3K,WAAW,CAAEyS,aAAYL,UAASC,YAAW5H,QAAO6H,SA1CvE5I,EA6CdmI,gBAAkB,WACjBnI,EAAKW,SAAS,SAACtN,GAAD,MAAY,CACzB4U,UAAW5U,EAAM4U,aA/CLjI,EAkDdoI,eAAiB,WAChBpI,EAAKW,SAAS,CACbzD,IAAK,GACL6L,WAAY,GACZL,QAAS,GACTC,UAAW,GACX5H,MAAO,GACP6H,IAAK,GACLZ,SAAS,EACTC,UAAU,EACVN,SAAS,KA5DG3H,EA+Dd4H,eAAiB,SAACrH,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEgH,SAAS,IACpC,KAAfpH,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEgH,SAAS,SAAvD,GA/DA3H,EAAK3M,MAAQ,CACZ6J,IAAK,GACL6L,WAAY,GACZL,QAAS,GACTC,UAAW,GACX5H,MAAO,GACP6H,IAAK,GACLZ,SAAS,EACTC,UAAU,EACVN,SAAS,GAXG3H,mFAcM,IAAAgD,EAAA9C,KACnBwG,GAAQ4B,KAAK,UAAW,WACvBtF,EAAK/B,MAAMxK,+CAmDJ,IAAA2K,EAC+ClB,KAAK7M,MAApD0V,EADA3H,EACA2H,WAAYL,EADZtH,EACYsH,QAASC,EADrBvH,EACqBuH,UAAW5H,EADhCK,EACgCL,MAAO6H,EADvCxH,EACuCwH,IAC/C,OACCvH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,YAC/BH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCW,SAAS,cACTT,MAAM,SACNC,MAAM,YACNE,cAAc,EACdD,QAAQ,OAETR,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPH,MAAM,cACNtB,KAAK,aACLlC,MAAOuK,EACP9G,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,UACNtB,KAAK,UACLlC,MAAOkK,EACPzG,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,YACNtB,KAAK,YACLlC,MAAOmK,EACP1G,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,gBACNtB,KAAK,QACLlC,MAAOuC,EACPkB,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPH,MAAM,sBACNtB,KAAK,MACLlC,MAAOoK,EACP3G,SAAU/B,KAAKI,aACfuB,QAAQ,SACRK,WAAW,IAEZb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY+G,KAAK,QAAQhC,aAAW,iBAClDlF,EAAAC,EAAAC,cAAA,UACCC,UAAWtB,KAAK7M,MAAM2U,QAAU,oBAAsB,kBACtD1F,QAASpC,KAAKgI,eAEbhI,KAAK7M,MAAM2U,QAAU,SAAW,QAElC3G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBc,QAASpC,KAAKiI,iBAAlD,UAGA9G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBc,QAASpC,KAAKkI,gBAAjD,WAKDlI,KAAK7M,MAAM4U,UACX5G,EAAAC,EAAAC,cAAC0H,GAAD,CACChC,OAAQ/G,KAAK+G,OACbU,QAASzH,KAAK7M,MAAMsU,QACpBC,eAAgB1H,KAAK0H,eACrB7Q,aAAcmJ,KAAKe,MAAMlK,wBAxJXwL,aA8KNC,eAbS,SAAC5F,GACxB,MAAO,CAAEA,UAGiB,SAAC6F,GAC3B,MAAO,CACNnM,WAAY,SAACyP,GAAD,OAAUtD,EAASzO,EAAQsC,WAAWyP,KAClDnP,aAAc,SAACmP,GAAD,OAAUtD,EAASzO,EAAQ4C,aAAamP,KACtDtP,UAAW,kBAAMgM,EAASzO,EAAQyC,cAClCM,aAAc,SAACyF,GAAD,OAAQiG,EAASzO,EAAQ+C,aAAayF,OAIvCgG,CAA6CwG,iCCjLtDjC,eACL,SAAAA,IAAc,IAAA/G,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA6G,IACb/G,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAoT,GAAA1G,KAAAH,QAKD8G,kBAAoB,WAAM,IAAA/D,EACsBjD,EAAKiB,MAA5CiI,EADiBjG,EACjBiG,kBAAmBtM,EADFqG,EACErG,MAAOuM,EADTlG,EACSkG,SAC5BjC,EAASlH,EAAK3M,MAAM6T,OAAOC,cAC3BtU,EAAY+J,EAAM/J,UAAUuU,OAAO,SAAC/J,GAAD,OAAwD,IAA/CA,EAAI+L,QAAQjC,cAAcE,QAAQH,KACpF,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9B3O,EAAUU,OACVV,EAAUqR,IAAI,SAAC7G,EAAK8G,GACnB,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,UACN2E,aAAW,OACXjE,QAAS,kBAAM4G,EAAkB7L,EAAIH,OAErCmE,EAAAC,EAAAC,cAACE,EAAA,EAAD,mBAEDJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACXjE,QAAS,kBAAM6G,EAAS9L,EAAIH,OAE5BmE,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,QAGFD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,SAAuCnE,EAAIgM,KAAKC,MAAM,EAAG,KACzDjI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,YAA0CnE,EAAI+L,SAC9C/H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,WAAyCnE,EAAIK,SAAS+K,eAKzDpH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,WAzCUxB,EA8CdM,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KA/CTwB,EAAK3M,MAAQ,CACZ6T,OAAQ,IAHIlH,wEAoDL,IAAA0H,EACoCxH,KAAKe,MAAzCsI,EADA7B,EACA6B,QAASC,EADT9B,EACS8B,OAAQ5B,EADjBF,EACiBE,eACjBV,EAAWhH,KAAK7M,MAAhB6T,OACR,OACC7F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPN,QAAQ,WACRG,MAAM,iBACNtB,KAAK,SACLlC,MAAO0I,EACPjF,SAAU/B,KAAKI,aACfuH,UAAWD,KAGbvG,EAAAC,EAAAC,cAAA,WAAMgI,GAAWC,GAAUtJ,KAAK8G,8BAxEhBzE,aAmFNC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BuE,ICpFxC0C,8MACLC,wBAA0B,WAAM,IAAAzG,EACgBjD,EAAKiB,MAA5CwH,EADuBxF,EACvBwF,WAAY7L,EADWqG,EACXrG,MAAO+M,EADI1G,EACJ0G,gBACrBzC,EAASuB,EAAWtB,cACpBxU,EAAUiK,EAAMjK,QAAQyU,OAAO,SAAC/J,GAAD,OAA2D,IAAlDA,EAAIoL,WAAWtB,cAAcE,QAAQH,KACnF,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9B7O,EAAQY,OACRZ,EAAQuR,IAAI,SAAC7G,EAAK8G,GACjB,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,UACCC,UAAU,oBACVc,QAAS,kBAAMqH,EAAgBtM,EAAIH,IAAKG,EAAIoL,cAE3CpL,EAAIoL,aAGPpH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,YAA0CnE,EAAIqL,SAC9CrH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,cAA4CnE,EAAIsL,WAChDtH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,UAAwCnE,EAAI0D,OAC5CM,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,QAAsCnE,EAAIuL,QAK7CvH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,mFAKK,IAAAkG,EACyDxH,KAAKe,MAA9DwH,EADAf,EACAe,WAAYmB,EADZlC,EACYkC,eAAgBC,EAD5BnC,EAC4BmC,WAAYvJ,EADxCoH,EACwCpH,aAChD,OACCe,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPN,QAAQ,WACRG,MAAM,SACNtB,KAAK,aACLlC,MAAOiK,EACPxG,SAAU3B,EACVuH,UAAW+B,IAEXC,GAAc3J,KAAKwJ,kCA9CEnH,aAwDXC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BiH,ICxDxCK,8MACLC,yBAA2B,WAAM,IAAA9G,EACiBjD,EAAKiB,MAA9CpC,EADwBoE,EACxBpE,YAAamL,EADW/G,EACX+G,iBAAkBpN,EADPqG,EACOrG,MACjCsK,EAASrI,EAAYsI,cACrBzU,EAAWkK,EAAMlK,SAAS0U,OAAO,SAAC/J,GAAD,OAA4D,IAAnDA,EAAIwB,YAAYsI,cAAcE,QAAQH,KACtF,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9B9O,EAASa,OACTb,EAASwR,IAAI,SAAC7G,EAAK8G,GAClB,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,UACCC,UAAU,oBACVc,QAAS,kBAAM0H,EAAiB3M,EAAIH,IAAKG,EAAIwB,eAE5CxB,EAAIwB,cAGPwC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,iBAA+CnE,EAAImK,cACnDnG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,gBAA8CnE,EAAIoK,gBAKrDpG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,mFAKK,IAAAkG,EACkFxH,KAAKe,MAAvFpC,EADA6I,EACA7I,YAAasF,EADbuD,EACavD,IAAK8F,EADlBvC,EACkBuC,cAAeC,EADjCxC,EACiCwC,gBAAiBC,EADlDzC,EACkDyC,gBAAiBN,EADnEnC,EACmEmC,WAC3E,OACCxI,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,cACLlC,MAAOK,EACPoD,SAAU,SAAC1B,GAAD,OAAQ2J,EAAgB3J,EAAI4D,IACtC0D,UAAW,SAACtH,GAAD,OAAQ4J,EAAgB5J,EAAI4D,OAEtC0F,GAAcI,EAAc9F,GAAKiG,aAAelK,KAAK6J,mCA1ChCxH,aAoDZC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BsH,IChCxCO,GAAkB/F,qBAAW,SAACC,GAAD,MAAY,CAC9C+F,KAAM,CACLC,gBAAiBhG,EAAMiG,QAAQC,OAAOC,MACtC9I,MAAO2C,EAAMiG,QAAQC,OAAOE,MAC5BC,UAAW,SACXC,QAAS,GAEVtQ,KAAM,CACLuQ,SAAU,GACVD,QAAS,GAEVE,OAAQ,CACPD,SAAU,GACVD,QAAS,KAbavG,CAepB0G,KAyBEC,GAAa,WAClB,IAAM7O,EAAI,IAAI8O,KACV7B,EAAO,QAGX,OAFAA,GAAQjN,EAAE+O,WAAa,EAAI,KAAO/O,EAAE+O,WAAa,GAAK,IAAM/O,EAAE+O,WAAa,IAC3E9B,GAAQjN,EAAEgP,UAAY,GAAK,KAAOhP,EAAEgP,UAAY,GAAKhP,EAAEgP,WAIlDC,eACL,SAAAA,IAAc,IAAArL,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAAmL,IACbrL,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAA0X,GAAAhL,KAAAH,QAyBDoL,kBAAoB,WACnBtL,EAAKuL,WACL7E,GAAQ4B,KAAK,QAAS,WACrBtI,EAAKiB,MAAMhJ,YAEZyO,GAAQ4B,KAAK,YAAa,WACzBtI,EAAKiB,MAAM5J,gBAEZqP,GAAQ4B,KAAK,WAAY,WACxBtI,EAAKiB,MAAMhM,eAEZyR,GAAQ4B,KAAK,UAAW,WACvBtI,EAAKiB,MAAMpL,eAtCCmK,EAuDduL,SAAW,WAAM,IACR1Y,EAAcmN,EAAKiB,MAAMrE,MAAzB/J,UACAmV,EAAYhI,EAAK3M,MAAjB2U,QACFqB,EAAO4B,KACb,GAAIpY,EAAUU,SAAWyU,EAAS,CACjC,IAAMwD,EAAM,GACZ,IAAK,IAAIpH,KAAOvR,EACf2Y,EAAI5M,KAAK/L,EAAUuR,GAAKgF,SAEzB,IAAMA,EAAUqC,KAAKC,IAALC,MAAAF,KAAYD,GAAO,EACnC,OAAOxL,EAAKW,SAAS,CAAEyI,UAASC,SAEjC,OAAOrJ,EAAKW,SAAS,CAAEyI,QAAS,EAAGC,UAnEtBrJ,EAqEdM,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KAxEIwB,EA2EdkK,gBAAkB,SAAC3J,EAAI4D,GAAQ,IAAAyH,EACNrL,EAAGE,OAAnBC,EADsBkL,EACtBlL,KAAMlC,EADgBoN,EAChBpN,MACRyL,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eACzB,aAATvJ,GAAgC,cAATA,GAC1BuJ,EAAc9F,GAAKzD,GAAQlC,EAC3BwB,EAAK8L,UAAU3H,IAEf8F,EAAc9F,GAAKzD,GAAQlC,EAE5BwB,EAAKW,SAAS,CAAEsJ,mBApFHjK,EAsFd8L,UAAY,SAAC3H,GACZ,IAAM8F,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eACtCA,EAAc9F,GAAK3F,MAAQyL,EAAc9F,GAAKjG,SAAW+L,EAAc9F,GAAK4H,UAC5E/L,EAAKW,SAAS,CAAEsJ,mBAzFHjK,EA2FdkI,cAAgB,WAAM,IAAApH,EAC4Cd,EAAK3M,MAA9D6J,EADa4D,EACb5D,IAAKmM,EADQvI,EACRuI,KAAMD,EADEtI,EACFsI,QAAS1L,EADPoD,EACOpD,SAAUuM,EADjBnJ,EACiBmJ,cACtC,OAFqBnJ,EACgCkH,QAE9ChI,EAAKiB,MAAMtJ,eAAe,CAAEuF,MAAKmM,OAAMD,UAAS1L,WAAUhL,SAAUuX,IADtDjK,EAAKiB,MAAM/J,aAAa,CAAEmS,OAAMD,UAAS1L,WAAUhL,SAAUuX,KA7FrEjK,EAgGdmI,gBAAkB,WACjBnI,EAAKW,SAAS,SAACtN,GAAD,MAAY,CACzBkW,SAAUlW,EAAMkW,YAlGJvJ,EAqGdoI,eAAiB,WAChBpI,EAAKW,SAAS,CACbzD,IAAK,GACLmM,KAAM,GACND,QAAS,GACT1L,SAAU,GACV+K,WAAY,GACZwB,cAAe,CACd,CACChN,UAAW,GACX4B,YAAa,GACbX,SAAU,IACV6N,UAAW,IACXvN,MAAO,IACPwN,aAAc,KAGhBzC,SAAS,EACTvB,SAAS,IAEVhI,EAAKuL,YAzHQvL,EA2HdiM,SAAW,WACV,IAAMhC,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eAChChL,EAAW,GAIjB,OAHAgL,EAAchM,QAAQ,SAAC7B,GACtB6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAa,IAANA,GAAeX,QAAQW,QAEhEiC,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,MACnC4M,EAAcrL,KAAK,CAClB3B,UAAW,GACX4B,YAAa,GACbX,SAAU,IACV6N,UAAW,IACXvN,MAAO,IACPwN,aAAc,IACd5B,aAAa,IAEPpK,EAAKW,SAAS,CAAEsJ,mBAEjBjK,EAAKiB,MAAMhN,gBAAe,EAAM,mCA7I1B+L,EA+IdlC,WAAa,WAAM,IAAAoO,EACqBlM,EAAKiB,MAAMrE,MAA1C/J,EADUqZ,EACVrZ,UAAWC,EADDoZ,EACCpZ,MAAOJ,EADRwZ,EACQxZ,SACpBsL,EAAW,GAIjB,OAHAtL,EAASuL,QAAQ,SAAC7B,GAAD,OAAQ4B,EAAS5B,EAAEc,KAAO,IAC3CrK,EAAUoL,QAAQ,SAAC7B,GAAD,OAAOA,EAAE1J,SAASuL,QAAQ,SAACjB,GAAD,OAAQgB,EAAShB,EAAEC,UAAUC,MAAQF,EAAEkB,aACnFpL,EAAMmL,QAAQ,SAAC7B,GAAD,OAAOA,EAAE1J,SAASuL,QAAQ,SAACjB,GAAD,OAAQgB,EAAShB,EAAEC,UAAUC,MAAQF,EAAEkB,aACxEF,GArJMgC,EAuJdmM,SAAW,SAAChI,GACX,IAAM8F,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eAChCvX,EAAWsN,EAAKiB,MAAMrE,MAAMlK,SAClC,GAAIsN,EAAK3M,MAAM2U,QAAS,CACvB,IAAM1J,EAAQ0B,EAAKlC,aACnB,GAAImM,EAAc9F,GAAK1F,cACtB,GAAIwL,EAAc9F,GAAK1F,eAAiBwL,EAAc9F,GAAKlH,UAAW,CACrE,IAAMyB,GACJJ,EAAM2L,EAAc9F,GAAK1F,eACzBwL,EAAc9F,GAAKxF,cACnBsL,EAAc9F,GAAKjG,SACrB,GAAIQ,EAAM,EAAG,CACZ,IAAMgC,EAAOhO,EAASqK,KAAK,SAACX,GAAD,OAAOA,EAAEc,MAAQ+M,EAAc9F,GAAK1F,eAAcI,YAC7EoL,EAAc9F,GAAKnI,IAAnB,GAAAmB,OAA4BuD,EAA5B,yBAAAvD,OAAwDuB,QAExDuL,EAAc9F,GAAKnI,KAAM,EAE1BgE,EAAKW,SAAS,CAAEsJ,uBAEX,CACN,IAAMvL,GAAOJ,EAAM2L,EAAc9F,GAAK1F,eAAiBwL,EAAc9F,GAAKxF,YAC1E,GAAID,EAAM,EAAG,CACZ,IAAMgC,EAAOhO,EAASqK,KAAK,SAACX,GAAD,OAAOA,EAAEc,MAAQ+M,EAAc9F,GAAK1F,eAAcI,YAC7EoL,EAAc9F,GAAKnI,IAAnB,GAAAmB,OAA4BuD,EAA5B,yBAAAvD,OAAwDuB,QAExDuL,EAAc9F,GAAKnI,KAAM,EAE1BgE,EAAKW,SAAS,CAAEsJ,qBAlLLjK,EAsLdoM,YAAc,SAACjI,GACd,IAAM8F,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eAChCvX,EAAWsN,EAAKiB,MAAMrE,MAAMlK,SAClC,GAAIsN,EAAK3M,MAAM2U,QAAS,CACvB,IAAM1J,EAAQ0B,EAAKlC,aACnB,GAAImM,EAAc9F,GAAK1F,aAAc,CACpC,IAAMC,GAAOJ,EAAM2L,EAAc9F,GAAK1F,eAAiBwL,EAAc9F,GAAKxF,YAC1E,GAAID,EAAM,EAAG,CACZ,IAAMgC,EAAOhO,EAASqK,KAAK,SAACX,GAAD,OAAOA,EAAEc,MAAQ+M,EAAc9F,GAAK1F,eAAcI,YAC7EoL,EAAc9F,GAAKnI,IAAnB,GAAAmB,OAA4BuD,EAA5B,yBAAAvD,OAAwDuB,GACxDsB,EAAKW,SAAS,CAAEsJ,uBAEhBjK,EAAKqM,YAAYlI,QAGlBnE,EAAKqM,YAAYlI,QAGlBnE,EAAKqM,YAAYlI,IAxMLnE,EA2MdqM,YAAc,SAAClI,GACd,IAAM8F,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eAClCA,EAAc1W,OAAS,GAC1B0W,EAAc9F,GAAKiG,aAAc,EACjCH,EAAcqC,OAAOnI,EAAK,GAC1BnE,EAAKW,SAAS,CAAEsJ,mBAEhBjK,EAAKW,SAAS,CACbsJ,cAAe,CACd,CACChN,UAAW,GACX4B,YAAa,GACbX,SAAU,IACV6N,UAAW,IACXvN,MAAO,IACPwN,aAAc,IACd5B,aAAa,OA3NJpK,EAiOd4H,eAAiB,SAACrH,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAE6I,QAAQ,IACnC,KAAfjJ,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAE6I,QAAQ,SAAtD,GAnOaxJ,EAqOdkJ,kBAAoB,SAAC1M,GACpB,IAAM3J,EAAYmN,EAAKiB,MAAMrE,MAAM/J,UAAUkK,KAAK,SAACM,GAAD,OAASA,EAAIH,MAAQV,IAC/DU,EAA2CrK,EAA3CqK,IAAKmM,EAAsCxW,EAAtCwW,KAAMD,EAAgCvW,EAAhCuW,QAAS1L,EAAuB7K,EAAvB6K,SAAUhL,EAAaG,EAAbH,SACtCsN,EAAKW,SAAS,CACbzD,MACAmM,KAAMA,EAAKC,MAAM,EAAG,IACpBF,UACA1L,SAAUA,EAASR,IACnBuL,WAAY/K,EAAS+K,WACrBwB,cAAevX,EAASwR,IAAI,SAAC7G,GAC5B,MAAO,CACNH,IAAKG,EAAIH,IACTD,UAAWI,EAAIJ,UAAUC,IACzBuB,aAAcpB,EAAIJ,UAAUC,IAC5B2B,YAAaxB,EAAIJ,UAAU4B,YAC3BX,SAAUb,EAAIa,SACdS,YAAatB,EAAIa,SACjB6N,UAAW1O,EAAI0O,UACfvN,MAAOnB,EAAImB,MACXwN,aAAc3O,EAAI2O,gBAGpBhE,SAAS,EACTwB,QAAQ,EACRD,SAAS,KA7PGvJ,EAgQd4J,eAAiB,SAACrJ,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEkJ,YAAY,IACvC,KAAftJ,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEkJ,YAAY,SAA1D,GAlQa7J,EAoQd2J,gBAAkB,SAACjM,EAAU+K,GAC5BzI,EAAKW,SAAS,CACbjD,WACA+K,aACAoB,YAAY,KAxQA7J,EA2QdmK,gBAAkB,SAAC5J,EAAI4D,GACtB,IAAM8F,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eACnB,KAAf1J,EAAG8H,UAAgB4B,EAAc9F,GAAKiG,aAAc,GACrC,KAAf7J,EAAG8H,UAAgB4B,EAAc9F,GAAKiG,aAAc,GACxDpK,EAAKW,SAAS,CAAEwD,MAAK8F,mBA/QRjK,EAiRdgK,iBAAmB,SAACxN,EAAIkE,GACvB,IAAMuJ,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eAChC9F,EAAMnE,EAAK3M,MAAM8Q,IACvB8F,EAAchM,QAAQ,SAACZ,EAAKkP,GAC3B,GAAIA,IAAMpI,GACL9G,EAAIwB,cAAgB6B,EAAM,OAAOV,EAAKiB,MAAMhN,gBAAe,EAAM,8BAGvEgW,EAAc9F,GAAKlH,UAAYT,EAC/ByN,EAAc9F,GAAKtF,YAAc6B,EACjCuJ,EAAc9F,GAAKiG,aAAc,EACjCpK,EAAKW,SAAS,CAAEsJ,mBA1RhBjK,EAAK3M,MAAQ,CACZ6J,IAAK,GACLmM,KAAM,GACND,QAAS,GACT1L,SAAU,GACV+K,WAAY,GACZwB,cAAe,CACd,CACChN,UAAW,GACX4B,YAAa,GACbX,SAAU,IACV6N,UAAW,IACXvN,MAAO,IACPwN,aAAc,IACd5B,aAAa,IAGfpC,SAAS,EACT6B,YAAY,EACZ3C,OAAQ,GACRqC,SAAS,EACTC,QAAQ,GAvBIxJ,wEA8RL,IAAAgD,EAAA9C,KAAAkB,EACsDlB,KAAK7M,MAA3DgW,EADAjI,EACAiI,KAAMD,EADNhI,EACMgI,QAASX,EADfrH,EACeqH,WAAYwB,EAD3B7I,EAC2B6I,cAAejC,EAD1C5G,EAC0C4G,QAC1C9E,EAAYhD,KAAKe,MAAjBiC,QACR,OACC7B,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,WAC/BH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCW,SAAS,gBACTT,MAAM,SACNC,MAAM,YACNE,cAAc,EACdD,QAAQ,OAETR,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPyD,gBAAiB,CAAEC,QAAQ,GAC3B7D,MAAM,OACNH,QAAQ,WACRnB,KAAK,OACLlC,MAAO6K,EACPpH,SAAU/B,KAAKI,eAEhBe,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC+K,UAAQ,EACR9Y,KAAK,OACLyO,OAAO,QACPH,MAAM,UACNH,QAAQ,WACRnB,KAAK,UACLlC,MAAO4K,EACPnH,SAAU/B,KAAKI,eAEhBe,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACkL,GAAD,CACChE,WAAYA,EACZnI,aAAcJ,KAAKI,aACnBsJ,eAAgB1J,KAAK0J,eACrBC,WAAY3J,KAAK7M,MAAMwW,WACvBF,gBAAiBzJ,KAAKyJ,kBAEvBtI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOD,UAAW0B,EAAQwJ,OACzBrL,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAAC8I,GAAD,gBACAhJ,EAAAC,EAAAC,cAAC8I,GAAD,iBACAhJ,EAAAC,EAAAC,cAAC8I,GAAD,aACAhJ,EAAAC,EAAAC,cAAC8I,GAAD,cACAhJ,EAAAC,EAAAC,cAAC8I,GAAD,gBACAhJ,EAAAC,EAAAC,cAAC8I,GAAD,CACC3E,MAAO,CACNmF,QAAS,IAFX,OASFxJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEwI,EAAc/F,IAAI,SAACoD,EAAKnD,GAAN,OAClB9C,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUD,UAAW0B,EAAQoE,IAAKlD,IAAKD,GACtC9C,EAAAC,EAAAC,cAAC8I,GAAD,KACChJ,EAAAC,EAAAC,cAACoL,GAAD,CACC3C,iBAAkBhH,EAAKgH,iBACvBnL,YAAayI,EAAIzI,YACjBsF,IAAKA,EACL8F,cAAeA,EACfC,gBAAiBlH,EAAKkH,gBACtBC,gBAAiBnH,EAAKmH,gBACtBN,WAAY7G,EAAK3P,MAAMwW,cAGzBxI,EAAAC,EAAAC,cAAC8I,GAAD,KACChJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,WACLlC,MAAO8I,EAAIpJ,SACX0O,OAAQ,kBAAM5J,EAAKmJ,SAAShI,IAC5BlC,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAAC8I,GAAD,KACChJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,YACLlC,MAAO8I,EAAIyE,UACX9J,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAAC8I,GAAD,KACChJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC+K,UAAU,EACV9Y,KAAK,OACLmO,QAAQ,WACRnB,KAAK,QACLmM,MAAOxQ,QAAQiL,EAAItL,KACnB2J,WAAY2B,EAAItL,KAAOsL,EAAItL,IAC3BwC,MAAOsO,SAASxF,EAAI9I,OAAOuO,iBAC3B9K,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAAC8I,GAAD,KACChJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,eACLlC,MAAO8I,EAAI0E,aACX/J,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAAC8I,GAAD,CACC3E,MAAO,CACNmF,QAAS,IAGVxJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACX/E,UAAW0B,EAAQ8J,IACnB1K,QAAS,kBAAMU,EAAKoJ,YAAYjI,KAEhC9C,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,YAMLD,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUD,UAAW0B,EAAQoE,KAC5BjG,EAAAC,EAAAC,cAAC8I,GAAD,cACAhJ,EAAAC,EAAAC,cAAC8I,GAAD,KACEJ,EACCgD,OAAO,SAACC,EAAK7P,GAAN,OAAcyP,SAASI,GAAOJ,SAASzP,EAAIa,WAAW,GAC7D6O,kBAEH1L,EAAAC,EAAAC,cAAC8I,GAAD,MACAhJ,EAAAC,EAAAC,cAAC8I,GAAD,KACEJ,EACCgD,OAAO,SAACC,EAAK7P,GAAN,OAAcyP,SAASI,GAAOJ,SAASzP,EAAImB,QAAQ,GAC1DuO,kBAEH1L,EAAAC,EAAAC,cAAC8I,GAAD,WAMLhJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAKY,KAAK,QAAQT,MAAM,UAAU2E,aAAW,MAAMjE,QAASpC,KAAK+L,UAChE5K,EAAAC,EAAAC,cAAC4L,GAAA7L,EAAD,OAEDD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY+G,KAAK,QAAQhC,aAAW,iBAClDlF,EAAAC,EAAAC,cAAA,UACCC,UAAWwG,EAAU,oBAAsB,kBAC3C1F,QAASpC,KAAKgI,eAEbF,EAAU,SAAW,QAEvB3G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBc,QAASpC,KAAKiI,iBAAlD,UAGA9G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBc,QAASpC,KAAKkI,gBAAjD,WAKDlI,KAAK7M,MAAMkW,SACXlI,EAAAC,EAAAC,cAAC6L,GAAD,CACC7D,QAASrJ,KAAK7M,MAAMkW,QACpBC,OAAQtJ,KAAK7M,MAAMmW,OACnB5B,eAAgB1H,KAAK0H,eACrBsB,kBAAmBhJ,KAAKgJ,kBACxBC,SAAUjJ,KAAKe,MAAMzJ,0BAldL+K,aAAjB8I,GA0CEgC,yBAA2B,SAACC,EAAWC,GAAc,IACnD1a,EAAcya,EAAU1Q,MAAxB/J,UACFwW,EAAO4B,KACb,GAAIpY,EAAUU,SAAWga,EAAUvF,QAAS,CAC3C,IAAMwD,EAAM,GACZ,IAAK,IAAIpH,KAAOvR,EACf2Y,EAAI5M,KAAK/L,EAAUuR,GAAKgF,SAEzB,IAAMA,EAAUqC,KAAKC,IAALC,MAAAF,KAAYD,GAAO,EACnC,OAAIpC,IAAYmE,EAAUnE,QAAgB,CAAEA,UAASC,QAC9C,KAER,OAAO,MAqaT,IAiBe7G,eAjBS,SAAC5F,GACxB,MAAO,CAAEA,UAGiB,SAAC6F,GAC3B,MAAO,CACNxO,eAAgB,SAACH,EAAOC,GAAR,OAAoB0O,EAASzO,EAAQC,eAAe,CAAEH,QAAOC,cAC7E8B,UAAW,kBAAM4M,EAASzO,EAAQ6B,cAClCZ,WAAY,kBAAMwN,EAASzO,EAAQiB,eACnCiC,aAAc,SAAC6O,GAAD,OAAUtD,EAASzO,EAAQkD,aAAa6O,KACtD1O,YAAa,kBAAMoL,EAASzO,EAAQqD,gBACpCM,eAAgB,SAACoO,GAAD,OAAUtD,EAASzO,EAAQ2D,eAAeoO,KAC1DvO,eAAgB,SAACgF,GAAD,OAAQiG,EAASzO,EAAQwD,eAAegF,KACxDvE,QAAS,kBAAMwK,EAASzO,EAAQiE,cAInBuK,CAA6C8B,qBA3gB7C,SAACC,GAAD,MAAY,CAC1Bf,KAAM,CACLgK,MAAO,OACP3C,QAAS,EACTnG,UAAWH,EAAMI,QAAQC,KACzB6I,UAAW,QAEZf,MAAO,CACN5H,SAAU,eAEXwC,IAAK,CACJoG,qBAAsB,CACrBnD,gBAAiBhG,EAAMiG,QAAQmD,WAAWC,UAG5CZ,IAAK,CACJ7K,OAAQoC,EAAMI,QAAQC,MAEvBlB,YAAa,CACZoB,SAAU,OAwfgDR,CAAmB+G,KC/iBzEtE,eACL,SAAAA,IAAc,IAAA/G,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA6G,IACb/G,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAoT,GAAA1G,KAAAH,QAKD8G,kBAAoB,WAAM,IAAA/D,EACkBjD,EAAKiB,MAAxC4M,EADiB5K,EACjB4K,cAAe1E,EADElG,EACFkG,SAAUvM,EADRqG,EACQrG,MAC3BsK,EAASlH,EAAK3M,MAAM6T,OAAOC,cAC3BrU,EAAQ8J,EAAM9J,MAAMsU,OAAO,SAAC/J,GAAD,OAAwD,IAA/CA,EAAI+L,QAAQjC,cAAcE,QAAQH,KAC5E,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9B1O,EAAMS,OACNT,EAAMoR,IAAI,SAAC7G,EAAK8G,GACf,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,UACN2E,aAAW,OACXjE,QAAS,kBAAMuL,EAAcxQ,EAAIH,OAEjCmE,EAAAC,EAAAC,cAACE,EAAA,EAAD,mBAEDJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACXjE,QAAS,kBAAM6G,EAAS9L,EAAIH,OAE5BmE,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,QAGFD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,SAAuCnE,EAAIgM,KAAKC,MAAM,EAAG,KACzDjI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,YAA0CnE,EAAI+L,SAC9C/H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,WAAyCnE,EAAIO,SAASmL,eAKzD1H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,WAzCUxB,EA8CdM,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KA/CTwB,EAAK3M,MAAQ,CACZ6T,OAAQ,IAHIlH,wEAoDL,IAAA0H,EACoCxH,KAAKe,MAAzCsI,EADA7B,EACA6B,QAASuE,EADTpG,EACSoG,OAAQlG,EADjBF,EACiBE,eACjBV,EAAWhH,KAAK7M,MAAhB6T,OACR,OACC7F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPN,QAAQ,WACRG,MAAM,iBACNtB,KAAK,SACLlC,MAAO0I,EACPjF,SAAU/B,KAAKI,aACfuH,UAAWD,KAGbvG,EAAAC,EAAAC,cAAA,WAAMgI,GAAWuE,GAAU5N,KAAK8G,8BAxEhBzE,aAmFNC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BuE,ICpFxCgH,8MACLC,wBAA0B,WAAM,IAAA/K,EACgBjD,EAAKiB,MAA5C8H,EADuB9F,EACvB8F,WAAYnM,EADWqG,EACXrG,MAAOqR,EADIhL,EACJgL,gBACrB/G,EAAS6B,EAAW5B,cACpBvU,EAAUgK,EAAMhK,QAAQwU,OAAO,SAAC/J,GAAD,OAA2D,IAAlDA,EAAI0L,WAAW5B,cAAcE,QAAQH,KACnF,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9B5O,EAAQW,OACRX,EAAQsR,IAAI,SAAC7G,EAAK8G,GACjB,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,UACCC,UAAU,oBACVc,QAAS,kBAAM2L,EAAgB5Q,EAAIH,IAAKG,EAAI0L,cAE3C1L,EAAI0L,aAGP1H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,YAA0CnE,EAAIqL,SAC9CrH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,cAA4CnE,EAAIsL,WAChDtH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,UAAwCnE,EAAI0D,OAC5CM,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,QAAsCnE,EAAIuL,QAK7CvH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,mFAKK,IAAAkG,EACyDxH,KAAKe,MAA9D8H,EADArB,EACAqB,WAAYmF,EADZxG,EACYwG,eAAgBC,EAD5BzG,EAC4ByG,WAAY7N,EADxCoH,EACwCpH,aAChD,OACCe,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLyO,OAAO,QACPN,QAAQ,WACRG,MAAM,SACNtB,KAAK,aACLlC,MAAOuK,EACP9G,SAAU3B,EACVuH,UAAWqG,IAEXC,GAAcjO,KAAK8N,kCA9CEzL,aAwDXC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BuL,ICpCxC1D,GAAkB/F,qBAAW,SAACC,GAAD,MAAY,CAC9C+F,KAAM,CACLC,gBAAiBhG,EAAMiG,QAAQC,OAAOC,MACtC9I,MAAO2C,EAAMiG,QAAQC,OAAOE,MAC5BC,UAAW,SACXC,QAAS,GAEVtQ,KAAM,CACLuQ,SAAU,GACVD,QAAS,GAEVE,OAAQ,CACPD,SAAU,GACVD,QAAS,KAbavG,CAepB0G,KAyBEC,GAAa,WAClB,IAAM7O,EAAI,IAAI8O,KACV7B,EAAO,QAGX,OAFAA,GAAQjN,EAAE+O,WAAa,EAAI,KAAO/O,EAAE+O,WAAa,GAAK,IAAM/O,EAAE+O,WAAa,IAC3E9B,GAAQjN,EAAEgP,UAAY,GAAK,KAAOhP,EAAEgP,UAAY,GAAKhP,EAAEgP,WAIlDgD,eACL,SAAAA,IAAc,IAAApO,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAAkO,IACbpO,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAya,GAAA/N,KAAAH,QAyBDoL,kBAAoB,WACnBtL,EAAKuL,WACL7E,GAAQ4B,KAAK,QAAS,WACrBtI,EAAKiB,MAAMhJ,YAEZyO,GAAQ4B,KAAK,YAAa,WACzBtI,EAAKiB,MAAM5J,gBAEZqP,GAAQ4B,KAAK,WAAY,WACxBtI,EAAKiB,MAAMhM,eAEZyR,GAAQ4B,KAAK,UAAW,WACvBtI,EAAKiB,MAAMxK,eAtCCuJ,EAuDduL,SAAW,WAAM,IACRzY,EAAUkN,EAAKiB,MAAMrE,MAArB9J,MACFuW,EAAO4B,KACb,GAAInY,EAAMS,OAAQ,CACjB,IAAMiY,EAAM,GACZ,IAAK,IAAIpH,KAAOtR,EACf0Y,EAAI5M,KAAK9L,EAAMsR,GAAKgF,SAErB,IAAMA,EAAUqC,KAAKC,IAALC,MAAAF,KAAYD,GAAO,EACnC,OAAOxL,EAAKW,SAAS,CAAEyI,UAASC,SAEjC,OAAOrJ,EAAKW,SAAS,CAAEyI,QAAS,EAAGC,UAlEtBrJ,EAoEdoI,eAAiB,WAChBpI,EAAKW,SAAS,CACbzD,IAAK,GACLmM,KAAM,GACND,QAAS,GACTxL,SAAU,GACVmL,WAAY,GACZkB,cAAe,CACd,CACChN,UAAW,GACX4B,YAAa,GACbX,SAAU,IACV8N,aAAc,IACdxN,MAAO,IACP4L,aAAa,EACbpO,KAAK,IAGPgM,SAAS,EACTmG,YAAY,EACZjH,OAAQ,GACRqC,SAAS,EACTuE,QAAQ,IAET9N,EAAKuL,YA5FQvL,EA8FdiM,SAAW,WACV,IAAMhC,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eAChChL,EAAW,GAEjB,OADAgL,EAAchM,QAAQ,SAAC7B,GAAD,OAAO6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAa,IAANA,GAAeX,QAAQW,QAC5FiC,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,MACnC4M,EAAcrL,KAAK,CAClB3B,UAAW,GACX4B,YAAa,GACbX,SAAU,IACV8N,aAAc,IACdxN,MAAO,IACP4L,aAAa,IAEPpK,EAAKW,SAAS,CAAEsJ,mBAEjBjK,EAAKiB,MAAMhN,gBAAe,EAAM,sCA7G1B+L,EA+GdoM,YAAc,SAACjI,GACd,IAAM8F,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eACtC,OAAIA,EAAc1W,OAAS,GAC1B0W,EAAc9F,GAAKiG,aAAc,EACjCH,EAAcqC,OAAOnI,EAAK,GACnBnE,EAAKW,SAAS,CAAEsJ,mBAEjBjK,EAAKW,SAAS,CACpBsJ,cAAe,CACd,CACChN,UAAW,GACX4B,YAAa,GACbX,SAAU,IACV8N,aAAc,IACdxN,MAAO,IACP4L,aAAa,OA9HHpK,EAmIdM,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KAtIIwB,EAyIdkK,gBAAkB,SAAC3J,EAAI4D,GAAQ,IAAAyH,EACNrL,EAAGE,OAAnBC,EADsBkL,EACtBlL,KAAMlC,EADgBoN,EAChBpN,MACRyL,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eACzB,aAATvJ,GAAgC,iBAATA,GAC1BuJ,EAAc9F,GAAKzD,GAAQlC,EAC3BwB,EAAK8L,UAAU3H,IAEf8F,EAAc9F,GAAKzD,GAAQlC,EAE5BwB,EAAKW,SAAS,CAAEsJ,mBAlJHjK,EAoJd8L,UAAY,SAAC3H,GACZ,IAAM8F,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eACtCA,EAAc9F,GAAK3F,MAAQyL,EAAc9F,GAAKjG,SAAW+L,EAAc9F,GAAK6H,aAC5EhM,EAAKW,SAAS,CAAEsJ,mBAvJHjK,EAyJdkI,cAAgB,WAAM,IAAApH,EAC4Cd,EAAK3M,MAA9D6J,EADa4D,EACb5D,IAAKmM,EADQvI,EACRuI,KAAMD,EADEtI,EACFsI,QAASxL,EADPkD,EACOlD,SAAUqM,EADjBnJ,EACiBmJ,cACtC,OAFqBnJ,EACgCkH,QAE9ChI,EAAKiB,MAAM7I,WAAW,CAAE8E,MAAKmM,OAAMD,UAASxL,WAAUlL,SAAUuX,IADlDjK,EAAKiB,MAAMnJ,SAAS,CAAEuR,OAAMD,UAASxL,WAAUlL,SAAUuX,KA3JjEjK,EA8JdmI,gBAAkB,WACjBnI,EAAKW,SAAS,SAACtN,GAAD,MAAY,CACzBkW,SAAUlW,EAAMkW,YAhKJvJ,EAmKd4H,eAAiB,SAACrH,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEmN,QAAQ,IACnC,KAAfvN,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEmN,QAAQ,SAAtD,GArKa9N,EAuKd6N,cAAgB,SAACrR,GAChB,IAAM1J,EAAQkN,EAAKiB,MAAMrE,MAAM9J,MAAMiK,KAAK,SAACM,GAAD,OAASA,EAAIH,MAAQV,IACvDU,EAA2CpK,EAA3CoK,IAAKmM,EAAsCvW,EAAtCuW,KAAMD,EAAgCtW,EAAhCsW,QAASxL,EAAuB9K,EAAvB8K,SAAUlL,EAAaI,EAAbJ,SACtCsN,EAAKW,SAAS,CACbzD,MACAmM,KAAMA,EAAKC,MAAM,EAAG,IACpBF,UACAxL,SAAUA,EAASV,IACnB6L,WAAYnL,EAASmL,WACrBkB,cAAevX,EAASwR,IAAI,SAAC7G,GAC5B,MAAO,CACNJ,UAAWI,EAAIJ,UAAUC,IACzB2B,YAAaxB,EAAIJ,UAAU4B,YAC3BX,SAAUb,EAAIa,SACd8N,aAAc3O,EAAI2O,aAClBxN,MAAOnB,EAAImB,MACXC,aAAcpB,EAAIJ,UAAUC,IAC5ByB,YAAatB,EAAIa,YAGnB8J,SAAS,EACTuB,SAAS,EACTuE,QAAQ,KA7LI9N,EAgMdkO,eAAiB,SAAC3N,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEwN,YAAY,IACvC,KAAf5N,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEwN,YAAY,SAA1D,GAlManO,EAoMdiO,gBAAkB,SAACrQ,EAAUmL,GAC5B/I,EAAKW,SAAS,CACb/C,WACAmL,aACAoF,YAAY,KAxMAnO,EA2MdmK,gBAAkB,SAAC5J,EAAI4D,GACtB,IAAM8F,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eACnB,KAAf1J,EAAG8H,UAAgB4B,EAAc9F,GAAKiG,aAAc,GACrC,KAAf7J,EAAG8H,UAAgB4B,EAAc9F,GAAKiG,aAAc,GACxDpK,EAAKW,SAAS,CAAEwD,MAAK8F,mBA/MRjK,EAiNdgK,iBAAmB,SAACxN,EAAIkE,GACvB,IAAMuJ,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eAChC9F,EAAMnE,EAAK3M,MAAM8Q,IACvB8F,EAAchM,QAAQ,SAACZ,EAAKkP,GAC3B,GAAIA,IAAMpI,GACL9G,EAAIwB,cAAgB6B,EACvB,OAAOV,EAAKiB,MAAMhN,gBAAe,EAA1B,6BAAAkJ,OAA6DuD,EAA7D,cAGVuJ,EAAc9F,GAAKlH,UAAYT,EAC/ByN,EAAc9F,GAAKtF,YAAc6B,EACjCuJ,EAAc9F,GAAKiG,aAAc,EACjCpK,EAAKW,SAAS,CAAEsJ,mBA7NHjK,EA+NdlC,WAAa,WAAM,IAAAoO,EACqBlM,EAAKiB,MAAMrE,MAA1C/J,EADUqZ,EACVrZ,UAAWC,EADDoZ,EACCpZ,MAAOJ,EADRwZ,EACQxZ,SACpBsL,EAAW,GAIjB,OAHAtL,EAASuL,QAAQ,SAAC7B,GAAD,OAAQ4B,EAAS5B,EAAEc,KAAO,IAC3CrK,EAAUoL,QAAQ,SAAC7B,GAAD,OAAOA,EAAE1J,SAASuL,QAAQ,SAACjB,GAAD,OAAQgB,EAAShB,EAAEC,UAAUC,MAAQF,EAAEkB,aACnFpL,EAAMmL,QAAQ,SAAC7B,GAAD,OAAOA,EAAE1J,SAASuL,QAAQ,SAACjB,GAAD,OAAQgB,EAAShB,EAAEC,UAAUC,MAAQF,EAAEkB,aACxEF,GArOMgC,EAuOdmM,SAAW,SAAChI,GACX,IAAM8F,EAAatW,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM4W,eAChCvX,EAAWsN,EAAKiB,MAAMrE,MAAMlK,SAC5B4L,EAAQ0B,EAAKlC,aACnB,GAAIkC,EAAK3M,MAAM2U,SACd,GAAIiC,EAAc9F,GAAK1F,cAClBwL,EAAc9F,GAAK1F,eAAiBwL,EAAc9F,GAAKlH,UAAW,CACrE,IAAMyB,GACJJ,EAAM2L,EAAc9F,GAAK1F,gBACzBwL,EAAc9F,GAAKxF,aACnBsL,EAAc9F,GAAKjG,SACrB,GAAIQ,EAAM,EAAG,KACJG,EAAgBnM,EAASqK,KAAK,SAACX,GAAD,OAAOA,EAAEc,MAAQ+M,EAAc9F,GAAK1F,eAAlEI,YACRoL,EAAc9F,GAAKnI,IAAnB,GAAAmB,OAA4B0B,EAA5B,yBAAA1B,OAA+DuB,QAE/DuL,EAAc9F,GAAKnI,KAAM,EAE1BgE,EAAKW,SAAS,CAAEsJ,uBAGZ,CACN,IAAMvL,EAAMJ,EAAM2L,EAAc9F,GAAKlH,YAAcgN,EAAc9F,GAAKjG,SAC9DrL,EAAcmN,EAAKiB,MAAMrE,MAAzB/J,UACR,GAAI6L,EAAM,EAAG,CACZuL,EAAc9F,GAAKnI,IAAnB,GAAAmB,OAA4B8M,EAAc9F,GAAKtF,YAA/C,yBAAA1B,OAAkFuB,GAClF,IAAI2P,EAAY,CAAEC,OAAO,GACzBzb,EAAUoL,QAAQ,SAAC7B,GAClBA,EAAE1J,SAASuL,QAAQ,SAACjB,GACfA,EAAEC,UAAUC,MAAQ+M,EAAc9F,GAAKlH,YAC1CoR,EAAUC,OAAQ,EAClBD,EAAUrC,aAAehP,EAAEgP,kBAI1BqC,EAAUC,MAAOrE,EAAc9F,GAAK6H,aAAeqC,EAAUrC,aAC5D/B,EAAc9F,GAAK6H,aAAe,OAEvC/B,EAAc9F,GAAKnI,KAAM,EACzBnJ,EAAUoL,QAAQ,SAAC7B,GAClBA,EAAE1J,SAASuL,QAAQ,SAACjB,GACfA,EAAEC,UAAUC,MAAQ+M,EAAc9F,GAAKlH,YAC1CgN,EAAc9F,GAAK6H,aAAehP,EAAEgP,kBAKxChM,EAAKW,SAAS,CAAEsJ,oBAnRjBjK,EAAK3M,MAAQ,CACZ6J,IAAK,GACLmM,KAAM,GACND,QAAS,GACTxL,SAAU,GACVmL,WAAY,GACZkB,cAAe,CACd,CACChN,UAAW,GACX4B,YAAa,GACbX,SAAU,IACV8N,aAAc,IACdxN,MAAO,IACP4L,aAAa,EACbpO,KAAK,IAGPgM,SAAS,EACTmG,YAAY,EACZjH,OAAQ,GACRqC,SAAS,EACTuE,QAAQ,GAvBI9N,wEAwRL,IAAAgD,EAAA9C,KAAAkB,EACsDlB,KAAK7M,MAA3DgW,EADAjI,EACAiI,KAAMD,EADNhI,EACMgI,QAASL,EADf3H,EACe2H,WAAYkB,EAD3B7I,EAC2B6I,cAAejC,EAD1C5G,EAC0C4G,QAC1C9E,EAAYhD,KAAKe,MAAjBiC,QACR,OACC7B,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,WAC/BH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCW,SAAS,YACTT,MAAM,SACNC,MAAM,YACNE,cAAc,EACdD,QAAQ,OAETR,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPyD,gBAAiB,CAAEC,QAAQ,GAC3B7D,MAAM,OACNH,QAAQ,WACRnB,KAAK,OACLlC,MAAO6K,EACPpH,SAAU/B,KAAKI,eAEhBe,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC+K,UAAQ,EACR9Y,KAAK,OACLyO,OAAO,QACPH,MAAM,UACNH,QAAQ,WACRnB,KAAK,UACLlC,MAAO4K,EACPnH,SAAU/B,KAAKI,eAEhBe,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACgN,GAAD,CACCxF,WAAYA,EACZzI,aAAcJ,KAAKI,aACnB4N,eAAgBhO,KAAKgO,eACrBC,WAAYjO,KAAK7M,MAAM8a,WACvBF,gBAAiB/N,KAAK+N,kBAEvB5M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOD,UAAW0B,EAAQwJ,OACzBrL,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACiN,GAAD,gBACAnN,EAAAC,EAAAC,cAACiN,GAAD,iBACAnN,EAAAC,EAAAC,cAACiN,GAAD,gBACAnN,EAAAC,EAAAC,cAACiN,GAAD,cACAnN,EAAAC,EAAAC,cAACiN,GAAD,CACC9I,MAAO,CACNmF,QAAS,IAFX,OASFxJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEwI,EAAc/F,IAAI,SAACoD,EAAKnD,GAAN,OAClB9C,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUD,UAAW0B,EAAQoE,IAAKlD,IAAKD,GACtC9C,EAAAC,EAAAC,cAACiN,GAAD,KACCnN,EAAAC,EAAAC,cAACoL,GAAD,CACC3C,iBAAkBhH,EAAKgH,iBACvBnL,YAAayI,EAAIzI,YACjBsF,IAAKA,EACL8F,cAAeA,EACfC,gBAAiBlH,EAAKkH,gBACtBC,gBAAiBnH,EAAKmH,gBACtBgE,WAAYnL,EAAK3P,MAAM8a,cAGzB9M,EAAAC,EAAAC,cAACiN,GAAD,KACCnN,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,WACLlC,MAAO8I,EAAIpJ,SACX0O,OAAQ,kBAAM5J,EAAKmJ,SAAShI,IAC5BlC,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAACiN,GAAD,KACCnN,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,eACLlC,MAAO8I,EAAI0E,aACXyC,QAAS,kBAAMzL,EAAK8I,UAAU3H,IAC9BlC,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAACiN,GAAD,KACCnN,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC+K,UAAU,EACV9Y,KAAK,OACLmO,QAAQ,WACRnB,KAAK,QACLmM,MAAOxQ,QAAQiL,EAAItL,KACnB2J,WAAY2B,EAAItL,KAAOsL,EAAItL,IAC3BwC,MAAOsO,SAASxF,EAAI9I,OAAOuO,iBAC3B9K,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAACiN,GAAD,CACC9I,MAAO,CACNmF,QAAS,IAGVxJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACX/E,UAAW0B,EAAQ8J,IACnB1K,QAAS,kBAAMU,EAAKoJ,YAAYjI,KAEhC9C,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,YAMLD,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUD,UAAW0B,EAAQoE,KAC5BjG,EAAAC,EAAAC,cAACiN,GAAD,cACAnN,EAAAC,EAAAC,cAACiN,GAAD,KACEvE,EACCgD,OAAO,SAACC,EAAK7P,GAAN,OAAcyP,SAASI,GAAOJ,SAASzP,EAAIa,WAAW,GAC7D6O,kBAEH1L,EAAAC,EAAAC,cAACiN,GAAD,MACAnN,EAAAC,EAAAC,cAACiN,GAAD,KACEvE,EACCgD,OAAO,SAACC,EAAK7P,GAAN,OAAcyP,SAASI,GAAOJ,SAASzP,EAAImB,QAAQ,GAC1DuO,kBAEH1L,EAAAC,EAAAC,cAACiN,GAAD,WAMLnN,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAKY,KAAK,QAAQT,MAAM,UAAU2E,aAAW,MAAMjE,QAASpC,KAAK+L,UAChE5K,EAAAC,EAAAC,cAAC4L,GAAA7L,EAAD,OAEDD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY+G,KAAK,QAAQhC,aAAW,iBAClDlF,EAAAC,EAAAC,cAAA,UACCC,UAAWwG,EAAU,oBAAsB,kBAC3C1F,QAASpC,KAAKgI,eAEbF,EAAU,SAAW,QAEvB3G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBc,QAASpC,KAAKiI,iBAAlD,UAGA9G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBc,QAASpC,KAAKkI,gBAAjD,WAKDlI,KAAK7M,MAAMkW,SACXlI,EAAAC,EAAAC,cAACmN,GAAD,CACCnF,QAASrJ,KAAK7M,MAAMkW,QACpBuE,OAAQ5N,KAAK7M,MAAMya,OACnBlG,eAAgB1H,KAAK0H,eACrBiG,cAAe3N,KAAK2N,cACpB1E,SAAUjJ,KAAKe,MAAM1I,sBAncTgK,aAAb6L,GA0CEf,yBAA2B,SAACC,EAAWC,GAAc,IACnDza,EAAUwa,EAAU1Q,MAApB9J,MACFuW,EAAO4B,KACb,GAAInY,EAAMS,SAAWga,EAAUvF,QAAS,CACvC,IAAMwD,EAAM,GACZ,IAAK,IAAIpH,KAAOtR,EACf0Y,EAAI5M,KAAK9L,EAAMsR,GAAKgF,SAErB,IAAMA,EAAUqC,KAAKC,IAALC,MAAAF,KAAYD,GAAO,EACnC,OAAIpC,IAAYmE,EAAUnE,QAAgB,CAAEA,UAASC,QAC9C,KAER,OAAO,MAsZT,IAiBe7G,eAjBS,SAAC5F,GACxB,MAAO,CAAEA,UAGiB,SAAC6F,GAC3B,MAAO,CACNxO,eAAgB,SAACH,EAAOC,GAAR,OAAoB0O,EAASzO,EAAQC,eAAe,CAAEH,QAAOC,cAC7E0C,UAAW,kBAAMgM,EAASzO,EAAQyC,cAClCxB,WAAY,kBAAMwN,EAASzO,EAAQiB,eACnC6C,SAAU,SAACiO,GAAD,OAAUtD,EAASzO,EAAQ8D,SAASiO,KAC9C3N,WAAY,SAAC2N,GAAD,OAAUtD,EAASzO,EAAQoE,WAAW2N,KAClD9N,QAAS,kBAAMwK,EAASzO,EAAQiE,YAChCM,WAAY,SAACiE,GAAD,OAAQiG,EAASzO,EAAQuE,WAAWiE,KAChDnF,YAAa,kBAAMoL,EAASzO,EAAQqD,kBAIvBmL,CAA6C8B,qBA5f7C,SAACC,GAAD,MAAY,CAC1Bf,KAAM,CACLgK,MAAO,OACP3C,QAAS,EACTnG,UAAWH,EAAMI,QAAQC,KACzB6I,UAAW,QAEZf,MAAO,CACN5H,SAAU,eAEXwC,IAAK,CACJoG,qBAAsB,CACrBnD,gBAAiBhG,EAAMiG,QAAQmD,WAAWC,UAG5CZ,IAAK,CACJ7K,OAAQoC,EAAMI,QAAQC,MAEvBlB,YAAa,CACZoB,SAAU,OAyegDR,CAAmB8J,KChiBzErH,eACL,SAAAA,IAAc,IAAA/G,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA6G,IACb/G,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAoT,GAAA1G,KAAAH,QAKD8G,kBAAoB,WAAM,IAAA/D,EACqBjD,EAAKiB,MAA3C0N,EADiB1L,EACjB0L,iBAAkBxF,EADDlG,EACCkG,SAAUvM,EADXqG,EACWrG,MAC9BsK,EAASlH,EAAK3M,MAAM6T,OAAOC,cAC3BpU,EAAW6J,EAAM7J,SAASqU,OAAO,SAAC/J,GAAD,OAAsD,IAA7CA,EAAIuR,MAAMzH,cAAcE,QAAQH,KAChF,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9BzO,EAASQ,OACTR,EAASmR,IAAI,SAAC7G,EAAK8G,GAClB,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,UACN2E,aAAW,OACXjE,QAAS,kBAAMqM,EAAiBtR,EAAIH,OAEpCmE,EAAAC,EAAAC,cAACE,EAAA,EAAD,mBAEDJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACXjE,QAAS,kBAAM6G,EAAS9L,EAAIH,OAE5BmE,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,QAGFD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,SAAuCnE,EAAIgM,KAAKC,MAAM,EAAG,KACzDjI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,cAA4CnE,EAAIuR,OAChDvN,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,WAAyCnE,EAAIK,SAAS+K,eAKzDpH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,WAzCUxB,EA8CdM,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KA/CTwB,EAAK3M,MAAQ,CACZ6T,OAAQ,IAHIlH,wEAoDL,IAAA0H,EACsCxH,KAAKe,MAA3CsI,EADA7B,EACA6B,QAASsF,EADTnH,EACSmH,SAAUjH,EADnBF,EACmBE,eACnBV,EAAWhH,KAAK7M,MAAhB6T,OACR,OACC7F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPN,QAAQ,WACRG,MAAM,mBACNtB,KAAK,SACLlC,MAAO0I,EACPjF,SAAU/B,KAAKI,aACfuH,UAAWD,KAGbvG,EAAAC,EAAAC,cAAA,WAAMgI,GAAWsF,GAAY3O,KAAK8G,8BAxElBzE,aAmFNC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BuE,ICpFxC+H,8MACL/E,yBAA2B,WAAM,IAAA9G,EAC+BjD,EAAKiB,MAA5DmI,EADwBnG,EACxBmG,QAAS1L,EADeuF,EACfvF,SAAUqR,EADK9L,EACL8L,gBAAiB/G,EADZ/E,EACY+E,QAASpL,EADrBqG,EACqBrG,MAC/CsK,EAASkC,EAAQjC,cACjB6H,EAAWpS,EAAM/J,UACrBuU,OAAO,SAAC/J,GAAD,OAASA,EAAIK,SAASR,MAAQQ,IACrC0J,OAAO,SAAC/J,GAAD,OAAwD,IAA/CA,EAAI+L,QAAQjC,cAAcE,QAAQH,KAC9CnU,EAAW6J,EAAM7J,SAASqU,OAAO,SAAChL,GAAD,OAAOA,EAAEsB,SAASR,MAAQQ,IAC7DuR,EAAQ,GACNC,EAAW,CAAEC,KAAM,EAAGC,IAAK,EAAGC,MAAO,IAoB3C,OAnBAtc,EAASkL,QAAQ,SAAC7B,GACjBA,EAAE+B,QAAQF,QAAQ,SAACjB,IAC+B,IAA7CA,EAAEoM,QAAQjC,cAAcE,QAAQH,KACnCgI,EAASE,MAAQpS,EAAEoS,SAIjBpH,EAUJiH,EAAQD,EATRA,EAAS/Q,QAAQ,SAACqR,IACgC,IAA7CA,EAAElG,QAAQjC,cAAcE,QAAQH,KACnCgI,EAASC,KAAOG,EAAE5c,SAASua,OAAO,SAACsC,EAAKC,GAAN,OAAcD,EAAMC,EAAIhR,OAAO,GAC7D0Q,EAASC,KAAOD,EAASE,KAC5BH,EAAMrQ,KAAK0Q,MAQdjO,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9ByN,EAAM1b,OACN0b,EAAM/K,IAAI,SAAC7G,EAAK8G,GACf,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,oBAAoBc,QAAS,kBAAMyM,EAAgB1R,KACnEA,EAAI+L,UAGP/H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,SAAuCnE,EAAIgM,KAAKC,MAAM,EAAG,KACzDjI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,WACUnE,EAAI3K,SAASua,OAAO,SAACsC,EAAKC,GAAN,OAAcD,IAAOC,EAAIhR,OAAO,GAAGuO,iBADjE,SAOH1L,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,mFAKK,IAAAkG,EACuExH,KAAKe,MAA5EmI,EADA1B,EACA0B,QAASjF,EADTuD,EACSvD,IAAKsL,EADd/H,EACc+H,OAAQvF,EADtBxC,EACsBwC,gBAAiBwF,EADvChI,EACuCgI,gBAAiB7F,EADxDnC,EACwDmC,WAChE,OACCxI,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,UACLlC,MAAO4K,EACPnH,SAAU,SAAC1B,GAAD,OAAQ2J,EAAgB3J,EAAI4D,IACtC0D,UAAW,SAACtH,GAAD,OAAQmP,EAAgBnP,EAAI4D,OAEtC0F,GAAc4F,EAAOE,YAAczP,KAAK6J,mCAjElBxH,aA2EbC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BsM,ICvDxCzE,GAAkB/F,qBAAW,SAACC,GAAD,MAAY,CAC9C+F,KAAM,CACLC,gBAAiBhG,EAAMiG,QAAQC,OAAOC,MACtC9I,MAAO2C,EAAMiG,QAAQC,OAAOE,MAC5BC,UAAW,SACXC,QAAS,GAEVtQ,KAAM,CACLuQ,SAAU,GACVD,QAAS,GAEVE,OAAQ,CACPD,SAAU,GACVD,QAAS,KAbavG,CAepB0G,KA4BEC,GAAa,WAClB,IAAM7O,EAAI,IAAI8O,KACV7B,EAAO,QAGX,OAFAA,GAAQjN,EAAE+O,WAAa,EAAI,KAAO/O,EAAE+O,WAAa,GAAK,IAAM/O,EAAE+O,WAAa,IAC3E9B,GAAQjN,EAAEgP,UAAY,GAAK,KAAOhP,EAAEgP,UAAY,GAAKhP,EAAEgP,WAIlDwE,eACL,SAAAA,IAAc,IAAA5P,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA0P,IACb5P,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAic,GAAAvP,KAAAH,QAuBDoL,kBAAoB,WACnBtL,EAAKuL,WACL7E,GAAQ4B,KAAK,WAAY,WACxBtI,EAAKiB,MAAMpI,eAEZ6N,GAAQ4B,KAAK,YAAa,WACzBtI,EAAKiB,MAAM5J,gBAEZqP,GAAQ4B,KAAK,UAAW,WACvBtI,EAAKiB,MAAMpL,eAjCCmK,EAkDduL,SAAW,WAAM,IACRxY,EAAaiN,EAAKiB,MAAMrE,MAAxB7J,SACFsW,EAAO4B,KACb,GAAIlY,EAASQ,OAAQ,CACpB,IAAMiY,EAAM,GACZ,IAAK,IAAIpH,KAAOrR,EACfyY,EAAI5M,KAAK7L,EAASqR,GAAKwK,OAExB,IAAMA,EAAQnD,KAAKC,IAALC,MAAAF,KAAYD,GAAO,EACjC,OAAOxL,EAAKW,SAAS,CAAEiO,QAAOvF,SAE/B,OAAOrJ,EAAKW,SAAS,CAAEiO,MAAO,EAAGvF,UA7DpBrJ,EA+DdM,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KAlEIwB,EAqEdkK,gBAAkB,SAAC3J,EAAI4D,GAAQ,IAAAyH,EACNrL,EAAGE,OAAnBC,EADsBkL,EACtBlL,KAAMlC,EADgBoN,EAChBpN,MACRL,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAChCA,EAAQgG,GAAKzD,GAAQlC,EACrBwB,EAAKW,SAAS,CAAExC,aAzEH6B,EA2EdkI,cAAgB,WAAM,IAAApH,EACoCd,EAAK3M,MAAtD6J,EADa4D,EACb5D,IAAKmM,EADQvI,EACRuI,KAAMuF,EADE9N,EACF8N,MAAOlR,EADLoD,EACKpD,SAAUS,EADf2C,EACe3C,QADf2C,EACwBkH,QAI5ChI,EAAKiB,MAAMjI,cAAc,CAAEkE,MAAKmM,OAAMuF,QAAOlR,WAAUS,YAFvD6B,EAAKiB,MAAMvI,YAAY,CAAE2Q,OAAMuF,QAAOlR,WAAUS,YAIjD6B,EAAKuL,YAlFQvL,EAoFdmI,gBAAkB,WACjBnI,EAAKW,SAAS,SAACtN,GAAD,MAAY,CACzBkW,SAAUlW,EAAMkW,YAtFJvJ,EAyFdoI,eAAiB,WAChBpI,EAAKW,SAAS,CACbqH,SAAS,EACT9K,IAAK,GACLmM,KAAM,GACNuF,MAAO,GACPlR,SAAU,GACV+K,WAAY,GACZoB,YAAY,EACZ1L,QAAS,CACR,CACCiL,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,IAGdzI,OAAQ,GACRqC,SAAS,EACTsF,UAAU,IAEX7O,EAAKuL,YA/GQvL,EAiHdiM,SAAW,WACV,IAAM9N,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAC1Bc,EAAW,GAIjB,OAHAd,EAAQF,QAAQ,SAAC7B,GAChB6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAa,IAANA,GAAeX,QAAQW,QAEhEiC,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,MACnCc,EAAQS,KAAK,CACZwK,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,IAEN3P,EAAKW,SAAS,CAAExC,aAEjB6B,EAAKiB,MAAMhN,gBAAe,EAAM,mCAjI1B+L,EAmIdoM,YAAc,SAACjI,GACd,IAAMhG,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAChC,GAAIA,EAAQ5K,OAAS,EAAG,CACvB,IAAK,IAAIgZ,EAAI,EAAGA,EAAIpO,EAAQ5K,OAAQgZ,IACnCpO,EAAQoO,GAAGoD,YAAa,EAEzBxR,EAAQmO,OAAOnI,EAAK,GACpBnE,EAAKW,SAAS,CAAExC,iBAEhB6B,EAAKW,SAAS,CACbxC,QAAS,CACR,CACCiL,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,OAnJH3P,EAyJd4H,eAAiB,SAACrH,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEkO,UAAU,IACrC,KAAftO,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEkO,UAAU,SAAxD,GA3Ja7O,EA6Jd4J,eAAiB,SAACrJ,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEkJ,YAAY,IACvC,KAAftJ,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEkJ,YAAY,SAA1D,GA/Ja7J,EAiKd2J,gBAAkB,SAACjM,EAAU+K,GAC5BzI,EAAKW,SAAS,CACbjD,WACA+K,aACAoB,YAAY,EACZ1L,QAAS,CACR,CACCiL,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,OA5KF3P,EAiLd0P,gBAAkB,SAACnP,EAAI4D,GACtB,IAAMhG,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SACb,KAAfoC,EAAG8H,UAAgBlK,EAAQgG,GAAKwL,YAAa,GAC9B,KAAfpP,EAAG8H,UAAgBlK,EAAQgG,GAAKwL,YAAa,GACjD3P,EAAKW,SAAS,CAAEwD,MAAKhG,aArLR6B,EAuLd+O,gBAAkB,SAACvQ,GAClB,IAAML,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAC1BgG,EAAMnE,EAAK3M,MAAM8Q,IACjB2L,EAAQ,CAAEC,OAAQ,GAOxB,GANA5R,EAAQgG,GAAKiF,QAAU5K,EAAM4K,QAC7BjL,EAAQF,QAAQ,SAACZ,GACZA,EAAI+L,UAAY5K,EAAM4K,SACzB0G,EAAMC,WAGJD,EAAMC,OAAS,EAAG,OAAO/P,EAAKiB,MAAMhN,gBAAe,EAAM,4BAC7DkK,EAAQgG,GAAK/F,WAAaI,EAAMtB,IAChCiB,EAAQgG,GAAKwL,YAAa,EAC1B3P,EAAKW,SAAS,CAAExC,aApMH6B,EAsMdgQ,WAAa,SAACxR,GACb,IAAMzL,EAAWiN,EAAKiB,MAAMrE,MAAM7J,SAC5Bkd,EAAU,CAAEC,aAAc,EAAGhB,SAAU,IAU7C,OATAe,EAAQC,aAAe1R,EAAM9L,SAASua,OAAO,SAACsC,EAAKC,GAAN,OAAcD,IAAOC,EAAIhR,OAAO,GAC7EzL,EAASkL,QAAQ,SAAC7B,GACjBA,EAAE+B,QAAQF,QAAQ,SAACjB,GACdA,EAAEoM,UAAY5K,EAAM4K,SACvB6G,EAAQf,SAAStQ,KAAK5B,OAIzBiT,EAAQf,SAAWe,EAAQf,SAASjC,OAAO,SAACsC,EAAKC,GAAN,OAAcD,IAAOC,EAAIJ,KAAK,GAClEa,GAlNMjQ,EAoNd2O,iBAAmB,SAACnS,GACnB,GAAIA,EAAI,CACP,IAAM0C,EAAUc,EAAKiB,MAAMrE,MAAM7J,SAASgK,KAAK,SAACM,GAAD,OAASA,EAAIH,MAAQV,IAC5DU,EAAwCgC,EAAxChC,IAAKmM,EAAmCnK,EAAnCmK,KAAMuF,EAA6B1P,EAA7B0P,MAAOlR,EAAsBwB,EAAtBxB,SAAUS,EAAYe,EAAZf,QACpC6B,EAAKW,SAAS,CACbzD,MACAmM,KAAMA,EAAKC,MAAM,EAAG,IACpBsF,QACAuB,YAAazS,EAASR,IACtBQ,SAAUA,EAASR,IACnBuL,WAAY/K,EAAS+K,WACrBtK,QAASA,EAAQ+F,IAAI,SAAC7G,GAAQ,IACrBe,EAA0Cf,EAA1Ce,WAAYgL,EAA8B/L,EAA9B+L,QAASgG,EAAqB/R,EAArB+R,IAAK3H,EAAgBpK,EAAhBoK,YAC5BjJ,EAAQwB,EAAKiB,MAAMrE,MAAM/J,UAAUkK,KAAK,SAACX,GAAD,OAAOA,EAAEgN,UAAYA,IAC7D6G,EAAUjQ,EAAKgQ,WAAWxR,GAChC,MAAO,CACNJ,aACAgL,UACAyG,SAAUI,EAAQC,cAAgBD,EAAQf,WAAYE,EACtDA,MACA3H,cACAkI,YAAY,KAGd3H,SAAS,EACT6G,UAAU,EACVtF,SAAS,MA9OEvJ,EAkPdoQ,gBAAkB,SAACjM,GAClB,IAAMhG,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAChC,GAAK6B,EAAK3M,MAAM2U,QAOT,CACN,IAAMd,EAAS/I,EAAQgG,GAAKiF,QACtB5K,EAAQwB,EAAKiB,MAAMrE,MAAM/J,UAAUkK,KAAK,SAACX,GAAD,OAAOA,EAAEgN,UAAYlC,IAC7D+I,EAAUjQ,EAAKgQ,WAAWxR,GAC1B6R,EAAarQ,EAAKiB,MAAMrE,MAAM7J,SAClCgK,KAAK,SAACX,GAAD,OAAOA,EAAEwS,QAAU5O,EAAK3M,MAAMub,QACnCzQ,QAAQpB,KAAK,SAACX,GAAD,OAAOA,EAAEgN,UAAY5K,EAAM4K,UACtCiH,GACCA,EAAWjS,aAAeD,EAAQgG,GAAK/F,YAC1CD,EAAQgG,GAAKiL,IAAMiB,EAAWjB,IAC9BjR,EAAQgG,GAAK0L,SAAWI,EAAQC,cAAgBD,EAAQf,WAAYmB,EAAWjB,KAKhFjR,EAAQgG,GAAK0L,SAAWI,EAAQC,cAAgBD,EAAQf,cArBzD,GAAI/Q,EAAQgG,GAAK/F,WAAY,CAC5B,IAAM8I,EAAS/I,EAAQgG,GAAKiF,QACtB5K,EAAQwB,EAAKiB,MAAMrE,MAAM/J,UAAUkK,KAAK,SAACX,GAAD,OAAOA,EAAEgN,UAAYlC,IAC7D+I,EAAUjQ,EAAKgQ,WAAWxR,GAChCL,EAAQgG,GAAK0L,SAAWI,EAAQC,cAAgBD,EAAQf,SAoB1DlP,EAAKW,SAAS,CAAExC,aA7QH6B,EA+QdsQ,aAAe,SAACnM,GACf,IAAMhG,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAC5BA,EAAQgG,GAAKiL,IAAMjR,EAAQgG,GAAK0L,QACnC1R,EAAQgG,GAAKoM,YAAb,+BAAApT,OAA0DgB,EAAQgG,GAAK0L,QAAU1R,EAAQgG,GAAKiL,KAE9FjR,EAAQgG,GAAKoM,aAAc,EAE5BvQ,EAAKW,SAAS,CAAExC,aApRhB6B,EAAK3M,MAAQ,CACZ2U,SAAS,EACT9K,IAAK,GACLmM,KAAM,GACNuF,MAAO,GACPlR,SAAU,GACV+K,WAAY,GACZoB,YAAY,EACZ1L,QAAS,CACR,CACCiL,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,IAGdzI,OAAQ,GACRqC,SAAS,EACTsF,UAAU,GArBE7O,wEAwRL,IAAAgD,EAAA9C,KAAAkB,EAC8ClB,KAAK7M,MAAnDgW,EADAjI,EACAiI,KAAMuF,EADNxN,EACMwN,MAAOnG,EADbrH,EACaqH,WAAYtK,EADzBiD,EACyBjD,QAAS6J,EADlC5G,EACkC4G,QAClC9E,EAAYhD,KAAKe,MAAjBiC,QACR,OACC7B,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,WAC/BH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCW,SAAS,eACTT,MAAM,SACNC,MAAM,YACNE,cAAc,EACdD,QAAQ,OAETR,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPyD,gBAAiB,CAAEC,QAAQ,GAC3B7D,MAAM,OACNH,QAAQ,WACRnB,KAAK,OACLlC,MAAO6K,EACPpH,SAAU/B,KAAKI,eAEhBe,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC+K,UAAU,EACV9Y,KAAK,OACLyO,OAAO,QACPH,MAAM,QACNH,QAAQ,WACRnB,KAAK,QACLlC,MAAOoQ,EACP3M,SAAU/B,KAAKI,eAEhBe,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACkL,GAAD,CACChE,WAAYA,EACZnI,aAAcJ,KAAKI,aACnBsJ,eAAgB1J,KAAK0J,eACrBC,WAAY3J,KAAK7M,MAAMwW,WACvBF,gBAAiBzJ,KAAKyJ,kBAEvBtI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOD,UAAW0B,EAAQwJ,OACzBrL,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACiP,GAAD,gBACAnP,EAAAC,EAAAC,cAACiP,GAAD,gBACAnP,EAAAC,EAAAC,cAACiP,GAAD,eACAnP,EAAAC,EAAAC,cAACiP,GAAD,oBACAnP,EAAAC,EAAAC,cAACiP,GAAD,CACC9K,MAAO,CACNmF,QAAS,IAFX,OASFxJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEtD,EAAQ+F,IAAI,SAACoD,EAAKnD,GAAN,OACZ9C,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUD,UAAW0B,EAAQoE,IAAKlD,IAAKD,GACtC9C,EAAAC,EAAAC,cAACiP,GAAD,KACCnP,EAAAC,EAAAC,cAACkP,GAAD,CACCrH,QAAS9B,EAAI8B,QACb1L,SAAUsF,EAAK3P,MAAMqK,SACrByG,IAAKA,EACLsL,OAAQnI,EACRuC,WAAY7G,EAAK3P,MAAMwW,WACvBK,gBAAiB,SAAC3J,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,IAClDuL,gBAAiB,SAACnP,GAAD,OAAQyC,EAAK0M,gBAAgBnP,EAAI4D,IAClD4K,gBAAiB/L,EAAK+L,gBACtB/G,QAASA,KAGX3G,EAAAC,EAAAC,cAACiP,GAAD,KACCnP,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC+K,UAAU,EACVK,MAAOxQ,QAAQiL,EAAIiJ,aACnB5K,WAAY2B,EAAIiJ,aAAejJ,EAAIiJ,YACnC7c,KAAK,OACLmO,QAAQ,WACRnB,KAAK,UACLlC,MAAO8I,EAAIuI,QACX5N,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAACiP,GAAD,KACCnP,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,MACLlC,MAAO8I,EAAI8H,IACXxC,OAAQ,kBAAM5J,EAAKsN,aAAanM,IAChCsK,QAAS,kBAAMzL,EAAKoN,gBAAgBjM,IACpClC,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAACiP,GAAD,KACCnP,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,cACLlC,MAAO8I,EAAIG,YACXxF,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAACiP,GAAD,CACC9K,MAAO,CACNmF,QAAS,IAGVxJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACX/E,UAAW0B,EAAQ8J,IACnB1K,QAAS,kBAAMU,EAAKoJ,YAAYjI,KAEhC9C,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,YAMLD,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUD,UAAW0B,EAAQoE,KAC5BjG,EAAAC,EAAAC,cAACiP,GAAD,cACAnP,EAAAC,EAAAC,cAACiP,GAAD,MACAnP,EAAAC,EAAAC,cAACiP,GAAD,KACErS,EACC8O,OAAO,SAACC,EAAK7P,GAAN,OAAcyP,SAASI,GAAOJ,SAASzP,EAAI+R,MAAM,GACxDrC,kBAEH1L,EAAAC,EAAAC,cAACiP,GAAD,MACAnP,EAAAC,EAAAC,cAACiP,GAAD,WAMLnP,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAKY,KAAK,QAAQT,MAAM,UAAU2E,aAAW,MAAMjE,QAASpC,KAAK+L,UAChE5K,EAAAC,EAAAC,cAAC4L,GAAA7L,EAAD,OAEDD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY+G,KAAK,QAAQhC,aAAW,iBAClDlF,EAAAC,EAAAC,cAAA,UACCC,UAAWwG,EAAU,oBAAsB,kBAC3C1F,QAASpC,KAAKgI,eAEbF,EAAU,SAAW,QAEvB3G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBc,QAASpC,KAAKiI,iBAAlD,UAGA9G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBc,QAASpC,KAAKkI,gBAAjD,WAKDlI,KAAK7M,MAAMkW,SACXlI,EAAAC,EAAAC,cAACmP,GAAD,CACCnH,QAASrJ,KAAK7M,MAAMkW,QACpBsF,SAAU3O,KAAK7M,MAAMwb,SACrBjH,eAAgB1H,KAAK0H,eACrB+G,iBAAkBzO,KAAKyO,iBACvBxF,SAAUjJ,KAAKe,MAAM9H,yBAjcNoJ,aAAhBqN,GAqCEvC,yBAA2B,SAACC,EAAWC,GAAc,IACnDxa,EAAaua,EAAU1Q,MAAvB7J,SACFsW,EAAO4B,KACb,GAAIlY,EAASQ,SAAWga,EAAUvF,QAAS,CAC1C,IAAMwD,EAAM,GACZ,IAAK,IAAIpH,KAAOrR,EACfyY,EAAI5M,KAAK7L,EAASqR,GAAKwK,OAExB,IAAMA,EAAQnD,KAAKC,IAALC,MAAAF,KAAYD,GAAO,EACjC,OAAIoD,IAAUrB,EAAUqB,MAAc,CAAEA,QAAOvF,QACxC,KAER,OAAO,MAyZT,IAgBe7G,eAhBS,SAAC5F,GACxB,MAAO,CAAEA,UAGiB,SAAC6F,GAC3B,MAAO,CACNxO,eAAgB,SAACH,EAAOC,GAAR,OAAoB0O,EAASzO,EAAQC,eAAe,CAAEH,QAAOC,cAC7E8B,UAAW,kBAAM4M,EAASzO,EAAQ6B,cAClCwB,YAAa,kBAAMoL,EAASzO,EAAQqD,gBACpCqB,YAAa,SAACqN,GAAD,OAAUtD,EAASzO,EAAQ0E,YAAYqN,KACpDlN,WAAY,kBAAM4J,EAASzO,EAAQ6E,eACnCG,cAAe,SAAC+M,GAAD,OAAUtD,EAASzO,EAAQgF,cAAc+M,KACxD5M,cAAe,SAACqD,GAAD,OAAQiG,EAASzO,EAAQmF,cAAcqD,OAIzCgG,CAA6C8B,qBA5f7C,SAACC,GAAD,MAAY,CAC1Bf,KAAM,CACLgK,MAAO,OACP3C,QAAS,EACTnG,UAAWH,EAAMI,QAAQC,KACzB6I,UAAW,QAEZf,MAAO,CACN5H,SAAU,eAEXwC,IAAK,CACJoG,qBAAsB,CACrBnD,gBAAiBhG,EAAMiG,QAAQmD,WAAWC,UAG5CZ,IAAK,CACJ7K,OAAQoC,EAAMI,QAAQC,MAEvBlB,YAAa,CACZoB,SAAU,KAEX6L,cAAe,CACd7L,SAAU,OAsegDR,CAAmBsL,KChiBzE7I,eACL,SAAAA,EAAY9F,GAAO,IAAAjB,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA6G,IAClB/G,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAoT,GAAA1G,KAAAH,KAAMe,KAKP+F,kBAAoB,WACnB,IAAME,EAASlH,EAAK3M,MAAM6T,OADDjE,EAEsBjD,EAAKiB,MAA5C2P,EAFiB3N,EAEjB2N,kBAAmBzH,EAFFlG,EAEEkG,SACrBnW,EAHmBiQ,EAEYrG,MACZ5J,WAAWoU,OAAO,SAAC/J,GAAD,OAAsD,IAA7CA,EAAIuR,MAAMzH,cAAcE,QAAQH,KACpF,OACC7F,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9BxO,EAAWO,OACXP,EAAWkR,IAAI,SAAC7G,EAAK8G,GACpB,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,UACN2E,aAAW,OACXjE,QAAS,kBAAMsO,EAAkBvT,EAAIH,OAErCmE,EAAAC,EAAAC,cAACE,EAAA,EAAD,mBAEDJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACXjE,QAAS,kBAAM6G,EAAS9L,EAAIH,OAE5BmE,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,QAGFD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,SAAuCnE,EAAIgM,KAAKC,MAAM,EAAG,KACzDjI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,cAA4CnE,EAAIuR,OAChDvN,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,WAAyCnE,EAAIO,SAASmL,eAKzD1H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,WAzCexB,EA8CnBM,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KA/CTwB,EAAK3M,MAAQ,CACZ6T,OAAQ,IAHSlH,wEAoDV,IAAA0H,EACsCxH,KAAKe,MAA3CsI,EADA7B,EACA6B,QAASsF,EADTnH,EACSmH,SAAUjH,EADnBF,EACmBE,eACnBV,EAAWhH,KAAK7M,MAAhB6T,OACR,OACC7F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPN,QAAQ,WACRG,MAAM,mBACNtB,KAAK,SACLlC,MAAO0I,EACPjF,SAAU/B,KAAKI,aACfuH,UAAWD,KAGbvG,EAAAC,EAAAC,cAAA,WAAMgI,GAAWsF,GAAY3O,KAAK8G,8BAxElBzE,aAmFNC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BuE,ICpFxC+H,8MACL/E,yBAA2B,WAAM,IAAA9G,EAC+BjD,EAAKiB,MAA5DmI,EADwBnG,EACxBmG,QAASxL,EADeqF,EACfrF,SAAUmR,EADK9L,EACL8L,gBAAiB/G,EADZ/E,EACY+E,QAASpL,EADrBqG,EACqBrG,MAC/CsK,EAASkC,EAAQjC,cACjB6H,EAAWpS,EAAM9J,MACrBsU,OAAO,SAAC/J,GAAD,OAASA,EAAIO,SAASV,MAAQU,IACrCwJ,OAAO,SAAC/J,GAAD,OAAwD,IAA/CA,EAAI+L,QAAQjC,cAAcE,QAAQH,KAC9ClU,EAAa4J,EAAM5J,WAAWoU,OAAO,SAAChL,GAAD,OAAOA,EAAEwB,SAASV,MAAQU,IACjEqR,EAAQ,GACNC,EAAW,CAAEC,KAAM,EAAGC,IAAK,EAAGC,MAAO,IAoB3C,OAnBArc,EAAWiL,QAAQ,SAAC7B,GACnBA,EAAE+B,QAAQF,QAAQ,SAACjB,IAC+B,IAA7CA,EAAEoM,QAAQjC,cAAcE,QAAQH,KACnCgI,EAASE,MAAQpS,EAAEoS,SAIjBpH,EAUJiH,EAAQD,EATRA,EAAS/Q,QAAQ,SAACqR,IACgC,IAA7CA,EAAElG,QAAQjC,cAAcE,QAAQH,KACnCgI,EAASC,KAAOG,EAAE5c,SAASua,OAAO,SAACsC,EAAKC,GAAN,OAAcD,EAAMC,EAAIhR,OAAO,GAC7D0Q,EAASC,KAAOD,EAASE,KAC5BH,EAAMrQ,KAAK0Q,MAQdjO,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,gBAC9ByN,EAAM1b,OACN0b,EAAM/K,IAAI,SAAC7G,EAAK8G,GACf,OACC9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAa4C,IAAKD,GAC/B9C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,oBAAoBc,QAAS,kBAAMyM,EAAgB1R,KACnEA,EAAI+L,UAGP/H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,SAAuCnE,EAAIgM,KAAKC,MAAM,EAAG,KACzDjI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,WACUnE,EAAI3K,SAASua,OAAO,SAACsC,EAAKC,GAAN,OAAcD,IAAOC,EAAIhR,OAAO,GAAGuO,iBADjE,SAOH1L,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,mFAKK,IAAAkG,EACuExH,KAAKe,MAA5EmI,EADA1B,EACA0B,QAASjF,EADTuD,EACSvD,IAAKsL,EADd/H,EACc+H,OAAQvF,EADtBxC,EACsBwC,gBAAiBwF,EADvChI,EACuCgI,gBAAiBvB,EADxDzG,EACwDyG,WAChE,OACC9M,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,UACLlC,MAAO4K,EACPnH,SAAU,SAAC1B,GAAD,OAAQ2J,EAAgB3J,EAAI4D,IACtC0D,UAAW,SAACtH,GAAD,OAAQmP,EAAgBnP,EAAI4D,OAEtCgK,GAAcsB,EAAOE,YAAczP,KAAK6J,mCAjElBxH,aA2EbC,eAJS,SAAC5F,GACxB,MAAO,CAAEA,UAG8B,KAAzB4F,CAA+BsM,ICvDxCzE,GAAkB/F,qBAAW,SAACC,GAAD,MAAY,CAC9C+F,KAAM,CACLC,gBAAiBhG,EAAMiG,QAAQC,OAAOC,MACtC9I,MAAO2C,EAAMiG,QAAQC,OAAOE,MAC5BC,UAAW,SACXC,QAAS,GAEVtQ,KAAM,CACLuQ,SAAU,GACVD,QAAS,GAEVE,OAAQ,CACPD,SAAU,GACVD,QAAS,KAbavG,CAepB0G,KA4BE6F,eACL,SAAAA,IAAc,IAAA7Q,EAAA,OAAArM,OAAAsM,EAAA,EAAAtM,CAAAuM,KAAA2Q,IACb7Q,EAAArM,OAAAwM,EAAA,EAAAxM,CAAAuM,KAAAvM,OAAAyM,EAAA,EAAAzM,CAAAkd,GAAAxQ,KAAAH,QAuBDoL,kBAAoB,WACnBtL,EAAKuL,WACL7E,GAAQ4B,KAAK,aAAc,WAC1BtI,EAAKiB,MAAMxH,gBAEZiN,GAAQ4B,KAAK,QAAS,WACrBtI,EAAKiB,MAAMhJ,YAEZyO,GAAQ4B,KAAK,UAAW,WACvBtI,EAAKiB,MAAMxK,eAjCCuJ,EAoDduL,SAAW,WACV,IAAMnP,EAAI,IAAI8O,KACV7B,EAAO,QACXA,GAAQjN,EAAE+O,WAAa,EAAI,KAAO/O,EAAE+O,WAAa,GAAK,IAAM/O,EAAE+O,WAAa,IAC3E9B,GAAQjN,EAAEgP,UAAY,GAAK,KAAOhP,EAAEgP,UAAY,GAAKhP,EAAEgP,UAJvC,IAKRpY,EAAegN,EAAKiB,MAAMrE,MAA1B5J,WACR,GAAIA,EAAY,CACf,GAAIA,EAAWO,OAAQ,CACtB,IAAMiY,EAAM,GACZ,IAAK,IAAIpH,KAAOpR,EACfwY,EAAI5M,KAAK5L,EAAWoR,GAAKwK,OAE1B,IAAMA,EAAQnD,KAAKC,IAALC,MAAAF,KAAYD,GAAO,EACjC,OAAOxL,EAAKW,SAAS,CAAEiO,QAAOvF,SAE/B,OAAOrJ,EAAKW,SAAS,CAAEiO,MAAO,EAAGvF,SAElC,OAAOrJ,EAAKW,SAAS,CAAEiO,MAAO,EAAGvF,UArEpBrJ,EAuEdM,aAAe,SAACC,GAAO,IAAAC,EACED,EAAGE,OAAnBC,EADcF,EACdE,KAAMlC,EADQgC,EACRhC,MACdwB,EAAKW,SAALhN,OAAAiN,EAAA,EAAAjN,CAAA,GACE+M,EAAOlC,KA1EIwB,EA6EdkK,gBAAkB,SAAC3J,EAAI4D,GAAQ,IAAAyH,EACNrL,EAAGE,OAAnBC,EADsBkL,EACtBlL,KAAMlC,EADgBoN,EAChBpN,MACRL,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAChCA,EAAQgG,GAAKzD,GAAQlC,EACrBwB,EAAKW,SAAS,CAAExC,aAjFH6B,EAmFdkI,cAAgB,WAAM,IAAApH,EACoCd,EAAK3M,MAAtD6J,EADa4D,EACb5D,IAAKmM,EADQvI,EACRuI,KAAMuF,EADE9N,EACF8N,MAAOhR,EADLkD,EACKlD,SAAUO,EADf2C,EACe3C,QADf2C,EACwBkH,QAI5ChI,EAAKiB,MAAMrH,eAAe,CAAEsD,MAAKmM,OAAMuF,QAAOhR,WAAUO,YAFxD6B,EAAKiB,MAAM3H,aAAa,CAAE+P,OAAMuF,QAAOhR,WAAUO,YAIlD6B,EAAKuL,YA1FQvL,EA4FdmI,gBAAkB,WACjBnI,EAAKW,SAAS,SAACtN,GAAD,MAAY,CACzBkW,SAAUlW,EAAMkW,YA9FJvJ,EAiGdoI,eAAiB,WAChBpI,EAAKW,SAAS,CACbqH,SAAS,EACT9K,IAAK,GACLmM,KAAM,GACNuF,MAAO,GACPhR,SAAU,GACVmL,WAAY,GACZoF,YAAY,EACZhQ,QAAS,CACR,CACCiL,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,IAGdzI,OAAQ,GACRqC,SAAS,EACTsF,UAAU,IAEX7O,EAAKuL,YAvHQvL,EAyHdiM,SAAW,WACV,IAAM9N,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAC1Bc,EAAW,GAIjB,OAHAd,EAAQF,QAAQ,SAAC7B,GAChB6C,EAASL,KAAKjL,OAAOuI,OAAOE,GAAGD,MAAM,SAACa,GAAD,OAAa,IAANA,GAAeX,QAAQW,QAEhEiC,EAAS9C,MAAM,SAACkB,GAAD,OAAShB,QAAQgB,MACnCc,EAAQS,KAAK,CACZwK,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,IAEN3P,EAAKW,SAAS,CAAExC,aAEjB6B,EAAKiB,MAAMhN,gBAAe,EAAM,mCAzI1B+L,EA2IdoM,YAAc,SAACjI,GACd,IAAMhG,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAChC,GAAIA,EAAQ5K,OAAS,EAAG,CACvB,IAAK,IAAIgZ,EAAI,EAAGA,EAAIpO,EAAQ5K,OAAQgZ,IACnCpO,EAAQoO,GAAGoD,YAAa,EAEzBxR,EAAQmO,OAAOnI,EAAK,GACpBnE,EAAKW,SAAS,CAAExC,iBAEhB6B,EAAKW,SAAS,CACbxC,QAAS,CACR,CACCiL,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,OA3JH3P,EAiKd4H,eAAiB,SAACrH,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEkO,UAAU,IACrC,KAAftO,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEkO,UAAU,SAAxD,GAnKa7O,EAqKdkO,eAAiB,SAAC3N,GACjB,OAAmB,KAAfA,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEwN,YAAY,IACvC,KAAf5N,EAAG8H,QAAuBrI,EAAKW,SAAS,CAAEwN,YAAY,SAA1D,GAvKanO,EAyKdiO,gBAAkB,SAACrQ,EAAUmL,GAC5B/I,EAAKW,SAAS,CACb/C,WACAmL,aACAoF,YAAY,EACZhQ,QAAS,CACR,CACCiL,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,OApLF3P,EAyLd0P,gBAAkB,SAACnP,EAAI4D,GACtB,IAAMhG,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SACb,KAAfoC,EAAG8H,UAAgBlK,EAAQgG,GAAKwL,YAAa,GAC9B,KAAfpP,EAAG8H,UAAgBlK,EAAQgG,GAAKwL,YAAa,GACjD3P,EAAKW,SAAS,CAAEwD,MAAKhG,aA7LR6B,EA+Ld+O,gBAAkB,SAACvQ,GAClB,IAAML,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAC1BgG,EAAMnE,EAAK3M,MAAM8Q,IACjB2L,EAAQ,CAAEC,OAAQ,GAOxB,GANA5R,EAAQgG,GAAKiF,QAAU5K,EAAM4K,QAC7BjL,EAAQF,QAAQ,SAACZ,GACZA,EAAI+L,UAAY5K,EAAM4K,SACzB0G,EAAMC,WAGJD,EAAMC,OAAS,EAAG,OAAO/P,EAAKiB,MAAMhN,gBAAe,EAAM,4BAC7DkK,EAAQgG,GAAKpF,OAASP,EAAMtB,IAC5BiB,EAAQgG,GAAKwL,YAAa,EAC1B3P,EAAKW,SAAS,CAAExC,aA5MH6B,EA8MdgQ,WAAa,SAACxR,GAAU,IACfxL,EAAegN,EAAKiB,MAAMrE,MAA1B5J,WACFid,EAAU,CAAEC,aAAc,EAAGhB,SAAU,IAU7C,OATAe,EAAQC,aAAe1R,EAAM9L,SAASua,OAAO,SAACsC,EAAKC,GAAN,OAAcD,IAAOC,EAAIhR,OAAO,GAC7ExL,EAAWiL,QAAQ,SAAC7B,GACnBA,EAAE+B,QAAQF,QAAQ,SAACjB,GACdA,EAAEoM,UAAY5K,EAAM4K,SACvB6G,EAAQf,SAAStQ,KAAK5B,OAIzBiT,EAAQf,SAAWe,EAAQf,SAASjC,OAAO,SAACsC,EAAKC,GAAN,OAAcD,IAAOC,EAAIJ,KAAK,GAClEa,GA1NMjQ,EA4Nd4Q,kBAAoB,SAACpU,GACpB,GAAIA,EAAI,CACP,IAAM2C,EAAWa,EAAKiB,MAAMrE,MAAM5J,WAAW+J,KAAK,SAACM,GAAD,OAASA,EAAIH,MAAQV,IAC/DU,EAAwCiC,EAAxCjC,IAAKmM,EAAmClK,EAAnCkK,KAAMuF,EAA6BzP,EAA7ByP,MAAOhR,EAAsBuB,EAAtBvB,SAAUO,EAAYgB,EAAZhB,QACpC6B,EAAKW,SAAS,CACbzD,MACAmM,KAAMA,EAAKC,MAAM,EAAG,IACpBsF,QACAkC,UAAWlT,EAASV,IACpBU,SAAUA,EAASV,IACnB6L,WAAYnL,EAASmL,WACrB5K,QAASA,EAAQ+F,IAAI,SAAC7G,GAAQ,IACrB0B,EAAsC1B,EAAtC0B,OAAQqK,EAA8B/L,EAA9B+L,QAASgG,EAAqB/R,EAArB+R,IAAK3H,EAAgBpK,EAAhBoK,YACxBjJ,EAAQwB,EAAKiB,MAAMrE,MAAM9J,MAAMiK,KAAK,SAACX,GAAD,OAAOA,EAAEgN,UAAYA,IACzD6G,EAAUjQ,EAAKgQ,WAAWxR,GAChC,MAAO,CACNO,SACAqK,UACAyG,SAAUI,EAAQC,cAAgBD,EAAQf,WAAYE,EACtDA,MACA3H,cACAkI,YAAY,KAGd3H,SAAS,EACT6G,UAAU,EACVtF,SAAS,MAtPEvJ,EA0Pd+Q,aAAe,SAAC5M,GACf,IAAMhG,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAChC,GAAK6B,EAAK3M,MAAM2U,QAOT,CACN,IAAMd,EAAS/I,EAAQgG,GAAKiF,QACtB5K,EAAQwB,EAAKiB,MAAMrE,MAAM9J,MAAMiK,KAAK,SAACX,GAAD,OAAOA,EAAEgN,UAAYlC,IACzD+I,EAAUjQ,EAAKgQ,WAAWxR,GAC1B6R,EAAarQ,EAAKiB,MAAMrE,MAAM5J,WAClC+J,KAAK,SAACX,GAAD,OAAOA,EAAEwS,QAAU5O,EAAK3M,MAAMub,QACnCzQ,QAAQpB,KAAK,SAACX,GAAD,OAAOA,EAAEgN,UAAY5K,EAAM4K,UACtCiH,GACCA,EAAWtR,SAAWZ,EAAQgG,GAAKpF,QACtCZ,EAAQgG,GAAKiL,IAAMiB,EAAWjB,IAC9BjR,EAAQgG,GAAK0L,SAAWI,EAAQC,cAAgBD,EAAQf,WAAYmB,EAAWjB,KAKhFjR,EAAQgG,GAAK0L,SAAWI,EAAQC,cAAgBD,EAAQf,cArBzD,GAAI/Q,EAAQgG,GAAKpF,OAAQ,CACxB,IAAMmI,EAAS/I,EAAQgG,GAAKiF,QACtB5K,EAAQwB,EAAKiB,MAAMrE,MAAM9J,MAAMiK,KAAK,SAACX,GAAD,OAAOA,EAAEgN,UAAYlC,IACzD+I,EAAUjQ,EAAKgQ,WAAWxR,GAChCL,EAAQgG,GAAK0L,SAAWI,EAAQC,cAAgBD,EAAQf,SAoB1DlP,EAAKW,SAAS,CAAExC,aArRH6B,EAuRdsQ,aAAe,SAACnM,GACf,IAAMhG,EAAOxK,OAAAkY,GAAA,EAAAlY,CAAQqM,EAAK3M,MAAM8K,SAC5BA,EAAQgG,GAAKiL,IAAMjR,EAAQgG,GAAK0L,QACnC1R,EAAQgG,GAAKoM,YAAb,+BAAApT,OAA0DgB,EAAQgG,GAAK0L,QAAU1R,EAAQgG,GAAKiL,KAE9FjR,EAAQgG,GAAKoM,aAAc,EAE5BvQ,EAAKW,SAAS,CAAExC,aA5RhB6B,EAAK3M,MAAQ,CACZ2U,SAAS,EACT9K,IAAK,GACLmM,KAAM,GACNuF,MAAO,GACPhR,SAAU,GACVmL,WAAY,GACZoF,YAAY,EACZhQ,QAAS,CACR,CACCiL,QAAS,GACTyG,QAAS,IACTT,IAAK,IACL3H,YAAa,GACbkI,YAAY,IAGdzI,OAAQ,GACRqC,SAAS,EACTsF,UAAU,GArBE7O,wEAgSL,IAAAgD,EAAA9C,KAAAkB,EAC8ClB,KAAK7M,MAAnDgW,EADAjI,EACAiI,KAAMuF,EADNxN,EACMwN,MAAO7F,EADb3H,EACa2H,WAAY5K,EADzBiD,EACyBjD,QAAS6J,EADlC5G,EACkC4G,QAClC9E,EAAYhD,KAAKe,MAAjBiC,QACR,OACC7B,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOC,UAAW,GAAIF,UAAU,WAC/BH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCW,SAAS,gBACTT,MAAM,SACNC,MAAM,YACNE,cAAc,EACdD,QAAQ,OAETR,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCM,WAAS,EACTrO,KAAK,OACLyO,OAAO,QACPyD,gBAAiB,CAAEC,QAAQ,GAC3B7D,MAAM,OACNH,QAAQ,WACRnB,KAAK,OACLlC,MAAO6K,EACPpH,SAAU/B,KAAKI,eAEhBe,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC+K,UAAU,EACV9Y,KAAK,OACLyO,OAAO,QACPH,MAAM,QACNH,QAAQ,WACRnB,KAAK,QACLlC,MAAOoQ,EACP3M,SAAU/B,KAAKI,eAEhBe,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACgN,GAAD,CACCxF,WAAYA,EACZzI,aAAcJ,KAAKI,aACnB4N,eAAgBhO,KAAKgO,eACrBC,WAAYjO,KAAK7M,MAAM8a,WACvBF,gBAAiB/N,KAAK+N,kBAEvB5M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOD,UAAW0B,EAAQwJ,OACzBrL,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACyP,GAAD,gBACA3P,EAAAC,EAAAC,cAACyP,GAAD,gBACA3P,EAAAC,EAAAC,cAACyP,GAAD,eACA3P,EAAAC,EAAAC,cAACyP,GAAD,oBACA3P,EAAAC,EAAAC,cAACyP,GAAD,CACCtL,MAAO,CACNmF,QAAS,IAFX,OASFxJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACEtD,EAAQ+F,IAAI,SAACoD,EAAKnD,GAAN,OACZ9C,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUD,UAAW0B,EAAQoE,IAAKlD,IAAKD,GACtC9C,EAAAC,EAAAC,cAACyP,GAAD,KACC3P,EAAAC,EAAAC,cAAC0P,GAAD,CACC7H,QAAS9B,EAAI8B,QACbxL,SAAUoF,EAAK3P,MAAMuK,SACrBuG,IAAKA,EACLsL,OAAQnI,EACR6G,WAAYnL,EAAK3P,MAAM8a,WACvBjE,gBAAiB,SAAC3J,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,IAClDuL,gBAAiB,SAACnP,GAAD,OAAQyC,EAAK0M,gBAAgBnP,EAAI4D,IAClD4K,gBAAiB/L,EAAK+L,gBACtB/G,QAASA,KAGX3G,EAAAC,EAAAC,cAACyP,GAAD,KACC3P,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC+K,UAAU,EACVK,MAAOxQ,QAAQiL,EAAIiJ,aACnB5K,WAAY2B,EAAIiJ,aAAejJ,EAAIiJ,YACnC7c,KAAK,OACLmO,QAAQ,WACRnB,KAAK,UACLlC,MAAO8I,EAAIuI,QACX5N,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAACyP,GAAD,KACC3P,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,MACLlC,MAAO8I,EAAI8H,IACXxC,OAAQ,kBAAM5J,EAAKsN,aAAanM,IAChCsK,QAAS,kBAAMzL,EAAK+N,aAAa5M,IACjClC,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAACyP,GAAD,KACC3P,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACC/N,KAAK,OACLmO,QAAQ,WACRnB,KAAK,cACLlC,MAAO8I,EAAIG,YACXxF,SAAU,SAAC1B,GAAD,OAAQyC,EAAKkH,gBAAgB3J,EAAI4D,OAG7C9C,EAAAC,EAAAC,cAACyP,GAAD,CACCtL,MAAO,CACNmF,QAAS,IAGVxJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACCY,KAAK,QACLT,MAAM,YACN2E,aAAW,SACX/E,UAAW0B,EAAQ8J,IACnB1K,QAAS,kBAAMU,EAAKoJ,YAAYjI,KAEhC9C,EAAAC,EAAAC,cAACgG,GAAAjG,EAAD,YAMLD,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACCJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUD,UAAW0B,EAAQoE,KAC5BjG,EAAAC,EAAAC,cAACyP,GAAD,cACA3P,EAAAC,EAAAC,cAACyP,GAAD,MACA3P,EAAAC,EAAAC,cAACyP,GAAD,KACE7S,EACC8O,OAAO,SAACC,EAAK7P,GAAN,OAAcyP,SAASI,GAAOJ,SAASzP,EAAI+R,MAAM,GACxDrC,kBAEH1L,EAAAC,EAAAC,cAACyP,GAAD,MACA3P,EAAAC,EAAAC,cAACyP,GAAD,WAML3P,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAKY,KAAK,QAAQT,MAAM,UAAU2E,aAAW,MAAMjE,QAASpC,KAAK+L,UAChE5K,EAAAC,EAAAC,cAAC4L,GAAA7L,EAAD,OAEDD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY+G,KAAK,QAAQhC,aAAW,iBAClDlF,EAAAC,EAAAC,cAAA,UACCC,UAAWwG,EAAU,oBAAsB,kBAC3C1F,QAASpC,KAAKgI,eAEbF,EAAU,SAAW,QAEvB3G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBc,QAASpC,KAAKiI,iBAAlD,UAGA9G,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBc,QAASpC,KAAKkI,gBAAjD,WAKDlI,KAAK7M,MAAMkW,SACXlI,EAAAC,EAAAC,cAAC2P,GAAD,CACC3H,QAASrJ,KAAK7M,MAAMkW,QACpBsF,SAAU3O,KAAK7M,MAAMwb,SACrBjH,eAAgB1H,KAAK0H,eACrBgJ,kBAAmB1Q,KAAK0Q,kBACxBzH,SAAUjJ,KAAKe,MAAMlH,0BAzcLwI,aAAjBsO,GAqCExD,yBAA2B,SAACC,EAAWC,GAAc,IACnDva,EAAesa,EAAU1Q,MAAzB5J,WACR,GAAIA,EAAY,CACf,GAAIA,EAAWO,SAAWga,EAAUvF,QAAS,CAC5C,IAAMwD,EAAM,GACZ,IAAK,IAAIpH,KAAOpR,EACfwY,EAAI5M,KAAK5L,EAAWoR,GAAKwK,OAE1B,IAAMA,EAAQnD,KAAKC,IAALC,MAAAF,KAAYD,GAAO,EACjC,OAAIoD,IAAUrB,EAAUqB,MAAc,CAAEA,SACjC,KAER,OAAO,KAER,OAAO,MA+ZT,IAgBepM,eAhBS,SAAC5F,GACxB,MAAO,CAAEA,UAGiB,SAAC6F,GAC3B,MAAO,CACNxO,eAAgB,SAACH,EAAOC,GAAR,OAAoB0O,EAASzO,EAAQC,eAAe,CAAEH,QAAOC,cAC7E0C,UAAW,kBAAMgM,EAASzO,EAAQyC,cAClCwB,QAAS,kBAAMwK,EAASzO,EAAQiE,YAChCqB,aAAc,SAACyM,GAAD,OAAUtD,EAASzO,EAAQsF,aAAayM,KACtDtM,YAAa,kBAAMgJ,EAASzO,EAAQyF,gBACpCG,eAAgB,SAACmM,GAAD,OAAUtD,EAASzO,EAAQ4F,eAAemM,KAC1DhM,eAAgB,SAACyC,GAAD,OAAQiG,EAASzO,EAAQ+F,eAAeyC,OAI3CgG,CAA6C8B,qBA5f7C,SAACC,GAAD,MAAY,CAC1Bf,KAAM,CACLgK,MAAO,OACP3C,QAAS,EACTnG,UAAWH,EAAMI,QAAQC,KACzB6I,UAAW,QAEZf,MAAO,CACN5H,SAAU,eAEXwC,IAAK,CACJoG,qBAAsB,CACrBnD,gBAAiBhG,EAAMiG,QAAQmD,WAAWC,UAG5CZ,IAAK,CACJ7K,OAAQoC,EAAMI,QAAQC,MAEvBlB,YAAa,CACZoB,SAAU,KAEX6L,cAAe,CACd7L,SAAU,OAsegDR,CAAmBuM,KCvhBzEM,GAAS,CACd,CACCC,KAAM,qBACNC,OAAO,EACPC,KAAM,SAACrQ,GAAD,OAAWI,EAAAC,EAAAC,cAACgQ,GAAYtQ,KAE/B,CACCmQ,KAAM,oBACNC,OAAO,EACPC,KAAM,SAACrQ,GAAD,OAAWI,EAAAC,EAAAC,cAACiQ,GAAWvQ,KAE9B,CACCmQ,KAAM,oBACNC,OAAO,EACPC,KAAM,SAACrQ,GAAD,OAAWI,EAAAC,EAAAC,cAACkQ,GAAWxQ,KAE9B,CACCmQ,KAAM,sBACNC,OAAO,EACPC,KAAM,SAACrQ,GAAD,OAAWI,EAAAC,EAAAC,cAACmQ,GAAazQ,KAEhC,CACCmQ,KAAM,kBACNC,OAAO,EACPC,KAAM,SAACrQ,GAAD,OAAWI,EAAAC,EAAAC,cAACoQ,GAAS1Q,KAE5B,CACCmQ,KAAM,qBACNC,OAAO,EACPC,KAAM,SAACrQ,GAAD,OAAWI,EAAAC,EAAAC,cAACqQ,GAAY3Q,KAE/B,CACCmQ,KAAM,sBACNC,OAAO,EACPC,KAAM,SAACrQ,GAAD,OAAWI,EAAAC,EAAAC,cAACsQ,GAAa5Q,MAI3B6Q,+LAEJ,IAAK5R,KAAKe,MAAMrE,MAAMnK,QAAQsO,MAAO,OAAOb,KAAKe,MAAME,QAAQvC,KAAK,KACpEsB,KAAKe,MAAMxK,YACXyJ,KAAKe,MAAMpI,aACXqH,KAAKe,MAAMxH,cACXyG,KAAKe,MAAMhM,aACXiL,KAAKe,MAAM5J,cACX6I,KAAKe,MAAMhJ,UACXiI,KAAKe,MAAMpL,6CAGX,OACCwL,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,cACCF,EAAAC,EAAAC,cAACwQ,GAAD,OAED1Q,EAAAC,EAAAC,cAAA,WAASC,UAAU,aACjB2P,GAAOjN,IAAI,SAAC7G,EAAK8G,GACjB,OAAO9C,EAAAC,EAAAC,cAACyQ,EAAA,EAAD,CAAO5N,IAAKD,EAAKiN,KAAM/T,EAAI+T,KAAMC,MAAOhU,EAAIgU,MAAOY,UAAW5U,EAAIiU,kBAnBvD/O,aA2CTC,eAhBS,SAAC5F,GACxB,MAAO,CAAEA,UAGiB,SAAC6F,GAC3B,MAAO,CACNhM,UAAW,kBAAMgM,EAASzO,EAAQyC,cAClCoC,WAAY,kBAAM4J,EAASzO,EAAQ6E,eACnCY,YAAa,kBAAMgJ,EAASzO,EAAQyF,gBACpCxE,WAAY,kBAAMwN,EAASzO,EAAQiB,eACnCoC,YAAa,kBAAMoL,EAASzO,EAAQqD,gBACpCY,QAAS,kBAAMwK,EAASzO,EAAQiE,YAChCpC,UAAW,kBAAM4M,EAASzO,EAAQ6B,gBAIrB2M,CAA6CsP,yBCzFtDI,8MACF7e,MAAQ,CACJ8e,SAAU,SACVC,WAAY,gFAGP,IAAApP,EAAA9C,KAAAY,EAC4BZ,KAAK7M,MAA9B8e,EADHrR,EACGqR,SAAUC,EADbtR,EACasR,WADblG,EAEiChM,KAAKe,MAAMrE,MAAzC1J,EAFHgZ,EAEGhZ,YAAaC,EAFhB+Y,EAEgB/Y,aACrB,OACIkO,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC8Q,GAAA/Q,EAAD,CACIgR,aAAc,CAAEH,WAAUC,cAC1BG,KAAMrf,EACNsf,iBAAkB,IAClBC,QAAS,kBAAMzP,EAAK/B,MAAMhN,gBAAe,EAAO,KAChDye,aAAc,CACVC,mBAAoB,cAExB5e,QAASsN,EAAAC,EAAAC,cAAA,QAAM/E,GAAG,cAAcrJ,aAnBnBoP,aAoClBC,eAVS,SAAA5F,GACpB,MAAO,CAAEA,UAGc,SAAA6F,GACvB,MAAO,CACHxO,eAAgB,SAACH,EAAOC,GAAR,OAAoB0O,EAASzO,EAAQC,eAAe,CAAEH,QAAOC,gBAItEyO,CAA6C0P,IC1BtDU,8MAEF,IAAK1S,KAAKe,MAAMrE,MAAMnK,QAAQsO,MAAO,OAAOb,KAAKe,MAAMtM,8CAGvD,OAAIuL,KAAKe,MAAMrE,MAAM3J,UACnBoO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACEG,MAAM,eAKVP,EAAAC,EAAAC,cAACsR,EAAA,EAAD,KACExR,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyQ,EAAA,EAAD,CAAOZ,KAAK,IAAIC,OAAK,EAACY,UAAWlS,IACjCsB,EAAAC,EAAAC,cAACyQ,EAAA,EAAD,CAAOZ,KAAK,UAAUC,OAAK,EAACY,UAAWlN,KACvC1D,EAAAC,EAAAC,cAACyQ,EAAA,EAAD,CAAOZ,KAAK,aAAaa,UAAWH,KACpCzQ,EAAAC,EAAAC,cAACuR,GAAD,eAlBQvQ,cAmCHC,eAVS,SAAA5F,GACtB,MAAO,CAAEA,UAGgB,SAAA6F,GACzB,MAAO,CACL9N,WAAY,kBAAM8N,EAASzO,EAAQW,iBAIxB6N,CAA6CoQ,WCvCxCvW,QACW,cAA7BiD,OAAOyT,SAASC,UAEe,UAA7B1T,OAAOyT,SAASC,UAEhB1T,OAAOyT,SAASC,SAAS1E,MACvB,2DCTN1L,IAASqQ,OACL5R,EAAAC,EAAAC,cAAC2R,EAAA,EAAD,CAAUtW,MAAOA,GACbyE,EAAAC,EAAAC,cAAC4R,GAAD,OAEJC,SAASC,eAAe,SDoHtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.3ea71b7f.chunk.js","sourcesContent":["const types = {\r\n    ONSNACK: 'ONSNACK',\r\n    \r\n    ONLOADER: 'ONLOADER',\r\n\r\n    SIGNUP: 'SIGNUP',\r\n    SIGNUPACCESS: 'SIGNUPACCESS',\r\n\r\n    SIGNIN: 'SIGNIN',\r\n    SIGNINSUCCESS: 'SIGNINSUCCESS',\r\n    SIGNINFAILURE: 'SIGNINFAILURE',\r\n\r\n    SIGNOUT: 'SIGNOUT',\r\n    SIGNOUTSUCCESS: 'SIGNOUTSUCCESS',\r\n    SIGNOUTFAILURE: 'SIGNOUTFAILURE',\r\n\r\n    ISLOGGEDIN: 'ISLOGGEDIN',\r\n    ISLOGGEDINSUCCESS: 'ISLOGGEDINSUCCESS',\r\n    ISLOGGEDINFAILURE: 'ISLOGGEDINFAILURE',\r\n\r\n    PRODUCTSAVE: 'PRODUCTSAVE',\r\n    PRODUCTSAVESUCCESS: 'PRODUCTSAVESUCCESS',\r\n    PRODUCTSAVEFAILURE: 'PRODUCTSAVEFAILURE',\r\n    \r\n    GETPRODUCT: 'GETPRODUCT',\r\n    GETPRODUCTSUCCESS: 'GETPRODUCTSUCCESS',\r\n    GETPRODUCTFAILURE: 'GETPRODUCTFAILURE',\r\n\r\n    UPDATEPRODUCT: 'UPDATEPRODUCT',\r\n    UPDATEPRODUCTSUCCESS: 'UPDATEPRODUCTSUCCESS',\r\n    UPDATEPRODUCTFAILURE: 'UPDATEPRODUCTFAILURE',\r\n    \r\n    DELETEPRODUCT: 'DELETEPRODUCT',\r\n    DELETEPRODUCTSUCCESS: 'DELETEPRODUCTSUCCESS',\r\n    DELETEPRODUCTFAILURE: 'DELETEPRODUCTFAILURE',\r\n\r\n    VENDORSAVE: 'VENDORSAVE',\r\n    VENDORSAVESUCCESS: 'VENDORSAVESUCCESS',\r\n    VENDORSAVEFAILURE: 'VENDORSAVEFAILURE',\r\n    \r\n    GETVENDOR: 'GETVENDOR',\r\n    GETVENDORSUCCESS: 'GETVENDORSUCCESS',\r\n    GETVENDORFAILURE: 'GETVENDORFAILURE',\r\n\r\n    UPDATEVENDOR: 'UPDATEVENDOR',\r\n    UPDATEVENDORSUCCESS: 'UPDATEVENDORSUCCESS',\r\n    UPDATEVENDORFAILURE: 'UPDATEVENDORFAILURE',\r\n    \r\n    DELETEVENDOR: 'DELETEVENDOR',\r\n    DELETEVENDORSUCCESS: 'DELETEVENDORSUCCESS',\r\n    DELETEVENDORFAILURE: 'DELETEVENDORFAILURE',\r\n\r\n    CLIENTSAVE: 'CLIENTSAVE',\r\n    CLIENTSAVESUCCESS: 'CLIENTSAVESUCCESS',\r\n    CLIENTSAVEFAILURE: 'CLIENTSAVEFAILURE',\r\n    \r\n    GETCLIENT: 'GETCLIENT',\r\n    GETCLIENTSUCCESS: 'GETCLIENTSUCCESS',\r\n    GETCLIENTFAILURE: 'GETCLIENTFAILURE',\r\n\r\n    UPDATECLIENT: 'UPDATECLIENT',\r\n    UPDATECLIENTSUCCESS: 'UPDATECLIENTSUCCESS',\r\n    UPDATECLIENTFAILURE: 'UPDATECLIENTFAILURE',\r\n    \r\n    DELETECLIENT: 'DELETECLIENT',\r\n    DELETECLIENTSUCCESS: 'DELETECLIENTSUCCESS',\r\n    DELETECLIENTFAILURE: 'DELETECLIENTFAILURE',\r\n    \r\n    PURCHASESAVE: 'PURCHASESAVE',\r\n    PURCHASESAVESUCCESS: 'PURCHASESAVESUCCESS',\r\n    PURCHASESAVEFAILURE: 'PURCHASESAVEFAILURE',\r\n    \r\n    GETPURCHASE: 'GETPURCHASE',\r\n    GETPURCHASESUCCESS: 'GETPURCHASESUCCESS',\r\n    GETPURCHASEFAILURE: 'GETPURCHASEFAILURE',\r\n    \r\n    UPDATEPURCHASE: 'UPDATEPURCHASE',\r\n    UPDATEPURCHASESUCCESS: 'UPDATEPURCHASESUCCESS',\r\n    UPDATEPURCHASEFAILURE: 'UPDATEPURCHASEFAILURE',\r\n    \r\n    DELETEPURCHASE: 'DELETEPURCHASE',\r\n    DELETEPURCHASESUCCESS: 'DELETEPURCHASESUCCESS',\r\n    DELETEPURCHASEFAILURE: 'DELETEPURCHASEFAILURE',\r\n    \r\n    SALESAVE: 'SALESAVE',\r\n    SALESAVESUCCESS: 'SALESAVESUCCESS',\r\n    SALESAVEFAILURE: 'SALESAVEFAILURE',\r\n    \r\n    GETSALE: 'GETSALE',\r\n    GETSALESUCCESS: 'GETSALESUCCESS',\r\n    GETSALEFAILURE: 'GETSALEFAILURE',\r\n    \r\n    UPDATESALE: 'UPDATESALE',\r\n    UPDATESALESUCCESS: 'UPDATESALESUCCESS',\r\n    UPDATESALEFAILURE: 'UPDATESALEFAILURE',\r\n    \r\n    DELETESALE: 'DELETESALE',\r\n    DELETESALESUCCESS: 'DELETESALESUCCESS',\r\n    DELETESALEFAILURE: 'DELETESALEFAILURE',\r\n    \r\n    PAYMENTSAVE: 'PAYMENTSAVE',\r\n    PAYMENTSAVESUCCESS: 'PAYMENTSAVESUCCESS',\r\n    PAYMENTSAVEFAILURE: 'PAYMENTSAVEFAILURE',\r\n    \r\n    GETPAYMENT: 'GETPAYMENT',\r\n    GETPAYMENTSUCCESS: 'GETPAYMENTSUCCESS',\r\n    GETPAYMENTFAILURE: 'GETPAYMENTFAILURE',\r\n    \r\n    UPDATEPAYMENT: 'UPDATEPAYMENT',\r\n    UPDATEPAYMENTSUCCESS: 'UPDATEPAYMENTSUCCESS',\r\n    UPDATEPAYMENTFAILURE: 'UPDATEPAYMENTFAILURE',\r\n    \r\n    DELETEPAYMENT: 'DELETEPAYMENT',\r\n    DELETEPAYMENTSUCCESS: 'DELETEPAYMENTSUCCESS',\r\n    DELETEPAYMENTFAILURE: 'DELETEPAYMENTFAILURE',\r\n    \r\n    RECOVERYSAVE: 'RECOVERYSAVE',\r\n    RECOVERYSAVESUCCESS: 'RECOVERYSAVESUCCESS',\r\n    RECOVERYSAVEFAILURE: 'RECOVERYSAVEFAILURE',\r\n    \r\n    GETRECOVERY: 'GETRECOVERY',\r\n    GETRECOVERYSUCCESS: 'GETRECOVERYSUCCESS',\r\n    GETRECOVERYFAILURE: 'GETRECOVERYFAILURE',\r\n    \r\n    UPDATERECOVERY: 'UPDATERECOVERY',\r\n    UPDATERECOVERYSUCCESS: 'UPDATERECOVERYSUCCESS',\r\n    UPDATERECOVERYFAILURE: 'UPDATERECOVERYFAILURE',\r\n    \r\n    DELETERECOVERY: 'DELETERECOVERY',\r\n    DELETERECOVERYSUCCESS: 'DELETERECOVERYSUCCESS',\r\n    DELETERECOVERYFAILURE: 'DELETERECOVERYFAILURE',\r\n};\r\n\r\nexport default types;","import types from '../constants';\r\n\r\nconst initialState = {\r\n\tprofile: {},\r\n\tproducts: [],\r\n\tvendors: [],\r\n\tclients: [],\r\n\tpurchases: [],\r\n\tsales: [],\r\n\tpayments: [],\r\n\trecoveries: [],\r\n\r\n\tisLoading: false,\r\n\r\n\tisSnackOpen: false,\r\n\tsnackMessage: '',\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.ONSNACK: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: action.payload.snack,\r\n\t\t\t\tsnackMessage: action.payload.message\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ONLOADER: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.SIGNOUT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.SIGNOUTSUCCESS:\r\n\t\tcase types.SIGNOUTFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: {},\r\n\t\t\t\tproducts: [],\r\n\t\t\t\tvendors: [],\r\n\t\t\t\tclients: [],\r\n\t\t\t\tpurchases: [],\r\n\t\t\t\tsales: [],\r\n\t\t\t\tpayments: [],\r\n\t\t\t\trecoveries: [],\r\n\t\t\t\tisLoading: false\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ISLOGGEDIN: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ISLOGGEDINSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tprofile: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.ISLOGGEDINFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEVENDORSUCCESS:\r\n\t\tcase types.DELETEVENDORSUCCESS:\r\n\t\tcase types.VENDORSAVESUCCESS:\r\n\t\tcase types.UPDATEPRODUCTSUCCESS:\r\n\t\tcase types.DELETEPRODUCTSUCCESS:\r\n\t\tcase types.PRODUCTSAVESUCCESS:\r\n\t\tcase types.CLIENTSAVESUCCESS:\r\n\t\tcase types.UPDATECLIENTSUCCESS:\r\n\t\tcase types.DELETECLIENTSUCCESS:\r\n\t\tcase types.PURCHASESAVESUCCESS:\r\n\t\tcase types.UPDATEPURCHASESUCCESS:\r\n\t\tcase types.DELETEPURCHASESUCCESS:\r\n\t\tcase types.SALESAVESUCCESS:\r\n\t\tcase types.UPDATESALESUCCESS:\r\n\t\tcase types.DELETESALESUCCESS:\r\n\t\tcase types.PAYMENTSAVESUCCESS:\r\n\t\tcase types.UPDATEPAYMENTSUCCESS:\r\n\t\tcase types.DELETEPAYMENTSUCCESS:\r\n\t\tcase types.RECOVERYSAVESUCCESS:\r\n\t\tcase types.UPDATERECOVERYSUCCESS:\r\n\t\tcase types.DELETERECOVERYSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.UPDATEVENDORFAILURE:\r\n\t\tcase types.DELETEVENDORFAILURE:\r\n\t\tcase types.VENDORSAVEFAILURE:\r\n\t\tcase types.UPDATEPRODUCTFAILURE:\r\n\t\tcase types.DELETEPRODUCTFAILURE:\r\n\t\tcase types.PRODUCTSAVEFAILURE:\r\n\t\tcase types.CLIENTSAVEFAILURE:\r\n\t\tcase types.UPDATECLIENTFAILURE:\r\n\t\tcase types.DELETECLIENTFAILURE:\r\n\t\tcase types.PURCHASESAVEFAILURE:\r\n\t\tcase types.UPDATEPURCHASEFAILURE:\r\n\t\tcase types.DELETEPURCHASEFAILURE:\r\n\t\tcase types.SALESAVEFAILURE:\r\n\t\tcase types.UPDATESALEFAILURE:\r\n\t\tcase types.DELETESALEFAILURE:\r\n\t\tcase types.PAYMENTSAVEFAILURE:\r\n\t\tcase types.UPDATEPAYMENTFAILURE:\r\n\t\tcase types.DELETEPAYMENTFAILURE:\r\n\t\tcase types.RECOVERYSAVEFAILURE:\r\n\t\tcase types.UPDATERECOVERYFAILURE:\r\n\t\tcase types.DELETERECOVERYFAILURE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSnackOpen: true,\r\n\t\t\t\tsnackMessage: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPRODUCTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproducts: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\t// case types.GETPRODUCTFAILURE:\r\n\t\t// case types.GETVENDORFAILURE:\r\n\t\t// case types.GETCLIENTFAILURE:\r\n\t\t// case types.GETPURCHASEFAILURE:\r\n\t\t// case types.GETSALEFAILURE:\r\n\t\t// case types.GETPAYMENTFAILURE:\r\n\t\t// case types.GETRECOVERYFAILURE: {\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tisSnackOpen: true,\r\n\t\t// \t\tsnackMessage: action.payload\r\n\t\t// \t};\r\n\t\t// }\r\n\t\tcase types.GETVENDORSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tvendors: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETCLIENTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tclients: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPURCHASESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpurchases: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETSALESUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsales: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETPAYMENTSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpayments: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase types.GETRECOVERYSUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trecoveries: action.payload\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","import types from '../constants';\r\n\r\nconst actions = {\r\n\tonSnackHandler: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ONSNACK,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tonLoader: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ONLOADER,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignUp: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNUP,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignUpAccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNUPACCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignIn: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNIN,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignInSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNINSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignInFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNINFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsignOut: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNOUT\r\n\t\t};\r\n\t},\r\n\tsignOutSuccess: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNOUTSUCCESS\r\n\t\t};\r\n\t},\r\n\tsignOutFailure: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.SIGNOUTSUCCESS\r\n\t\t};\r\n\t},\r\n\tisLoggedIn: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.ISLOGGEDIN\r\n\t\t};\r\n\t},\r\n\tisLoggedInSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ISLOGGEDINSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tisLoggedInFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.ISLOGGEDINFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tproductSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PRODUCTSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tproductSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PRODUCTSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tproductSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PRODUCTSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetProduct: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPRODUCT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetProductSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPRODUCTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetProductFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPRODUCTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateProduct: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPRODUCT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateProductSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPRODUCTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateProductFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPRODUCTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteProduct: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPRODUCT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteProductSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPRODUCTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteProductFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPRODUCTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tvendorSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.VENDORSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tvendorSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.VENDORSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tvendorSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.VENDORSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetVendor: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETVENDOR,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetVendorSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETVENDORSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetVendorFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETVENDORFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateVendor: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEVENDOR,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateVendorSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEVENDORSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateVendorFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEVENDORFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteVendor: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEVENDOR,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteVendorSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEVENDORSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteVendorFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEVENDORFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tclientSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.CLIENTSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tclientSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.CLIENTSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tclientSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.CLIENTSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetClient: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETCLIENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetClientSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETCLIENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetClientFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETCLIENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateClient: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATECLIENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateClientSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATECLIENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateClientFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATECLIENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteClient: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETECLIENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteClientSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETECLIENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteClientFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETECLIENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpurchaseSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PURCHASESAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpurchaseSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PURCHASESAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpurchaseSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PURCHASESAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPurchase: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPURCHASE\r\n\t\t};\r\n\t},\r\n\tgetPurchaseSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPURCHASESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPurchaseFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPURCHASEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePurchase: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPURCHASE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePurchaseSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPURCHASESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePurchaseFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPURCHASEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePurchase: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPURCHASE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePurchaseSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPURCHASESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePurchaseFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPURCHASEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsaleSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SALESAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsaleSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SALESAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tsaleSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.SALESAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetSale: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETSALE\r\n\t\t};\r\n\t},\r\n\tgetSaleSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETSALESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetSaleFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETSALEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateSale: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATESALE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateSaleSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATESALESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateSaleFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATESALEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteSale: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETESALE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteSaleSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETESALESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteSaleFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETESALEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpaymentSave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PAYMENTSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpaymentSaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PAYMENTSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tpaymentSaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.PAYMENTSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPayment: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPAYMENT\r\n\t\t};\r\n\t},\r\n\tgetPaymentSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPAYMENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetPaymentFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETPAYMENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePayment: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPAYMENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePaymentSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPAYMENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdatePaymentFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATEPAYMENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePayment: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPAYMENT,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePaymentSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPAYMENTSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeletePaymentFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETEPAYMENTFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\trecoverySave: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.RECOVERYSAVE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\trecoverySaveSuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.RECOVERYSAVESUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\trecoverySaveFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.RECOVERYSAVEFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetRecovery: () => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETRECOVERY\r\n\t\t};\r\n\t},\r\n\tgetRecoverySuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETRECOVERYSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tgetRecoveryFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.GETRECOVERYFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateRecovery: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATERECOVERY,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateRecoverySuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATERECOVERYSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tupdateRecoveryFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.UPDATERECOVERYFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteRecovery: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETERECOVERY,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteRecoverySuccess: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETERECOVERYSUCCESS,\r\n\t\t\tpayload\r\n\t\t};\r\n\t},\r\n\tdeleteRecoveryFailure: (payload) => {\r\n\t\treturn {\r\n\t\t\ttype: types.DELETERECOVERYFAILURE,\r\n\t\t\tpayload\r\n\t\t};\r\n\t}\r\n};\r\n\r\nexport default actions;\r\n","import { Observable } from 'rxjs/Rx';\r\n\r\n// const api = 'http://localhost:8080/api'\r\nconst api = 'https://inventory-app-mern.herokuapp.com/api'\r\n\r\nconst HttpService = {\r\n\t//Post request HTTP service\r\n\tpost: (apiCall, method, body) => {\r\n\t\tconst url = api + apiCall;\r\n\t\treturn Observable.ajax({\r\n\t\t\turl,\r\n\t\t\tmethod,\r\n\t\t\tbody,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tasync: true,\r\n\t\t\tcrossDomain: true,\r\n\t\t\twithCredentials: true,\r\n\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\tresponseType: 'json'\r\n\t\t});\r\n\t},\r\n\t//Get request HTTP service\r\n\tget: (apiCall, method) => {\r\n\t\tconst url = api + apiCall;\r\n\t\treturn Observable.ajax({\r\n\t\t\turl,\r\n\t\t\tmethod,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tasync: true,\r\n\t\t\tcrossDomain: true,\r\n\t\t\twithCredentials: true,\r\n\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\tresponseType: 'json'\r\n\t\t});\r\n\t},\r\n\t//Put request HTTP service\r\n\tput: (apiCall, method, body) => {\r\n\t\tconst url = api + apiCall;\r\n\t\treturn Observable.ajax({\r\n\t\t\turl,\r\n\t\t\tmethod,\r\n\t\t\tbody,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tasync: true,\r\n\t\t\tcrossDomain: true,\r\n\t\t\twithCredentials: true,\r\n\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\tresponseType: 'json'\r\n\t\t});\r\n\t},\r\n\t//Delete request HTTP service\r\n\tdelete: (apiCall, method) => {\r\n\t\tconst url = api + apiCall;\r\n\t\treturn Observable.ajax({\r\n\t\t\turl,\r\n\t\t\tmethod,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tasync: true,\r\n\t\t\tcrossDomain: true,\r\n\t\t\twithCredentials: true,\r\n\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\tresponseType: 'json'\r\n\t\t});\r\n\t},\r\n\t//Signup request HTTP service\r\n\tsignUp: (apiCall, method, body) => {\r\n\t\tconst url = api + apiCall;\r\n\t\treturn Observable.ajax({\r\n\t\t\turl,\r\n\t\t\tmethod,\r\n\t\t\tbody,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tasync: true,\r\n\t\t\tcrossDomain: true,\r\n\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\tresponseType: 'json'\r\n\t\t});\r\n\t},\r\n\t//Signup request HTTP service\r\n\tsignOut: (apiCall, method) => {\r\n\t\tconst url = api + apiCall;\r\n\t\treturn Observable.ajax({\r\n\t\t\turl,\r\n\t\t\tmethod,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tasync: true,\r\n\t\t\tcrossDomain: true,\r\n\t\t\twithCredentials: true,\r\n\t\t\tcreateXHR: () => new XMLHttpRequest(),\r\n\t\t\tresponseType: 'json'\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport default HttpService;\r\n","import 'rxjs/Rx';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { ofType } from 'redux-observable';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport HttpService from '../../service';\r\n\r\nconst login = {\r\n\tsignUp: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.SIGNUP),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\treturn HttpService.signUp(`/user/signup`, `POST`, payload).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\ttypeof res.response === 'string' &&\r\n\t\t\t\t\t\t\tObservable.of(\r\n\t\t\t\t\t\t\t\tactions.onLoader(true),\r\n\t\t\t\t\t\t\t\tactions.onLoader(false),\r\n\t\t\t\t\t\t\t\tactions.signUpAccess(),\r\n\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: res.response })\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(\r\n\t\t\t\t\t\t\t\t\t\tactions.signUpAccess(),\r\n\t\t\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t: Observable.of(\r\n\t\t\t\t\t\t\t\t\t\tactions.signUpAccess(),\r\n\t\t\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: 'Network Error' })\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t),\r\n\tsignIn: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.SIGNIN),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isMatch = Object.values(payload).every((x) => Boolean(x));\r\n\t\t\t\tif (isMatch) {\r\n\t\t\t\t\treturn HttpService.post(`/user/signin`, `POST`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\ttypeof res.response === 'string' &&\r\n\t\t\t\t\t\t\t\tObservable.of(\r\n\t\t\t\t\t\t\t\t\tactions.signInSuccess(),\r\n\t\t\t\t\t\t\t\t\tactions.isLoggedIn(),\r\n\t\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: res.response })\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(\r\n\t\t\t\t\t\t\t\t\t\t\tactions.signInFailure(),\r\n\t\t\t\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t: Observable.of(\r\n\t\t\t\t\t\t\t\t\t\t\tactions.signInFailure(),\r\n\t\t\t\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: 'Network Error' })\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(\r\n\t\t\t\t\t\tactions.signInFailure(),\r\n\t\t\t\t\t\tactions.onSnackHandler({\r\n\t\t\t\t\t\t\tsnack: true,\r\n\t\t\t\t\t\t\tmessage: 'Please Enter Email & Password, in order to login'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tsignOut: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.SIGNOUT),\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\treturn HttpService.signOut(`/user/logout`, `POST`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\ttypeof res.response === 'string' &&\r\n\t\t\t\t\t\t\tObservable.of(\r\n\t\t\t\t\t\t\t\tactions.signOutSuccess(),\r\n\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: res.response })\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(\r\n\t\t\t\t\t\t\t\t\t\tactions.signOutFailure(),\r\n\t\t\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t: Observable.of(\r\n\t\t\t\t\t\t\t\t\t\tactions.signOutFailure(),\r\n\t\t\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: 'Network Error' })\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t),\r\n\tisLoggedIn: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.ISLOGGEDIN),\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\treturn HttpService.get(`/user`, `GET`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\tres.response.doc\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.isLoggedInSuccess(res.response.doc))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.isLoggedInFailure('Token Expired'))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(\r\n\t\t\t\t\t\t\t\t\t\tactions.isLoggedInFailure(),\r\n\t\t\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: err.response })\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t: Observable.of(\r\n\t\t\t\t\t\t\t\t\t\tactions.isLoggedInFailure(),\r\n\t\t\t\t\t\t\t\t\t\tactions.onSnackHandler({ snack: true, message: 'Network Error' })\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t)\r\n};\r\n\r\nexport default login;\r\n","import 'rxjs/Rx';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { ofType } from 'redux-observable';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\nimport HttpService from '../../service';\r\n\r\nconst checkEntries = (id, book, text) => {\r\n\tconst { purchases } = store.getState();\r\n\treturn {\r\n\t\tcondition: purchases.some((x) => x.products.find((y) => y.productId._id === id)),\r\n\t\tmessage: `Transaction found for this ${book} you can't ${text} it`\r\n\t};\r\n};\r\n\r\nconst product = {\r\n\tproductSave: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.PRODUCTSAVE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\t\tif (isMatch) {\r\n\t\t\t\t\treturn HttpService.post(`/product`, `POST`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.productSaveSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.productSaveFailure('Something went wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.productSaveFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.productSaveFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.productSaveFailure('All fields are required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tgetProduct: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.GETPRODUCT),\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\treturn HttpService.get(`/product`, `GET`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\tresp.response.products.length\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getProductSuccess(resp.response.products))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getProductSuccess([]))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getProductFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getProductFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t),\r\n\tupdateProduct: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.UPDATEPRODUCT),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload._id, 'Product', 'Edit');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.updateProductFailure(checkTransaction.message));\r\n\t\t\t\t}\r\n\t\t\t\tconst isMatch = Object.values(payload).entries((val) => Boolean(val));\r\n\t\t\t\tif (isMatch) {\r\n\t\t\t\t\treturn HttpService.put(`/product/${payload._id}`, `PUT`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.updateProductSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateProductFailure('Something went Wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.updateProductFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateProductFailure('Network Failure'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.updateProductFailure('All fields are required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tdeleteProduct: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.DELETEPRODUCT),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload, 'Product', 'Delete');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.updateProductFailure(checkTransaction.message));\r\n\t\t\t\t}\r\n\t\t\t\treturn HttpService.delete(`/product/${payload}`, `DELETE`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.deleteProductSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.deleteProductFailure('Something went Wrong'))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.deleteProductFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.deleteProductFailure('Network Failure'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t)\r\n};\r\n\r\nexport default product;\r\n","import 'rxjs/Rx';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { ofType } from 'redux-observable';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\nimport HttpService from '../../service';\r\n\r\nconst checkEntries = (id, book, text) => {\r\n\tconst { purchases } = store.getState();\r\n\treturn {\r\n\t\tcondition: purchases.some((x) => x.vendorId._id === id),\r\n\t\tmessage: `Transaction found for this ${book} you can't ${text} it`\r\n\t};\r\n};\r\n\r\nconst vendor = {\r\n\tvendorSave: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.VENDORSAVE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\t\tif (isMatch) {\r\n\t\t\t\t\treturn HttpService.post(`/vendor`, `POST`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.vendorSaveSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.vendorSaveFailure('Something went wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.vendorSaveFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.vendorSaveFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.vendorSaveFailure('All fields are required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tgetVendor: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.GETVENDOR),\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\treturn HttpService.get(`/vendor`, `GET`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\tresp.response.vendors.length\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getVendorSuccess(resp.response.vendors))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getVendorSuccess([]))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getVendorFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getVendorFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t),\r\n\tupdateVendor: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.UPDATEVENDOR),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload._id, 'Vendor', 'Edit');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.updateVendorFailure(checkTransaction.message));\r\n\t\t\t\t}\r\n\t\t\t\tconst isMatch = Object.values(payload).entries((val) => Boolean(val));\r\n\t\t\t\tif (isMatch) {\r\n\t\t\t\t\treturn HttpService.put(`/vendor/${payload._id}`, `PUT`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.updateVendorSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateVendorFailure('Something went Wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.updateVendorFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateVendorFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.updateVendorFailure('All fields are required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tdeleteVendor: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.DELETEVENDOR),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload, 'Vendor', 'Delete');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.deleteVendorFailure(checkTransaction.message));\r\n\t\t\t\t}\r\n\t\t\t\treturn HttpService.delete(`/vendor/${payload}`, `DELETE`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.deleteVendorSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.deleteVendorFailure('Something went Wrong'))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.deleteVendorFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.deleteVendorFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t)\r\n};\r\n\r\nexport default vendor;\r\n","import 'rxjs/Rx';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { ofType } from 'redux-observable';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\nimport HttpService from '../../service';\r\n\r\nconst checkEntries = (id, book, text) => {\r\n\tconst { sales } = store.getState();\r\n\treturn {\r\n\t\tcondition: sales.some((x) => x.clientId._id === id),\r\n\t\tmessage: `Transaction found for this ${book} you can't ${text} it`\r\n\t};\r\n};\r\n\r\nconst client = {\r\n\tclientSave: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.CLIENTSAVE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\t\tif (isMatch) {\r\n\t\t\t\t\treturn HttpService.post(`/client`, `POST`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.clientSaveSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.clientSaveFailure('Something went wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.clientSaveFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.clientSaveFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.clientSaveFailure('All fields are required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tgetClient: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.GETCLIENT),\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\treturn HttpService.get(`/client`, `GET`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\tresp.response.clients.length\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getClientSuccess(resp.response.clients))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getClientSuccess([]))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getClientFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getClientFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t),\r\n\tupdateClient: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.UPDATECLIENT),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload._id, 'Client', 'Edit');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.updateClientFailure(checkTransaction.message));\r\n\t\t\t\t}\r\n\t\t\t\tconst isMatch = Object.values(payload).entries((val) => Boolean(val));\r\n\t\t\t\tif (isMatch) {\r\n\t\t\t\t\treturn HttpService.put(`/client/${payload._id}`, `PUT`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.updateClientSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateClientFailure('Something went Wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.updateClientFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateClientFailure('Network Failure'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.updateClientFailure('All fields are required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tdeleteClient: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.DELETECLIENT),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload, 'Client', 'Delete');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.deleteClientFailure(checkTransaction.message));\r\n\t\t\t\t}\r\n\t\t\t\treturn HttpService.delete(`/client/${payload}`, `DELETE`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.deleteClientSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.deleteClientFailure('Something went Wrong'))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.deleteClientFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.deleteClientFailure('Network Failure'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t)\r\n};\r\n\r\nexport default client;\r\n","import 'rxjs/Rx';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { ofType } from 'redux-observable';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\nimport HttpService from '../../service';\r\n\r\nconst checkStock = () => {\r\n\tconst { purchases, sales, products } = store.getState();\r\n\tconst stockSum = {};\r\n\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\treturn stockSum;\r\n};\r\n\r\nconst checkEntries = (id, book, text) => {\r\n\tconst { payments } = store.getState();\r\n\treturn {\r\n\t\tcondition: payments.some((x) => x.details.find((y) => y.purchaseId === id)),\r\n\t\tmessage: `Transaction found for this ${book} you can't ${text} it`\r\n\t};\r\n};\r\n\r\nconst purchase = {\r\n\tpurchaseSave: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.PURCHASESAVE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isMatch = Object.values(payload).every((val) => Boolean(val));\r\n\t\t\t\tif (isMatch) {\r\n\t\t\t\t\treturn HttpService.post(`/purchase`, `POST`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.purchaseSaveSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.purchaseSaveFailure('Something went wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.purchaseSaveFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.purchaseSaveFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.purchaseSaveFailure('All fields are required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tgetPurchase: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.GETPURCHASE),\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\treturn HttpService.get(`/purchase`, `GET`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\tresp.response.length\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getPurchaseSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getPurchaseSuccess([]))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getPurchaseFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getPurchaseFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t),\r\n\tupdatePurchase: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.UPDATEPURCHASE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload._id, 'Purchase', 'Edit');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.updatePurchaseFailure(checkTransaction.message));\r\n\t\t\t\t}\r\n\t\t\t\tconst stock = checkStock();\r\n\t\t\t\tconst messages = [];\r\n\t\t\t\tpayload.products.forEach((value) => {\r\n\t\t\t\t\tif (value.oldProductId) {\r\n\t\t\t\t\t\tif (value.oldProductId === value.productId) {\r\n\t\t\t\t\t\t\tconst qty = +stock[value.oldProductId] - +value.oldQuantity + +value.quantity;\r\n\t\t\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\t\t\tmessages.push(`if Block: ${value.productName} will be negative by ${qty}`);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconst qty = +stock[value.oldProductId] - +value.oldQuantity;\r\n\t\t\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\t\t\tmessages.push(`else Block: ${value.productName} will be negative by ${qty}`);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (messages.length) {\r\n\t\t\t\t\treturn Observable.of(actions.updatePurchaseFailure('Please rectify errors'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn HttpService.put(`/purchase/${payload._id}`, `PUT`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(\r\n\t\t\t\t\t\t\t\t\t\t\tactions.onLoader(true),\r\n\t\t\t\t\t\t\t\t\t\t\tactions.updatePurchaseSuccess(resp.response)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updatePurchaseFailure('something wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.updatePurchaseFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updatePurchaseFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tdeletePurchase: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.DELETEPURCHASE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload, 'Purchase', 'delete');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.deletePurchaseFailure(checkTransaction.message));\r\n\t\t\t\t}\r\n\t\t\t\tconst stock = checkStock();\r\n\t\t\t\tconst { products } = store.getState().purchases.find((x) => x._id === payload);\r\n\t\t\t\tconst messages = [];\r\n\t\t\t\tproducts.forEach((value) => {\r\n\t\t\t\t\tconst qty = +stock[value.productId._id] - +value.quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t\t`${value.productId.productName} will be negative by ${stock[value.productId._id] -\r\n\t\t\t\t\t\t\t\tvalue.quantity}`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (messages.length) {\r\n\t\t\t\t\treturn Observable.of(actions.deletePurchaseFailure(messages.join(', ')));\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn HttpService.delete(`/purchase/${payload}`, `DELETE`).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.deletePurchaseSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.deletePurchaseFailure('something wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.deletePurchaseFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.deletePurchaseFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t)\r\n};\r\n\r\nexport default purchase;\r\n","import 'rxjs/Rx';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { ofType } from 'redux-observable';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport store from '../index';\r\nimport HttpService from '../../service';\r\n\r\nconst checkStock = () => {\r\n\tconst { purchases, sales, products } = store.getState();\r\n\tconst stockSum = {};\r\n\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\treturn stockSum;\r\n};\r\n\r\nconst checkEntries = (id, book, text) => {\r\n\tconst { recoveries } = store.getState();\r\n\treturn {\r\n\t\tcondition: recoveries.some((x) => x.details.find((y) => y.saleId === id)),\r\n\t\tmessage: `Transaction found for this ${book} you can't ${text} it`\r\n\t};\r\n};\r\n\r\nconst sale = {\r\n\tsaleSave: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.SALESAVE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isFilled = [];\r\n\t\t\t\tpayload.products.forEach((x) => {\r\n\t\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y) || y === false));\r\n\t\t\t\t});\r\n\t\t\t\tObject.values(payload).forEach((x) => {\r\n\t\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y)));\r\n\t\t\t\t});\r\n\t\t\t\tconst messages = [];\r\n\t\t\t\tconst stock = checkStock();\r\n\t\t\t\tpayload.products.forEach((value) => {\r\n\t\t\t\t\tif (stock[value.productId] < value.quantity) {\r\n\t\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t\t`${value.productName} will be negative by ${stock[value.productId] - value.quantity}`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (messages.length) {\r\n\t\t\t\t\treturn Observable.of(actions.saleSaveFailure('Please resolve errors'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\t\t\t\treturn HttpService.post(`/sale`, `POST`, payload).pipe(\r\n\t\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.saleSaveSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t\t: Observable.of(actions.saleSaveFailure('Something went wrong'))\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t\t? Observable.of(actions.saleSaveFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t\t: Observable.of(actions.saleSaveFailure('Network Error'))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(actions.saleSaveFailure('All fields are required'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tgetSale: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.GETSALE),\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\treturn HttpService.get(`/sale`, `GET`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\tresp.response.length\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getSaleSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getSaleSuccess([]))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getSaleFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getSaleFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t),\r\n\tupdateSale: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.UPDATESALE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload._id, 'Sale', 'edit');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.updateSaleFailure(checkTransaction.message));\r\n\t\t\t\t}\r\n\t\t\t\tconst isFilled = [];\r\n\t\t\t\tpayload.products.forEach((x) => {\r\n\t\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y) || y === false));\r\n\t\t\t\t});\r\n\t\t\t\tObject.values(payload).forEach((x) => {\r\n\t\t\t\t\tisFilled.push(Object.values(x).every((y) => Boolean(y)));\r\n\t\t\t\t});\r\n\t\t\t\tconst messages = [];\r\n\t\t\t\tconst stock = checkStock();\r\n\t\t\t\tpayload.products.forEach((value) => {\r\n\t\t\t\t\tif (value.oldProductId === value.productId) {\r\n\t\t\t\t\t\tconst qty = stock[value.oldProductId] + value.oldQuantity - value.quantity;\r\n\t\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t\t\t`${value.productName} will be negative by ${stock[value.productId] - value.quantity}`\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst qty = stock[value.productId] - value.quantity;\r\n\t\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\t\tmessages.push(\r\n\t\t\t\t\t\t\t\t`${value.productName} will be negative by ${stock[value.productId] - value.quantity}`\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (messages.length) {\r\n\t\t\t\t\treturn Observable.of(actions.updateSaleFailure('Please resolve errors'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\t\t\t\treturn HttpService.put(`/sale/${payload._id}`, `PUT`, payload).pipe(\r\n\t\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t\t? Observable.of(\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions.onLoader(true),\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions.updateSaleSuccess(resp.response)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateSaleFailure('Something went wrong'))\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t\t? Observable.of(actions.updateSaleFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateSaleFailure('Network Error'))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Observable.of(actions.updateSaleFailure('All fields are required'));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tdeleteSale: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.DELETESALE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst checkTransaction = checkEntries(payload, 'Sale', 'delete');\r\n\t\t\t\tif (checkTransaction.condition) {\r\n\t\t\t\t\treturn Observable.of(actions.deleteSaleFailure(checkTransaction.message));\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn HttpService.delete(`/sale/${payload}`, `DELETE`).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.deleteSaleSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.deleteSaleFailure('something wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.deleteSaleFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.deleteSaleFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t)\r\n};\r\n\r\nexport default sale;\r\n","import 'rxjs/Rx';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { ofType } from 'redux-observable';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport HttpService from '../../service';\r\n\r\nconst payment = {\r\n\tpaymentSave: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.PAYMENTSAVE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isFilled = [];\r\n\t\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t\t});\r\n\t\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\t\t\treturn HttpService.post(`/payment`, `POST`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.paymentSaveSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.paymentSaveFailure('Something went wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.paymentSaveFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.paymentSaveFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.paymentSaveFailure('All fields are required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tgetPayment: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.GETPAYMENT),\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\treturn HttpService.get(`/payment`, `GET`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\tresp.response.length\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getPaymentSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getPaymentSuccess([]))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getPaymentFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getPaymentFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t),\r\n\tupdatePayment: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.UPDATEPAYMENT),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isFilled = [];\r\n\t\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t\t});\r\n\t\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\t\t\treturn HttpService.put(`/payment/${payload._id}`, `PUT`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.updatePaymentSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updatePaymentFailure('something wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.updatePaymentFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updatePaymentFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.updatePaymentFailure('All Fields are Required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tdeletePayment: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.DELETEPAYMENT),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\treturn HttpService.delete(`/payment/${payload}`, `DELETE`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.deletePaymentSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.deletePaymentFailure('Something went wrong'))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.updatePaymentFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.updatePaymentFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t)\r\n};\r\n\r\nexport default payment;\r\n","import 'rxjs/Rx';\r\nimport { switchMap, catchError } from 'rxjs/operators';\r\nimport { ofType } from 'redux-observable';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport types from '../constants';\r\nimport actions from '../actions';\r\nimport HttpService from '../../service';\r\n\r\nconst recovery = {\r\n\trecoverySave: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.RECOVERYSAVE),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isFilled = [];\r\n\t\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t\t});\r\n\t\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\t\t\treturn HttpService.post(`/recovery`, `POST`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.onLoader(true), actions.recoverySaveSuccess(resp.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.recoverySaveFailure('Something went wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.recoverySaveFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.recoverySaveFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.recoverySaveFailure('All fields are required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tgetRecovery: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.GETRECOVERY),\r\n\t\t\tswitchMap(() => {\r\n\t\t\t\treturn HttpService.get(`/recovery`, `GET`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\tresp.response.length\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getRecoverySuccess(resp.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getRecoverySuccess([]))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.getRecoveryFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.getRecoveryFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t),\r\n\tupdateRecovery: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.UPDATERECOVERY),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\tconst isFilled = [];\r\n\t\t\t\tpayload.details.forEach((x) => {\r\n\t\t\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t\t\t});\r\n\t\t\t\tisFilled.push(Object.values(payload).every((val) => Boolean(val)));\r\n\t\t\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\t\t\treturn HttpService.put(`/recovery/${payload._id}`, `PUT`, payload).pipe(\r\n\t\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(\r\n\t\t\t\t\t\t\t\t\t\t\tactions.onLoader(true),\r\n\t\t\t\t\t\t\t\t\t\t\tactions.updateRecoverySuccess(resp.response)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateRecoveryFailure('something wrong'))\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t\t? Observable.of(actions.updateRecoveryFailure(err.response))\r\n\t\t\t\t\t\t\t\t\t: Observable.of(actions.updateRecoveryFailure('Network Error'))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Observable.of(actions.updateRecoveryFailure('All Fields are Required'));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t),\r\n\tdeleteRecovery: (action$) =>\r\n\t\taction$.pipe(\r\n\t\t\tofType(types.DELETERECOVERY),\r\n\t\t\tswitchMap(({ payload }) => {\r\n\t\t\t\treturn HttpService.delete(`/recovery/${payload}`, `DELETE`).pipe(\r\n\t\t\t\t\tswitchMap(\r\n\t\t\t\t\t\t(resp) =>\r\n\t\t\t\t\t\t\ttypeof resp.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.deleteRecoverySuccess(resp.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.deleteRecoveryFailure('something wrong'))\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcatchError(\r\n\t\t\t\t\t\t(err) =>\r\n\t\t\t\t\t\t\ttypeof err.response === 'string'\r\n\t\t\t\t\t\t\t\t? Observable.of(actions.deleteRecoveryFailure(err.response))\r\n\t\t\t\t\t\t\t\t: Observable.of(actions.deleteRecoveryFailure('Network Error'))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t)\r\n};\r\n\r\nexport default recovery;\r\n","import { combineEpics } from 'redux-observable';\r\n\r\nimport login from './login';\r\nimport product from './product';\r\nimport vendor from './vendor';\r\nimport client from './client';\r\nimport purchase from './purchase';\r\nimport sale from './sale';\r\nimport payment from './payment';\r\nimport recovery from './recovery';\r\n\r\nexport default combineEpics(\r\n    login.signUp,\r\n    login.signIn,\r\n    login.signOut,\r\n    login.isLoggedIn,\r\n\r\n    product.productSave,\r\n    product.getProduct,\r\n    product.updateProduct,\r\n    product.deleteProduct,\r\n\r\n    vendor.vendorSave,\r\n    vendor.getVendor,\r\n    vendor.updateVendor,\r\n    vendor.deleteVendor,\r\n\r\n    client.clientSave,\r\n    client.getClient,\r\n    client.updateClient,\r\n    client.deleteClient,\r\n\r\n    purchase.purchaseSave,\r\n    purchase.getPurchase,\r\n    purchase.updatePurchase,\r\n    purchase.deletePurchase,\r\n\r\n    sale.saleSave,\r\n    sale.getSale,\r\n    sale.updateSale,\r\n    sale.deleteSale,\r\n\r\n    payment.paymentSave,\r\n    payment.getPayment,\r\n    payment.updatePayment,\r\n    payment.deletePayment,\r\n\r\n    recovery.recoverySave,\r\n    recovery.getRecovery,\r\n    recovery.updateRecovery,\r\n    recovery.deleteRecovery\r\n);","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { createEpicMiddleware } from 'redux-observable';\r\n\r\nimport reducer from './reducer';\r\nimport epics from './epics';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst epicMiddleware = createEpicMiddleware();\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    composeEnhancers(\r\n        applyMiddleware(epicMiddleware)\r\n    )\r\n);\r\n\r\nepicMiddleware.run(epics)\r\n\r\n// store.subscribe(() => console.log(store.getState()));\r\n\r\nexport default store;","import React, { Component } from 'react';\r\nimport {\r\n    Paper, Typography, TextField,\r\n    Button\r\n} from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../../store/actions';\r\nimport '../../App.css';\r\n\r\nclass SignIn extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: 'shahan@domain.com',\r\n            password: '123abc456',\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.store.profile.email) return this.props.history.push('/dashboard');\r\n        return this.props.history.push('/');\r\n    }\r\n    handleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    onSignInHandler = () => {\r\n        const { email, password } = this.state;\r\n        this.props.signIn({ email, password });\r\n    }\r\n    gotoSignUp = () => {\r\n        this.props.history.push('/signup');\r\n    }\r\n    render() {\r\n        const { email, password } = this.state;\r\n        return (\r\n            <div className='paper-style'>\r\n                <Paper\r\n                    elevation={4}\r\n                    className='inner-paper-styling'\r\n                >\r\n                    <Typography\r\n                        align='center'\r\n                        color='primary'\r\n                        variant='h5'\r\n                        gutterBottom={true}\r\n                    >\r\n                        <span className='outline-it'>Login Portal</span>\r\n                    </Typography>\r\n                    <Typography\r\n                        align='center'\r\n                        color='textSecondary'\r\n                        variant='h6'\r\n                    >\r\n                        Sign In\r\n                    </Typography>\r\n                    <TextField\r\n                        autoFocus\r\n                        type='text'\r\n                        name='email' value={email}\r\n                        label='Email'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='password'\r\n                        name='password' value={password}\r\n                        label='Password'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <Button\r\n                        variant='contained'\r\n                        fullWidth={true}\r\n                        children='Sign In'\r\n                        color='primary'\r\n                        size='large'\r\n                        onClick={this.onSignInHandler}\r\n                    /><hr />\r\n                    <div className='ask-signup'>\r\n                        <Typography\r\n                            align='center'\r\n                            children=\"Don't have an Account ? \"\r\n                            color='textSecondary'\r\n                        />\r\n                        <Button\r\n                            variant='outlined'\r\n                            children='Create Account Now'\r\n                            color='secondary'\r\n                            size='medium'\r\n                            onClick={this.gotoSignUp}\r\n                        />\r\n                    </div>\r\n                </Paper>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        signIn: (email, password) => dispatch(actions.signIn(email, password)),\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    formControl: {\r\n        marginTop: theme.spacing.unit * 0.50,\r\n        marginBottom: theme.spacing.unit * 0.50,\r\n        minWidth: '100%',\r\n    },\r\n});\r\n\r\nclass NativeSelects extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: props.value,\r\n            labelWidth: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            labelWidth: ReactDOM.findDOMNode(this.InputLabelRef).offsetWidth,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { classes, range, criteria, theLabel, theField, toChange } = this.props;\r\n        return (\r\n            <div className={classes.root}>\r\n                <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                    <InputLabel\r\n                        ref={ref => {\r\n                            this.InputLabelRef = ref;\r\n                        }}\r\n                        htmlFor=\"values-for-select-list\"\r\n                    >\r\n                        {theLabel}\r\n                    </InputLabel>\r\n                    <Select\r\n                        native\r\n                        value={theField}\r\n                        onChange={toChange}\r\n                        input={\r\n                            <OutlinedInput\r\n                                name={criteria}\r\n                                labelWidth={this.state.labelWidth}\r\n                                id=\"values-for-select-list\"\r\n                            />\r\n                        }\r\n                    >\r\n                        <option value=\"\" />\r\n                        {range.map((val, ind) => {\r\n                            return (\r\n                                <option key={ind} value={val}>{val}</option>\r\n                            );\r\n                        })}\r\n                    </Select>\r\n                </FormControl>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nNativeSelects.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(NativeSelects);","import React, { Component } from 'react';\r\nimport {\r\n    Paper, Typography, TextField,\r\n    Button\r\n} from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../../store/actions';\r\nimport NativeSelects from '../selects';\r\nimport '../../App.css';\r\n\r\nclass SignUp extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: 'shahan@domain.com',\r\n            password: '123abc456',\r\n            confirmPassword: '123abc456',\r\n            mobile: '0336-2122588',\r\n            dob: '1986-01-29',\r\n            first: 'Shahan',\r\n            last: 'Ahmed Khan',\r\n            gender: 'Male',\r\n            maritalStatus: 'Married',\r\n            cnic: '42301-8964999-9',\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.store.profile.email) return this.props.history.push('/dashboard');\r\n    }\r\n    handleChange = ev => {\r\n        const { name, value } = ev.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    gotoSignIn = () => {\r\n        this.props.history.push('/');\r\n    }\r\n    onSignUpHandler = () => {\r\n        const isFilled = Object.values(this.state).every(x => Boolean(x) === true);\r\n        if (isFilled) return this.props.signUp(this.state);\r\n        return this.props.onSnackHandler(true, 'All Fields are required');\r\n    }\r\n    render() {\r\n        const {\r\n            email, password,\r\n            confirmPassword, mobile, dob, first, last, gender, cnic, maritalStatus\r\n        } = this.state;\r\n        return (\r\n            <div className='paper-style'>\r\n                <Paper\r\n                    elevation={4}\r\n                    className='inner-paper-styling'\r\n                >\r\n                    <Typography\r\n                        align='center'\r\n                        color='primary'\r\n                        variant='h5'\r\n                        gutterBottom={true}\r\n                    >\r\n                        <span className='outline-it'>Login Portal</span>\r\n                    </Typography>\r\n                    <Typography\r\n                        align='center'\r\n                        color='textSecondary'\r\n                        variant='h6'\r\n                    >\r\n                        Sign Up Form\r\n                    </Typography>\r\n                    <TextField\r\n                        autoFocus\r\n                        type='text'\r\n                        name='email' value={email}\r\n                        label='Email'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='password'\r\n                        name='password' value={password}\r\n                        label='Password'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='password'\r\n                        name='confirmPassword' value={confirmPassword}\r\n                        label='Confirm Password'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='mobile' value={mobile}\r\n                        label='Mobile No.'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                        style={{ marginBottom: 15 }}\r\n                        helperText={'example: 0300-1234567'}\r\n                    />\r\n                    <TextField\r\n                        type='date'\r\n                        name='dob' value={dob}\r\n                        label='Date of Birth'\r\n                        InputLabelProps={{ shrink: true }}\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='first' value={first}\r\n                        label='First Name'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='last' value={last}\r\n                        label='Last Name'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                    />\r\n                    <NativeSelects\r\n                        range={['Male', 'Female']}\r\n                        theLabel='Gender'\r\n                        criteria='gender'\r\n                        theField={gender}\r\n                        toChange={this.handleChange}\r\n                    />\r\n                    <NativeSelects\r\n                        range={['Married', 'Single']}\r\n                        theLabel='Marital Status'\r\n                        criteria='maritalStatus'\r\n                        theField={maritalStatus}\r\n                        toChange={this.handleChange}\r\n                    />\r\n                    <TextField\r\n                        type='text'\r\n                        name='cnic' value={cnic}\r\n                        label='CNIC'\r\n                        onChange={this.handleChange}\r\n                        fullWidth={true}\r\n                        variant='outlined'\r\n                        margin='dense'\r\n                        style={{ marginBottom: 15 }}\r\n                        helperText={'example: 12345-1234567-8'}\r\n                    />\r\n                    <Button\r\n                        variant='contained'\r\n                        fullWidth={true}\r\n                        children='Sign Up'\r\n                        color='primary'\r\n                        size='large'\r\n                        onClick={this.onSignUpHandler}\r\n                    /><hr />\r\n                    <div className='ask-signup'>\r\n                        <Typography\r\n                            align='center'\r\n                            children=\"Already have an Account ? \"\r\n                            color='textSecondary'\r\n                        />\r\n                        <Button\r\n                            variant='outlined'\r\n                            children='Sign In Now'\r\n                            color='secondary'\r\n                            size='medium'\r\n                            onClick={this.gotoSignIn}\r\n                        />\r\n                    </div>\r\n                </Paper>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        signUp: data => dispatch(actions.signUp(data)),\r\n        onSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../store/actions';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n          <Link\r\n            to='/dashboard'\r\n            className=\"navbar-brand\"\r\n            children='Dashboard'\r\n          />\r\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarsExample09\" aria-controls=\"navbarsExample09\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarsExample09\">\r\n            <ul className=\"navbar-nav mr-auto\">\r\n              <li className=\"nav-item dropdown\">\r\n                <Link\r\n                  to='/dashboard'\r\n                  children='Main'\r\n                  id=\"dropdown09\"\r\n                  className=\"nav-link active dropdown-toggle\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                />\r\n                <div className=\"dropdown-menu\" aria-labelledby=\"dropdown09\">\r\n                  <Link\r\n                    to='/dashboard/product'\r\n                    children='Product'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/vendor'\r\n                    children='Vendor'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/client'\r\n                    children='Client'\r\n                    className='dropdown-item'\r\n                  />\r\n                </div>\r\n              </li>\r\n              <li className=\"nav-item dropdown\">\r\n                <Link\r\n                  to='/dashboard'\r\n                  children='Transaction'\r\n                  id=\"dropdown09\"\r\n                  className=\"nav-link active dropdown-toggle\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                />\r\n                <div className=\"dropdown-menu\" aria-labelledby=\"dropdown09\">\r\n                  <Link\r\n                    to='/dashboard/purchase'\r\n                    children='Purchase Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/sale'\r\n                    children='Sale Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/payment'\r\n                    children='Payment Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                  <Link\r\n                    to='/dashboard/recovery'\r\n                    children='Recovery Book'\r\n                    className='dropdown-item'\r\n                  />\r\n                </div>\r\n              </li>\r\n            </ul>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-primary my-2 my-sm-0\"\r\n              onClick={() => this.props.signOut()}\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signOut: () => dispatch(actions.signOut())\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Header);","import Pusher from 'pusher-js';\r\n\r\nconst pusher = new Pusher('f9126fc42e7cc112a924', {\r\n    cluster: 'ap2',\r\n    forceTLS: true\r\n});\r\nconst channel = pusher.subscribe('inventory');\r\n\r\nexport default channel;","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState(() => {\r\n\t\t\treturn {\r\n\t\t\t\t[name]: value\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getRow, deleteProduct, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst products = store.products.filter((val) => val.productName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{products.length ? (\r\n\t\t\t\t\tproducts.map((row, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Edit\" onClick={() => getRow(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteProduct(row._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Product: {row.productName}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Manufacturer: {row.manufacturer}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Description: {row.description}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { search } = this.state;\r\n\t\tconst { isPopup, validateSearch } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Product Name...\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{isPopup && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Product extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tproductName: '',\r\n\t\t\tmanufacturer: '',\r\n\t\t\tdescription: '',\r\n\t\t\tediting: false,\r\n\t\t\tisPopup: false,\r\n\t\t\tisSearch: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('products', () => {\r\n\t\t\tthis.props.getProduct();\r\n\t\t});\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\tgetRow = (id) => {\r\n\t\tconst obj = this.props.store.products.find((val) => val._id === id);\r\n\t\tconst { _id, productName, manufacturer, description } = obj;\r\n\t\tthis.setState({\r\n\t\t\t_id,\r\n\t\t\tproductName,\r\n\t\t\tmanufacturer,\r\n\t\t\tdescription,\r\n\t\t\tediting: true,\r\n\t\t\tisPopup: false,\r\n\t\t\tisSearch: false\r\n\t\t});\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, productName, manufacturer, description, editing } = this.state;\r\n\t\tif (!editing) return this.props.productSave({ productName, manufacturer, description });\r\n\t\treturn this.props.updateProduct({ _id, productName, manufacturer, description });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tisSearch: !state.isSearch\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tproductName: '',\r\n\t\t\tmanufacturer: '',\r\n\t\t\tdescription: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ isPopup: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ isPopup: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { productName, manufacturer, description } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"the-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Product Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Product Name\"\r\n\t\t\t\t\t\tname=\"productName\"\r\n\t\t\t\t\t\tvalue={productName}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Manufacturer\"\r\n\t\t\t\t\t\tname=\"manufacturer\"\r\n\t\t\t\t\t\tvalue={manufacturer}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={this.state.editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.isSearch && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tgetRow={this.getRow}\r\n\t\t\t\t\t\t\tisPopup={this.state.isPopup}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tdeleteProduct={this.props.deleteProduct}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tproductSave: (data) => dispatch(actions.productSave(data)),\r\n\t\tupdateProduct: (data) => dispatch(actions.updateProduct(data)),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tdeleteProduct: (id) => dispatch(actions.deleteProduct(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getRow, store, deleteVendor } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst vendors = store.vendors.filter((val) => val.vendorName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{vendors.length ? (\r\n\t\t\t\t\tvendors.map((row, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Edit\" onClick={() => getRow(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteVendor(row._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Vendor: {row.vendorName}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {row.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {row.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {row.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {row.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { search } = this.state;\r\n\t\tconst { isPopup, validateSearch } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Vendor Name...\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{isPopup && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Vendor extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tvendorName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('vendors', () => {\r\n\t\t\tthis.props.getVendor();\r\n\t\t});\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\tgetRow = (id) => {\r\n\t\tconst obj = this.props.store.vendors.find((val) => val._id === id);\r\n\t\tconst { _id, vendorName, address, telephone, email, ntn } = obj;\r\n\t\tthis.setState({\r\n\t\t\tediting: true,\r\n\t\t\t_id,\r\n\t\t\tvendorName,\r\n\t\t\taddress,\r\n\t\t\ttelephone,\r\n\t\t\temail,\r\n\t\t\tntn,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, vendorName, address, telephone, email, ntn, editing } = this.state;\r\n\t\tif (!editing) return this.props.vendorSave({ vendorName, address, telephone, email, ntn });\r\n\t\treturn this.props.updateVendor({ _id, vendorName, address, telephone, email, ntn });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tisSearch: !state.isSearch\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tvendorName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ isPopup: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ isPopup: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { vendorName, address, telephone, email, ntn } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"the-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Vendor Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Vendor Name\"\r\n\t\t\t\t\t\tname=\"vendorName\"\r\n\t\t\t\t\t\tvalue={vendorName}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Address\"\r\n\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Telephone\"\r\n\t\t\t\t\t\tname=\"telephone\"\r\n\t\t\t\t\t\tvalue={telephone}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"National Tax Number\"\r\n\t\t\t\t\t\tname=\"ntn\"\r\n\t\t\t\t\t\tvalue={ntn}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={this.state.editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.isSearch && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tgetRow={this.getRow}\r\n\t\t\t\t\t\t\tisPopup={this.state.isPopup}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tdeleteVendor={this.props.deleteVendor}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tvendorSave: (data) => dispatch(actions.vendorSave(data)),\r\n\t\tupdateVendor: (data) => dispatch(actions.updateVendor(data)),\r\n\t\tgetVendor: () => dispatch(actions.getVendor()),\r\n\t\tdeleteVendor: (id) => dispatch(actions.deleteVendor(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Vendor);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getRow, store, deleteClient } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst clients = store.clients.filter((val) => val.clientName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{clients.length ? (\r\n\t\t\t\t\tclients.map((row, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Edit\" onClick={() => getRow(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteClient(row._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Client: {row.clientName}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {row.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {row.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {row.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {row.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { search } = this.state;\r\n\t\tconst { isPopup, validateSearch } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Client Name...\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{isPopup && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport actions from '../../../store/actions';\r\n\r\nclass Client extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tclientName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tchannel.bind('clients', () => {\r\n\t\t\tthis.props.getClient();\r\n\t\t});\r\n\t}\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\tgetRow = (id) => {\r\n\t\tconst obj = this.props.store.clients.find((val) => val._id === id);\r\n\t\tconst { _id, clientName, address, telephone, email, ntn } = obj;\r\n\t\tthis.setState({\r\n\t\t\tediting: true,\r\n\t\t\t_id,\r\n\t\t\tclientName,\r\n\t\t\taddress,\r\n\t\t\ttelephone,\r\n\t\t\temail,\r\n\t\t\tntn,\r\n\t\t\tisPopup: false,\r\n\t\t\tisSearch: false\r\n\t\t});\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, clientName, address, telephone, email, ntn, editing } = this.state;\r\n\t\tif (!editing) return this.props.clientSave({ clientName, address, telephone, email, ntn });\r\n\t\treturn this.props.updateClient({ _id, clientName, address, telephone, email, ntn });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tisSearch: !state.isSearch\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tclientName: '',\r\n\t\t\taddress: '',\r\n\t\t\ttelephone: '',\r\n\t\t\temail: '',\r\n\t\t\tntn: '',\r\n\t\t\tediting: false,\r\n\t\t\tisSearch: false,\r\n\t\t\tisPopup: false\r\n\t\t});\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ isPopup: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ isPopup: false });\r\n\t};\r\n\trender() {\r\n\t\tconst { clientName, address, telephone, email, ntn } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"the-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Client Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Client Name\"\r\n\t\t\t\t\t\tname=\"clientName\"\r\n\t\t\t\t\t\tvalue={clientName}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Address\"\r\n\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Telephone\"\r\n\t\t\t\t\t\tname=\"telephone\"\r\n\t\t\t\t\t\tvalue={telephone}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"National Tax Number\"\r\n\t\t\t\t\t\tname=\"ntn\"\r\n\t\t\t\t\t\tvalue={ntn}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={this.state.editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.isSearch && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tgetRow={this.getRow}\r\n\t\t\t\t\t\t\tisPopup={this.state.isPopup}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tdeleteClient={this.props.deleteClient}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tclientSave: (data) => dispatch(actions.clientSave(data)),\r\n\t\tupdateClient: (data) => dispatch(actions.updateClient(data)),\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tdeleteClient: (id) => dispatch(actions.deleteClient(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Client);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getPurchaseFields, store, onDelete } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst purchases = store.purchases.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{purchases.length ? (\r\n\t\t\t\t\tpurchases.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getPurchaseFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Invoice: {val.invoice}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Vendor: {val.vendorId.vendorName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getPur, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Invoice #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getPur && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupVendor extends Component {\r\n\trenderSearchBlockVendor = () => {\r\n\t\tconst { vendorName, store, getVendorFields } = this.props;\r\n\t\tconst search = vendorName.toLowerCase();\r\n\t\tconst vendors = store.vendors.filter((val) => val.vendorName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{vendors.length ? (\r\n\t\t\t\t\tvendors.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getVendorFields(val._id, val.vendorName)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{val.vendorName}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {val.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {val.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {val.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {val.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { vendorName, validateVendor, vendorList, handleChange } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tlabel=\"Vendor\"\r\n\t\t\t\t\tname=\"vendorName\"\r\n\t\t\t\t\tvalue={vendorName}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={validateVendor}\r\n\t\t\t\t/>\r\n\t\t\t\t{vendorList && this.renderSearchBlockVendor()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupVendor);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupProduct extends Component {\r\n\trenderSearchBlockProduct = () => {\r\n\t\tconst { productName, getProductFields, store } = this.props;\r\n\t\tconst search = productName.toLowerCase();\r\n\t\tconst products = store.products.filter((val) => val.productName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{products.length ? (\r\n\t\t\t\t\tproducts.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getProductFields(val._id, val.productName)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{val.productName}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Manufacturer: {val.manufacturer}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Description: {val.description}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { productName, ind, inputProducts, handleChangeTab, validateProduct, vendorList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tname=\"productName\"\r\n\t\t\t\t\tvalue={productName}\r\n\t\t\t\t\tonChange={(ev) => handleChangeTab(ev, ind)}\r\n\t\t\t\t\tonKeyDown={(ev) => validateProduct(ev, ind)}\r\n\t\t\t\t/>\r\n\t\t\t\t{!vendorList && inputProducts[ind].productList && this.renderSearchBlockProduct()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupProduct);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupVendor from '../popup-vendor';\r\nimport actions from '../../../store/actions';\r\nimport PopupProduct from '../popup-product';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t}\r\n});\r\n\r\nconst getNowDate = () => {\r\n\tconst x = new Date();\r\n\tlet date = '2019-';\r\n\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\treturn date;\r\n};\r\n\r\nclass Purchase extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tcostPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tproductList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tediting: false,\r\n\t\t\tvendorList: false,\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetPur: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getRefNo();\r\n\t\tchannel.bind('sales', () => {\r\n\t\t\tthis.props.getSale();\r\n\t\t});\r\n\t\tchannel.bind('purchases', () => {\r\n\t\t\tthis.props.getPurchase();\r\n\t\t});\r\n\t\tchannel.bind('products', () => {\r\n\t\t\tthis.props.getProduct();\r\n\t\t});\r\n\t\tchannel.bind('vendors', () => {\r\n\t\t\tthis.props.getVendor();\r\n\t\t});\r\n\t}\r\n\tstatic getDerivedStateFromProps = (nextProps, prevState) => {\r\n\t\tconst { purchases } = nextProps.store;\r\n\t\tconst date = getNowDate();\r\n\t\tif (purchases.length && !prevState.editing) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in purchases) {\r\n\t\t\t\tarr.push(purchases[key].invoice);\r\n\t\t\t}\r\n\t\t\tconst invoice = Math.max(...arr) + 1;\r\n\t\t\tif (invoice !== prevState.invoice) return { invoice, date };\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tgetRefNo = () => {\r\n\t\tconst { purchases } = this.props.store;\r\n\t\tconst { editing } = this.state;\r\n\t\tconst date = getNowDate();\r\n\t\tif (purchases.length && !editing) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in purchases) {\r\n\t\t\t\tarr.push(purchases[key].invoice);\r\n\t\t\t}\r\n\t\t\tconst invoice = Math.max(...arr) + 1;\r\n\t\t\treturn this.setState({ invoice, date });\r\n\t\t}\r\n\t\treturn this.setState({ invoice: 1, date });\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (name === 'quantity' || name === 'costPrice') {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t\tthis.calcValue(ind);\r\n\t\t} else {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t}\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tcalcValue = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tinputProducts[ind].value = inputProducts[ind].quantity * inputProducts[ind].costPrice;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, invoice, vendorId, inputProducts, editing } = this.state;\r\n\t\tif (!editing) return this.props.purchaseSave({ date, invoice, vendorId, products: inputProducts });\r\n\t\treturn this.props.updatePurchase({ _id, date, invoice, vendorId, products: inputProducts });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tcostPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tsellingPrice: ''\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\toptions: false,\r\n\t\t\tediting: false\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst isFilled = [];\r\n\t\tinputProducts.forEach((x) => {\r\n\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t});\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tinputProducts.push({\r\n\t\t\t\tproductId: '',\r\n\t\t\t\tproductName: '',\r\n\t\t\t\tquantity: '0',\r\n\t\t\t\tcostPrice: '0',\r\n\t\t\t\tvalue: '0',\r\n\t\t\t\tsellingPrice: '0',\r\n\t\t\t\tproductList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ inputProducts });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row first');\r\n\t};\r\n\tcheckStock = () => {\r\n\t\tconst { purchases, sales, products } = this.props.store;\r\n\t\tconst stockSum = {};\r\n\t\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\t\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\t\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\t\treturn stockSum;\r\n\t};\r\n\tcheckQty = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst products = this.props.store.products;\r\n\t\tif (this.state.editing) {\r\n\t\t\tconst stock = this.checkStock();\r\n\t\t\tif (inputProducts[ind].oldProductId) {\r\n\t\t\t\tif (inputProducts[ind].oldProductId === inputProducts[ind].productId) {\r\n\t\t\t\t\tconst qty =\r\n\t\t\t\t\t\t+stock[inputProducts[ind].oldProductId] -\r\n\t\t\t\t\t\t+inputProducts[ind].oldQuantity +\r\n\t\t\t\t\t\t+inputProducts[ind].quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tconst name = products.find((x) => x._id === inputProducts[ind].oldProductId).productName;\r\n\t\t\t\t\t\tinputProducts[ind].err = `${name} will be negative by ${qty}`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst qty = +stock[inputProducts[ind].oldProductId] - +inputProducts[ind].oldQuantity;\r\n\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\tconst name = products.find((x) => x._id === inputProducts[ind].oldProductId).productName;\r\n\t\t\t\t\tinputProducts[ind].err = `${name} will be negative by ${qty}`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst products = this.props.store.products;\r\n\t\tif (this.state.editing) {\r\n\t\t\tconst stock = this.checkStock();\r\n\t\t\tif (inputProducts[ind].oldProductId) {\r\n\t\t\t\tconst qty = +stock[inputProducts[ind].oldProductId] - +inputProducts[ind].oldQuantity;\r\n\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\tconst name = products.find((x) => x._id === inputProducts[ind].oldProductId).productName;\r\n\t\t\t\t\tinputProducts[ind].err = `${name} will be negative by ${qty}`;\r\n\t\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.onDeleteRow(ind);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.onDeleteRow(ind);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.onDeleteRow(ind);\r\n\t\t}\r\n\t};\r\n\tonDeleteRow = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (inputProducts.length > 1) {\r\n\t\t\tinputProducts[ind].productList = false;\r\n\t\t\tinputProducts.splice(ind, 1);\r\n\t\t\tthis.setState({ inputProducts });\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tinputProducts: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproductId: '',\r\n\t\t\t\t\t\tproductName: '',\r\n\t\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\t\tcostPrice: '0',\r\n\t\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\t\tproductList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getPur: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getPur: false });\r\n\t};\r\n\tgetPurchaseFields = (id) => {\r\n\t\tconst purchases = this.props.store.purchases.find((val) => val._id === id);\r\n\t\tconst { _id, date, invoice, vendorId, products } = purchases;\r\n\t\tthis.setState({\r\n\t\t\t_id,\r\n\t\t\tdate: date.slice(0, 10),\r\n\t\t\tinvoice,\r\n\t\t\tvendorId: vendorId._id,\r\n\t\t\tvendorName: vendorId.vendorName,\r\n\t\t\tinputProducts: products.map((val) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t_id: val._id,\r\n\t\t\t\t\tproductId: val.productId._id,\r\n\t\t\t\t\toldProductId: val.productId._id,\r\n\t\t\t\t\tproductName: val.productId.productName,\r\n\t\t\t\t\tquantity: val.quantity,\r\n\t\t\t\t\toldQuantity: val.quantity,\r\n\t\t\t\t\tcostPrice: val.costPrice,\r\n\t\t\t\t\tvalue: val.value,\r\n\t\t\t\t\tsellingPrice: val.sellingPrice\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t\tediting: true,\r\n\t\t\tgetPur: false,\r\n\t\t\toptions: false\r\n\t\t});\r\n\t};\r\n\tvalidateVendor = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ vendorList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ vendorList: false });\r\n\t};\r\n\tgetVendorFields = (vendorId, vendorName) => {\r\n\t\tthis.setState({\r\n\t\t\tvendorId,\r\n\t\t\tvendorName,\r\n\t\t\tvendorList: false\r\n\t\t});\r\n\t};\r\n\tvalidateProduct = (ev, ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (ev.keyCode === 13) inputProducts[ind].productList = true;\r\n\t\tif (ev.keyCode === 27) inputProducts[ind].productList = false;\r\n\t\tthis.setState({ ind, inputProducts });\r\n\t};\r\n\tgetProductFields = (id, name) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tinputProducts.forEach((val, i) => {\r\n\t\t\tif (i !== ind) {\r\n\t\t\t\tif (val.productName === name) return this.props.onSnackHandler(true, \"can't enter same product\");\r\n\t\t\t}\r\n\t\t});\r\n\t\tinputProducts[ind].productId = id;\r\n\t\tinputProducts[ind].productName = name;\r\n\t\tinputProducts[ind].productList = false;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\trender() {\r\n\t\tconst { date, invoice, vendorName, inputProducts, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Purchase Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Invoice\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupVendor\r\n\t\t\t\t\t\tvendorName={vendorName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateVendor={this.validateVendor}\r\n\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\tgetVendorFields={this.getVendorFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Product</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Quantity</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Cost</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Value</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Selling</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{inputProducts.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupProduct\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetProductFields={this.getProductFields}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproductName={row.productName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputProducts={inputProducts}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={this.handleChangeTab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateProduct={this.validateProduct}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.checkQty(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"costPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.costPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.err)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.err && row.err}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(row.value).toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"sellingPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.sellingPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.quantity), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.value), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetPur={this.state.getPur}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetPurchaseFields={this.getPurchaseFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deletePurchase}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetVendor: () => dispatch(actions.getVendor()),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tpurchaseSave: (data) => dispatch(actions.purchaseSave(data)),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase()),\r\n\t\tupdatePurchase: (data) => dispatch(actions.updatePurchase(data)),\r\n\t\tdeletePurchase: (id) => dispatch(actions.deletePurchase(id)),\r\n\t\tgetSale: () => dispatch(actions.getSale())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Purchase));\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getSaleFields, onDelete, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst sales = store.sales.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{sales.length ? (\r\n\t\t\t\t\tsales.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getSaleFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Invoice: {val.invoice}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Client: {val.clientId.clientName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getSal, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type Invoice #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getSal && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);","import React, { Component } from 'react';\r\nimport { TextField, Paper } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupClient extends Component {\r\n\trenderSearchBlockClient = () => {\r\n\t\tconst { clientName, store, getClientFields } = this.props;\r\n\t\tconst search = clientName.toLowerCase();\r\n\t\tconst clients = store.clients.filter((val) => val.clientName.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{clients.length ? (\r\n\t\t\t\t\tclients.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getClientFields(val._id, val.clientName)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{val.clientName}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Address: {val.address}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Telephone: {val.telephone}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Email: {val.email}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">NTN: {val.ntn}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { clientName, validateClient, clientList, handleChange } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tlabel=\"Client\"\r\n\t\t\t\t\tname=\"clientName\"\r\n\t\t\t\t\tvalue={clientName}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tonKeyDown={validateClient}\r\n\t\t\t\t/>\r\n\t\t\t\t{clientList && this.renderSearchBlockClient()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupClient);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupClient from '../popup-client';\r\nimport PopupProduct from './../popup-product';\r\nimport actions from '../../../store/actions';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t}\r\n});\r\n\r\nconst getNowDate = () => {\r\n\tconst x = new Date();\r\n\tlet date = '2019-';\r\n\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\treturn date;\r\n};\r\n\r\nclass Sale extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tproductList: false,\r\n\t\t\t\t\terr: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tediting: false,\r\n\t\t\tclientList: false,\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetSal: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getRefNo();\r\n\t\tchannel.bind('sales', () => {\r\n\t\t\tthis.props.getSale();\r\n\t\t});\r\n\t\tchannel.bind('purchases', () => {\r\n\t\t\tthis.props.getPurchase();\r\n\t\t});\r\n\t\tchannel.bind('products', () => {\r\n\t\t\tthis.props.getProduct();\r\n\t\t});\r\n\t\tchannel.bind('clients', () => {\r\n\t\t\tthis.props.getClient();\r\n\t\t});\r\n\t}\r\n\tstatic getDerivedStateFromProps = (nextProps, prevState) => {\r\n\t\tconst { sales } = nextProps.store;\r\n\t\tconst date = getNowDate();\r\n\t\tif (sales.length && !prevState.editing) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in sales) {\r\n\t\t\t\tarr.push(sales[key].invoice);\r\n\t\t\t}\r\n\t\t\tconst invoice = Math.max(...arr) + 1;\r\n\t\t\tif (invoice !== prevState.invoice) return { invoice, date };\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tgetRefNo = () => {\r\n\t\tconst { sales } = this.props.store;\r\n\t\tconst date = getNowDate();\r\n\t\tif (sales.length) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in sales) {\r\n\t\t\t\tarr.push(sales[key].invoice);\r\n\t\t\t}\r\n\t\t\tconst invoice = Math.max(...arr) + 1;\r\n\t\t\treturn this.setState({ invoice, date });\r\n\t\t}\r\n\t\treturn this.setState({ invoice: 1, date });\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\tinvoice: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tproductList: false,\r\n\t\t\t\t\terr: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tediting: false,\r\n\t\t\tclientList: false,\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetSal: false\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst isFilled = [];\r\n\t\tinputProducts.forEach((x) => isFilled.push(Object.values(x).every((y) => y === false || Boolean(y))));\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tinputProducts.push({\r\n\t\t\t\tproductId: '',\r\n\t\t\t\tproductName: '',\r\n\t\t\t\tquantity: '0',\r\n\t\t\t\tsellingPrice: '0',\r\n\t\t\t\tvalue: '0',\r\n\t\t\t\tproductList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ inputProducts });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row(s) first');\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (inputProducts.length > 1) {\r\n\t\t\tinputProducts[ind].productList = false;\r\n\t\t\tinputProducts.splice(ind, 1);\r\n\t\t\treturn this.setState({ inputProducts });\r\n\t\t}\r\n\t\treturn this.setState({\r\n\t\t\tinputProducts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproductId: '',\r\n\t\t\t\t\tproductName: '',\r\n\t\t\t\t\tquantity: '0',\r\n\t\t\t\t\tsellingPrice: '0',\r\n\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\tproductList: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (name === 'quantity' || name === 'sellingPrice') {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t\tthis.calcValue(ind);\r\n\t\t} else {\r\n\t\t\tinputProducts[ind][name] = value;\r\n\t\t}\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tcalcValue = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tinputProducts[ind].value = inputProducts[ind].quantity * inputProducts[ind].sellingPrice;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, invoice, clientId, inputProducts, editing } = this.state;\r\n\t\tif (!editing) return this.props.saleSave({ date, invoice, clientId, products: inputProducts });\r\n\t\treturn this.props.updateSale({ _id, date, invoice, clientId, products: inputProducts });\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getSal: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getSal: false });\r\n\t};\r\n\tgetSaleFields = (id) => {\r\n\t\tconst sales = this.props.store.sales.find((val) => val._id === id);\r\n\t\tconst { _id, date, invoice, clientId, products } = sales;\r\n\t\tthis.setState({\r\n\t\t\t_id,\r\n\t\t\tdate: date.slice(0, 10),\r\n\t\t\tinvoice,\r\n\t\t\tclientId: clientId._id,\r\n\t\t\tclientName: clientId.clientName,\r\n\t\t\tinputProducts: products.map((val) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tproductId: val.productId._id,\r\n\t\t\t\t\tproductName: val.productId.productName,\r\n\t\t\t\t\tquantity: val.quantity,\r\n\t\t\t\t\tsellingPrice: val.sellingPrice,\r\n\t\t\t\t\tvalue: val.value,\r\n\t\t\t\t\toldProductId: val.productId._id,\r\n\t\t\t\t\toldQuantity: val.quantity\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t\tediting: true,\r\n\t\t\toptions: false,\r\n\t\t\tgetSal: false\r\n\t\t});\r\n\t};\r\n\tvalidateClient = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ clientList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ clientList: false });\r\n\t};\r\n\tgetClientFields = (clientId, clientName) => {\r\n\t\tthis.setState({\r\n\t\t\tclientId,\r\n\t\t\tclientName,\r\n\t\t\tclientList: false\r\n\t\t});\r\n\t};\r\n\tvalidateProduct = (ev, ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tif (ev.keyCode === 13) inputProducts[ind].productList = true;\r\n\t\tif (ev.keyCode === 27) inputProducts[ind].productList = false;\r\n\t\tthis.setState({ ind, inputProducts });\r\n\t};\r\n\tgetProductFields = (id, name) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tinputProducts.forEach((val, i) => {\r\n\t\t\tif (i !== ind) {\r\n\t\t\t\tif (val.productName === name)\r\n\t\t\t\t\treturn this.props.onSnackHandler(true, `can't enter same product (${name}) again`);\r\n\t\t\t}\r\n\t\t});\r\n\t\tinputProducts[ind].productId = id;\r\n\t\tinputProducts[ind].productName = name;\r\n\t\tinputProducts[ind].productList = false;\r\n\t\tthis.setState({ inputProducts });\r\n\t};\r\n\tcheckStock = () => {\r\n\t\tconst { purchases, sales, products } = this.props.store;\r\n\t\tconst stockSum = {};\r\n\t\tproducts.forEach((x) => (stockSum[x._id] = 0));\r\n\t\tpurchases.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] += y.quantity)));\r\n\t\tsales.forEach((x) => x.products.forEach((y) => (stockSum[y.productId._id] -= y.quantity)));\r\n\t\treturn stockSum;\r\n\t};\r\n\tcheckQty = (ind) => {\r\n\t\tconst inputProducts = [ ...this.state.inputProducts ];\r\n\t\tconst products = this.props.store.products;\r\n\t\tconst stock = this.checkStock();\r\n\t\tif (this.state.editing) {\r\n\t\t\tif (inputProducts[ind].oldProductId) {\r\n\t\t\t\tif (inputProducts[ind].oldProductId === inputProducts[ind].productId) {\r\n\t\t\t\t\tconst qty =\r\n\t\t\t\t\t\t+stock[inputProducts[ind].oldProductId] +\r\n\t\t\t\t\t\t+inputProducts[ind].oldQuantity -\r\n\t\t\t\t\t\t+inputProducts[ind].quantity;\r\n\t\t\t\t\tif (qty < 0) {\r\n\t\t\t\t\t\tconst { productName } = products.find((x) => x._id === inputProducts[ind].oldProductId);\r\n\t\t\t\t\t\tinputProducts[ind].err = `${productName} will be negative by ${qty}`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({ inputProducts });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst qty = stock[inputProducts[ind].productId] - +inputProducts[ind].quantity;\r\n\t\t\tconst { purchases } = this.props.store;\r\n\t\t\tif (qty < 0) {\r\n\t\t\t\tinputProducts[ind].err = `${inputProducts[ind].productName} will be negative by ${qty}`;\r\n\t\t\t\tlet isMatched = { match: false };\r\n\t\t\t\tpurchases.forEach((x) => {\r\n\t\t\t\t\tx.products.forEach((y) => {\r\n\t\t\t\t\t\tif (y.productId._id === inputProducts[ind].productId) {\r\n\t\t\t\t\t\t\tisMatched.match = true;\r\n\t\t\t\t\t\t\tisMatched.sellingPrice = y.sellingPrice;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tif (isMatched.match) inputProducts[ind].sellingPrice = isMatched.sellingPrice;\r\n\t\t\t\telse inputProducts[ind].sellingPrice = 0;\r\n\t\t\t} else {\r\n\t\t\t\tinputProducts[ind].err = false;\r\n\t\t\t\tpurchases.forEach((x) => {\r\n\t\t\t\t\tx.products.forEach((y) => {\r\n\t\t\t\t\t\tif (y.productId._id === inputProducts[ind].productId) {\r\n\t\t\t\t\t\t\tinputProducts[ind].sellingPrice = y.sellingPrice;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.setState({ inputProducts });\r\n\t\t}\r\n\t};\r\n\trender() {\r\n\t\tconst { date, invoice, clientName, inputProducts, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Sale Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Invoice\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupClient\r\n\t\t\t\t\t\tclientName={clientName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateClient={this.validateClient}\r\n\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\tgetClientFields={this.getClientFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Product</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Quantity</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Selling</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Value</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{inputProducts.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupProduct\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetProductFields={this.getProductFields}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproductName={row.productName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputProducts={inputProducts}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={this.handleChangeTab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateProduct={this.validateProduct}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.checkQty(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"sellingPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.sellingPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.calcValue(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.err)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.err && row.err}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(row.value).toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.quantity), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{inputProducts\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.value), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetSal={this.state.getSal}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetSaleFields={this.getSaleFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deleteSale}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tsaleSave: (data) => dispatch(actions.saleSave(data)),\r\n\t\tupdateSale: (data) => dispatch(actions.updateSale(data)),\r\n\t\tgetSale: () => dispatch(actions.getSale()),\r\n\t\tdeleteSale: (id) => dispatch(actions.deleteSale(id)),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Sale));\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tsearch: ''\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst { getPaymentFields, onDelete, store } = this.props;\r\n\t\tconst search = this.state.search.toLowerCase();\r\n\t\tconst payments = store.payments.filter((val) => val.refNo.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{payments.length ? (\r\n\t\t\t\t\tpayments.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getPaymentFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Reference: {val.refNo}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Vendor: {val.vendorId.vendorName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getEntry, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type reference #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getEntry && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);","import React, { Component } from 'react';\r\nimport { Paper, TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupInvoices extends Component {\r\n\trenderSearchBlockProduct = () => {\r\n\t\tconst { invoice, vendorId, getInvoiceField, editing, store } = this.props;\r\n\t\tconst search = invoice.toLowerCase();\r\n\t\tconst allBills = store.purchases\r\n\t\t\t.filter((val) => val.vendorId._id === vendorId)\r\n\t\t\t.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\tconst payments = store.payments.filter((x) => x.vendorId._id === vendorId);\r\n\t\tlet bills = [];\r\n\t\tconst realized = { bill: 0, pay: 0, refId: '' };\r\n\t\tpayments.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.pay += +y.pay;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tif (!editing) {\r\n\t\t\tallBills.forEach((z) => {\r\n\t\t\t\tif (z.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.bill = z.products.reduce((acc, cur) => acc + cur.value, 0);\r\n\t\t\t\t\tif (realized.bill > realized.pay) {\r\n\t\t\t\t\t\tbills.push(z);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tbills = allBills;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{bills.length ? (\r\n\t\t\t\t\tbills.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={() => getInvoiceField(val)}>\r\n\t\t\t\t\t\t\t\t\t\t{val.invoice}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\tAmount: {val.products.reduce((acc, cur) => acc + +cur.value, 0).toLocaleString()}/-\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { invoice, ind, detail, handleChangeTab, validateInvoice, vendorList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\tonChange={(ev) => handleChangeTab(ev, ind)}\r\n\t\t\t\t\tonKeyDown={(ev) => validateInvoice(ev, ind)}\r\n\t\t\t\t/>\r\n\t\t\t\t{!vendorList && detail.detailList && this.renderSearchBlockProduct()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupInvoices);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupVendor from '../popup-vendor';\r\nimport actions from '../../../store/actions';\r\nimport PopupInvoices from './popup-invoices';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t},\r\n\tselectControl: {\r\n\t\tminWidth: 100\r\n\t}\r\n});\r\n\r\nconst getNowDate = () => {\r\n\tconst x = new Date();\r\n\tlet date = '2019-';\r\n\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\treturn date;\r\n};\r\n\r\nclass Payment extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tvendorList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getRefNo();\r\n\t\tchannel.bind('payments', () => {\r\n\t\t\tthis.props.getPayment();\r\n\t\t});\r\n\t\tchannel.bind('purchases', () => {\r\n\t\t\tthis.props.getPurchase();\r\n\t\t});\r\n\t\tchannel.bind('vendors', () => {\r\n\t\t\tthis.props.getVendor();\r\n\t\t});\r\n\t};\r\n\tstatic getDerivedStateFromProps = (nextProps, prevState) => {\r\n\t\tconst { payments } = nextProps.store;\r\n\t\tconst date = getNowDate();\r\n\t\tif (payments.length && !prevState.editing) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in payments) {\r\n\t\t\t\tarr.push(payments[key].refNo);\r\n\t\t\t}\r\n\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\tif (refNo !== prevState.refNo) return { refNo, date };\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tgetRefNo = () => {\r\n\t\tconst { payments } = this.props.store;\r\n\t\tconst date = getNowDate();\r\n\t\tif (payments.length) {\r\n\t\t\tconst arr = [];\r\n\t\t\tfor (let key in payments) {\r\n\t\t\t\tarr.push(payments[key].refNo);\r\n\t\t\t}\r\n\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\treturn this.setState({ refNo, date });\r\n\t\t}\r\n\t\treturn this.setState({ refNo: 1, date });\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tdetails[ind][name] = value;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, refNo, vendorId, details, editing } = this.state;\r\n\t\tif (!editing) {\r\n\t\t\tthis.props.paymentSave({ date, refNo, vendorId, details });\r\n\t\t} else {\r\n\t\t\tthis.props.updatePayment({ _id, date, refNo, vendorId, details });\r\n\t\t}\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tvendorId: '',\r\n\t\t\tvendorName: '',\r\n\t\t\tvendorList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst isFilled = [];\r\n\t\tdetails.forEach((x) => {\r\n\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t});\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tdetails.push({\r\n\t\t\t\tinvoice: '',\r\n\t\t\t\tbalance: '0',\r\n\t\t\t\tpay: '0',\r\n\t\t\t\tdescription: '',\r\n\t\t\t\tdetailList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ details });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row first');\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details.length > 1) {\r\n\t\t\tfor (let i = 0; i < details.length; i++) {\r\n\t\t\t\tdetails[i].detailList = false;\r\n\t\t\t}\r\n\t\t\tdetails.splice(ind, 1);\r\n\t\t\tthis.setState({ details });\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdetails: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\t\tpay: '0',\r\n\t\t\t\t\t\tdescription: '',\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getEntry: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getEntry: false });\r\n\t};\r\n\tvalidateVendor = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ vendorList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ vendorList: false });\r\n\t};\r\n\tgetVendorFields = (vendorId, vendorName) => {\r\n\t\tthis.setState({\r\n\t\t\tvendorId,\r\n\t\t\tvendorName,\r\n\t\t\tvendorList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\tvalidateInvoice = (ev, ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (ev.keyCode === 13) details[ind].detailList = true;\r\n\t\tif (ev.keyCode === 27) details[ind].detailList = false;\r\n\t\tthis.setState({ ind, details });\r\n\t};\r\n\tgetInvoiceField = (value) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tconst count = { record: 0 };\r\n\t\tdetails[ind].invoice = value.invoice;\r\n\t\tdetails.forEach((val) => {\r\n\t\t\tif (val.invoice === value.invoice) {\r\n\t\t\t\tcount.record++;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (count.record > 1) return this.props.onSnackHandler(true, \"can't enter same product\");\r\n\t\tdetails[ind].purchaseId = value._id;\r\n\t\tdetails[ind].detailList = false;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tgetBalance = (value) => {\r\n\t\tconst payments = this.props.store.payments;\r\n\t\tconst amounts = { invoiceValue: 0, realized: [] };\r\n\t\tamounts.invoiceValue = value.products.reduce((acc, cur) => acc + +cur.value, 0);\r\n\t\tpayments.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice === value.invoice) {\r\n\t\t\t\t\tamounts.realized.push(y);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tamounts.realized = amounts.realized.reduce((acc, cur) => acc + +cur.pay, 0);\r\n\t\treturn amounts;\r\n\t};\r\n\tgetPaymentFields = (id) => {\r\n\t\tif (id) {\r\n\t\t\tconst payment = this.props.store.payments.find((val) => val._id === id);\r\n\t\t\tconst { _id, date, refNo, vendorId, details } = payment;\r\n\t\t\tthis.setState({\r\n\t\t\t\t_id,\r\n\t\t\t\tdate: date.slice(0, 10),\r\n\t\t\t\trefNo,\r\n\t\t\t\toldVendorId: vendorId._id,\r\n\t\t\t\tvendorId: vendorId._id,\r\n\t\t\t\tvendorName: vendorId.vendorName,\r\n\t\t\t\tdetails: details.map((val) => {\r\n\t\t\t\t\tconst { purchaseId, invoice, pay, description } = val;\r\n\t\t\t\t\tconst value = this.props.store.purchases.find((x) => x.invoice === invoice);\r\n\t\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tpurchaseId,\r\n\t\t\t\t\t\tinvoice,\r\n\t\t\t\t\t\tbalance: +amounts.invoiceValue - +amounts.realized + +pay,\r\n\t\t\t\t\t\tpay,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t\tediting: true,\r\n\t\t\t\tgetEntry: false,\r\n\t\t\t\toptions: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidatePayment = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (!this.state.editing) {\r\n\t\t\tif (details[ind].purchaseId) {\r\n\t\t\t\tconst search = details[ind].invoice;\r\n\t\t\t\tconst value = this.props.store.purchases.find((x) => x.invoice === search);\r\n\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst search = details[ind].invoice;\r\n\t\t\tconst value = this.props.store.purchases.find((x) => x.invoice === search);\r\n\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\tconst oldDetails = this.props.store.payments\r\n\t\t\t\t.find((x) => x.refNo === this.state.refNo)\r\n\t\t\t\t.details.find((x) => x.invoice === value.invoice);\r\n\t\t\tif (oldDetails) {\r\n\t\t\t\tif (oldDetails.purchaseId === details[ind].purchaseId) {\r\n\t\t\t\t\tdetails[ind].pay = oldDetails.pay;\r\n\t\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized + +oldDetails.pay;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tbalanceCheck = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details[ind].pay > details[ind].balance) {\r\n\t\t\tdetails[ind].balanceDesc = `Balance will be negative by ${details[ind].balance - details[ind].pay}`;\r\n\t\t} else {\r\n\t\t\tdetails[ind].balanceDesc = false;\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\trender() {\r\n\t\tconst { date, refNo, vendorName, details, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Payment Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Ref #\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"refNo\"\r\n\t\t\t\t\t\tvalue={refNo}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupVendor\r\n\t\t\t\t\t\tvendorName={vendorName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateVendor={this.validateVendor}\r\n\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\tgetVendorFields={this.getVendorFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Invoice</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Balance</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Amount</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Description</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{details.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupInvoices\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice={row.invoice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvendorId={this.state.vendorId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdetail={row}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvendorList={this.state.vendorList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateInvoice={(ev) => this.validateInvoice(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetInvoiceField={this.getInvoiceField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tediting={editing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.balanceDesc)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.balanceDesc && row.balanceDesc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"balance\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pay\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.pay}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.balanceCheck(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.validatePayment(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{details\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.pay), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetEntry={this.state.getEntry}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetPaymentFields={this.getPaymentFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deletePayment}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetVendor: () => dispatch(actions.getVendor()),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase()),\r\n\t\tpaymentSave: (data) => dispatch(actions.paymentSave(data)),\r\n\t\tgetPayment: () => dispatch(actions.getPayment()),\r\n\t\tupdatePayment: (data) => dispatch(actions.updatePayment(data)),\r\n\t\tdeletePayment: (id) => dispatch(actions.deletePayment(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Payment));\r\n","import React, { Component } from 'react';\r\nimport { TextField, Paper, Fab, Icon } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Search extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsearch: '',\r\n\t\t};\r\n\t}\r\n\trenderSearchBlock = () => {\r\n\t\tconst search = this.state.search;\r\n\t\tconst { getRecoveryFields, onDelete, store } = this.props;\r\n\t\tconst recoveries = store.recoveries.filter((val) => val.refNo.toLowerCase().indexOf(search) !== -1);\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{recoveries.length ? (\r\n\t\t\t\t\trecoveries.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => getRecoveryFields(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>edit_icon</Icon>\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(val._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Reference: {val.refNo}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Client: {val.clientId.clientName}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { options, getEntry, validateSearch } = this.props;\r\n\t\tconst { search } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"simple-flex\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\tlabel=\"Type reference #\"\r\n\t\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={validateSearch}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{options && getEntry && this.renderSearchBlock()}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Search);\r\n","import React, { Component } from 'react';\r\nimport { Paper, TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PopupInvoices extends Component {\r\n\trenderSearchBlockProduct = () => {\r\n\t\tconst { invoice, clientId, getInvoiceField, editing, store } = this.props;\r\n\t\tconst search = invoice.toLowerCase();\r\n\t\tconst allBills = store.sales\r\n\t\t\t.filter((val) => val.clientId._id === clientId)\r\n\t\t\t.filter((val) => val.invoice.toLowerCase().indexOf(search) !== -1);\r\n\t\tconst recoveries = store.recoveries.filter((x) => x.clientId._id === clientId);\r\n\t\tlet bills = [];\r\n\t\tconst realized = { bill: 0, pay: 0, refId: '' };\r\n\t\trecoveries.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.pay += +y.pay;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tif (!editing) {\r\n\t\t\tallBills.forEach((z) => {\r\n\t\t\t\tif (z.invoice.toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\trealized.bill = z.products.reduce((acc, cur) => acc + cur.value, 0);\r\n\t\t\t\t\tif (realized.bill > realized.pay) {\r\n\t\t\t\t\t\tbills.push(z);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tbills = allBills;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Paper elevation={24} className=\"popout-block\">\r\n\t\t\t\t{bills.length ? (\r\n\t\t\t\t\tbills.map((val, ind) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ul className=\"list-group\" key={ind}>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" onClick={() => getInvoiceField(val)}>\r\n\t\t\t\t\t\t\t\t\t\t{val.invoice}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Date: {val.date.slice(0, 10)}</li>\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\t\t\t\t\t\tAmount: {val.products.reduce((acc, cur) => acc + +cur.value, 0).toLocaleString()}/-\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4 className=\"simple-flex\">Empty</h4>\r\n\t\t\t\t)}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { invoice, ind, detail, handleChangeTab, validateInvoice, clientList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tname=\"invoice\"\r\n\t\t\t\t\tvalue={invoice}\r\n\t\t\t\t\tonChange={(ev) => handleChangeTab(ev, ind)}\r\n\t\t\t\t\tonKeyDown={(ev) => validateInvoice(ev, ind)}\r\n\t\t\t\t/>\r\n\t\t\t\t{!clientList && detail.detailList && this.renderSearchBlockProduct()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(PopupInvoices);\r\n","import React, { Component } from 'react';\r\nimport {\r\n\twithStyles,\r\n\tPaper,\r\n\tTypography,\r\n\tTextField,\r\n\tFab,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableFooter,\r\n\tTableCell\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux';\r\n\r\nimport channel from '../../../config';\r\nimport Search from './search';\r\nimport PopupClient from '../popup-client';\r\nimport actions from '../../../store/actions';\r\nimport PopupInvoices from './popup-invoices';\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n\thead: {\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t\tcolor: theme.palette.common.white,\r\n\t\ttextAlign: 'center',\r\n\t\tpadding: 5\r\n\t},\r\n\tbody: {\r\n\t\tfontSize: 13,\r\n\t\tpadding: 5\r\n\t},\r\n\tfooter: {\r\n\t\tfontSize: 16,\r\n\t\tpadding: 5\r\n\t}\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t\tpadding: 5,\r\n\t\tmarginTop: theme.spacing.unit,\r\n\t\toverflowX: 'auto'\r\n\t},\r\n\ttable: {\r\n\t\tminWidth: 'fit-content'\r\n\t},\r\n\trow: {\r\n\t\t'&:nth-of-type(odd)': {\r\n\t\t\tbackgroundColor: theme.palette.background.default\r\n\t\t}\r\n\t},\r\n\tfab: {\r\n\t\tmargin: theme.spacing.unit\r\n\t},\r\n\tformControl: {\r\n\t\tminWidth: 200\r\n\t},\r\n\tselectControl: {\r\n\t\tminWidth: 100\r\n\t}\r\n});\r\n\r\nclass Recovery extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tclientList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tthis.getRefNo();\r\n\t\tchannel.bind('recoveries', () => {\r\n\t\t\tthis.props.getRecovery();\r\n\t\t});\r\n\t\tchannel.bind('sales', () => {\r\n\t\t\tthis.props.getSale();\r\n\t\t});\r\n\t\tchannel.bind('clients', () => {\r\n\t\t\tthis.props.getClient();\r\n\t\t});\r\n\t};\r\n\tstatic getDerivedStateFromProps = (nextProps, prevState) => {\r\n\t\tconst { recoveries } = nextProps.store;\r\n\t\tif (recoveries) {\r\n\t\t\tif (recoveries.length && !prevState.editing) {\r\n\t\t\t\tconst arr = [];\r\n\t\t\t\tfor (let key in recoveries) {\r\n\t\t\t\t\tarr.push(recoveries[key].refNo);\r\n\t\t\t\t}\r\n\t\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\t\tif (refNo !== prevState.refNo) return { refNo };\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tgetRefNo = () => {\r\n\t\tconst x = new Date();\r\n\t\tlet date = '2019-';\r\n\t\tdate += x.getMonth() < 9 ? '0' + (x.getMonth() + 1) + '-' : x.getMonth() + '-';\r\n\t\tdate += x.getDate() < 10 ? '0' + (x.getDate() + 1) : x.getDate();\r\n\t\tconst { recoveries } = this.props.store;\r\n\t\tif (recoveries) {\r\n\t\t\tif (recoveries.length) {\r\n\t\t\t\tconst arr = [];\r\n\t\t\t\tfor (let key in recoveries) {\r\n\t\t\t\t\tarr.push(recoveries[key].refNo);\r\n\t\t\t\t}\r\n\t\t\t\tconst refNo = Math.max(...arr) + 1;\r\n\t\t\t\treturn this.setState({ refNo, date });\r\n\t\t\t}\r\n\t\t\treturn this.setState({ refNo: 1, date });\r\n\t\t}\r\n\t\treturn this.setState({ refNo: 1, date });\r\n\t};\r\n\thandleChange = (ev) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t};\r\n\thandleChangeTab = (ev, ind) => {\r\n\t\tconst { name, value } = ev.target;\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tdetails[ind][name] = value;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tonSaveHandler = () => {\r\n\t\tconst { _id, date, refNo, clientId, details, editing } = this.state;\r\n\t\tif (!editing) {\r\n\t\t\tthis.props.recoverySave({ date, refNo, clientId, details });\r\n\t\t} else {\r\n\t\t\tthis.props.updateRecovery({ _id, date, refNo, clientId, details });\r\n\t\t}\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonBrowseHandler = () => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\toptions: !state.options\r\n\t\t}));\r\n\t};\r\n\tonClearHandler = () => {\r\n\t\tthis.setState({\r\n\t\t\tediting: false,\r\n\t\t\t_id: '',\r\n\t\t\tdate: '',\r\n\t\t\trefNo: '',\r\n\t\t\tclientId: '',\r\n\t\t\tclientName: '',\r\n\t\t\tclientList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tsearch: '',\r\n\t\t\toptions: false,\r\n\t\t\tgetEntry: false\r\n\t\t});\r\n\t\tthis.getRefNo();\r\n\t};\r\n\tonAddRow = () => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst isFilled = [];\r\n\t\tdetails.forEach((x) => {\r\n\t\t\tisFilled.push(Object.values(x).every((y) => y === false || Boolean(y)));\r\n\t\t});\r\n\t\tif (isFilled.every((val) => Boolean(val))) {\r\n\t\t\tdetails.push({\r\n\t\t\t\tinvoice: '',\r\n\t\t\t\tbalance: '0',\r\n\t\t\t\tpay: '0',\r\n\t\t\t\tdescription: '',\r\n\t\t\t\tdetailList: false\r\n\t\t\t});\r\n\t\t\treturn this.setState({ details });\r\n\t\t}\r\n\t\treturn this.props.onSnackHandler(true, 'Please fill previous row first');\r\n\t};\r\n\tonRemoveRow = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details.length > 1) {\r\n\t\t\tfor (let i = 0; i < details.length; i++) {\r\n\t\t\t\tdetails[i].detailList = false;\r\n\t\t\t}\r\n\t\t\tdetails.splice(ind, 1);\r\n\t\t\tthis.setState({ details });\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdetails: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\t\tpay: '0',\r\n\t\t\t\t\t\tdescription: '',\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSearch = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ getEntry: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ getEntry: false });\r\n\t};\r\n\tvalidateClient = (ev) => {\r\n\t\tif (ev.keyCode === 13) return this.setState({ clientList: true });\r\n\t\tif (ev.keyCode === 27) return this.setState({ clientList: false });\r\n\t};\r\n\tgetClientFields = (clientId, clientName) => {\r\n\t\tthis.setState({\r\n\t\t\tclientId,\r\n\t\t\tclientName,\r\n\t\t\tclientList: false,\r\n\t\t\tdetails: [\r\n\t\t\t\t{\r\n\t\t\t\t\tinvoice: '',\r\n\t\t\t\t\tbalance: '0',\r\n\t\t\t\t\tpay: '0',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tdetailList: false\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t};\r\n\tvalidateInvoice = (ev, ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (ev.keyCode === 13) details[ind].detailList = true;\r\n\t\tif (ev.keyCode === 27) details[ind].detailList = false;\r\n\t\tthis.setState({ ind, details });\r\n\t};\r\n\tgetInvoiceField = (value) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tconst ind = this.state.ind;\r\n\t\tconst count = { record: 0 };\r\n\t\tdetails[ind].invoice = value.invoice;\r\n\t\tdetails.forEach((val) => {\r\n\t\t\tif (val.invoice === value.invoice) {\r\n\t\t\t\tcount.record++;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (count.record > 1) return this.props.onSnackHandler(true, \"can't enter same product\");\r\n\t\tdetails[ind].saleId = value._id;\r\n\t\tdetails[ind].detailList = false;\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tgetBalance = (value) => {\r\n\t\tconst { recoveries } = this.props.store;\r\n\t\tconst amounts = { invoiceValue: 0, realized: [] };\r\n\t\tamounts.invoiceValue = value.products.reduce((acc, cur) => acc + +cur.value, 0);\r\n\t\trecoveries.forEach((x) => {\r\n\t\t\tx.details.forEach((y) => {\r\n\t\t\t\tif (y.invoice === value.invoice) {\r\n\t\t\t\t\tamounts.realized.push(y);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tamounts.realized = amounts.realized.reduce((acc, cur) => acc + +cur.pay, 0);\r\n\t\treturn amounts;\r\n\t};\r\n\tgetRecoveryFields = (id) => {\r\n\t\tif (id) {\r\n\t\t\tconst recovery = this.props.store.recoveries.find((val) => val._id === id);\r\n\t\t\tconst { _id, date, refNo, clientId, details } = recovery;\r\n\t\t\tthis.setState({\r\n\t\t\t\t_id,\r\n\t\t\t\tdate: date.slice(0, 10),\r\n\t\t\t\trefNo,\r\n\t\t\t\toldClient: clientId._id,\r\n\t\t\t\tclientId: clientId._id,\r\n\t\t\t\tclientName: clientId.clientName,\r\n\t\t\t\tdetails: details.map((val) => {\r\n\t\t\t\t\tconst { saleId, invoice, pay, description } = val;\r\n\t\t\t\t\tconst value = this.props.store.sales.find((x) => x.invoice === invoice);\r\n\t\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tsaleId,\r\n\t\t\t\t\t\tinvoice,\r\n\t\t\t\t\t\tbalance: +amounts.invoiceValue - +amounts.realized + +pay,\r\n\t\t\t\t\t\tpay,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tdetailList: false\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t\tediting: true,\r\n\t\t\t\tgetEntry: false,\r\n\t\t\t\toptions: false\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\tvalidateSale = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (!this.state.editing) {\r\n\t\t\tif (details[ind].saleId) {\r\n\t\t\t\tconst search = details[ind].invoice;\r\n\t\t\t\tconst value = this.props.store.sales.find((x) => x.invoice === search);\r\n\t\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst search = details[ind].invoice;\r\n\t\t\tconst value = this.props.store.sales.find((x) => x.invoice === search);\r\n\t\t\tconst amounts = this.getBalance(value);\r\n\t\t\tconst oldDetails = this.props.store.recoveries\r\n\t\t\t\t.find((x) => x.refNo === this.state.refNo)\r\n\t\t\t\t.details.find((x) => x.invoice === value.invoice);\r\n\t\t\tif (oldDetails) {\r\n\t\t\t\tif (oldDetails.saleId === details[ind].saleId) {\r\n\t\t\t\t\tdetails[ind].pay = oldDetails.pay;\r\n\t\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized + +oldDetails.pay;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdetails[ind].balance = +amounts.invoiceValue - +amounts.realized;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\tbalanceCheck = (ind) => {\r\n\t\tconst details = [ ...this.state.details ];\r\n\t\tif (details[ind].pay > details[ind].balance) {\r\n\t\t\tdetails[ind].balanceDesc = `Balance will be negative by ${details[ind].balance - details[ind].pay}`;\r\n\t\t} else {\r\n\t\t\tdetails[ind].balanceDesc = false;\r\n\t\t}\r\n\t\tthis.setState({ details });\r\n\t};\r\n\trender() {\r\n\t\tconst { date, refNo, clientName, details, editing } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper elevation={24} className=\"pb-form\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tchildren=\"Recovery Form\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tgutterBottom={true}\r\n\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\tlabel=\"Ref #\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tname=\"refNo\"\r\n\t\t\t\t\t\tvalue={refNo}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PopupClient\r\n\t\t\t\t\t\tclientName={clientName}\r\n\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\tvalidateClient={this.validateClient}\r\n\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\tgetClientFields={this.getClientFields}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs-12\">\r\n\t\t\t\t\t\t\t<Table className={classes.table}>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Invoice</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Balance</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Amount</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Description</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{details.map((row, ind) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow className={classes.row} key={ind}>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PopupInvoices\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice={row.invoice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientId={this.state.clientId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tind={ind}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdetail={row}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientList={this.state.clientList}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleChangeTab={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateInvoice={(ev) => this.validateInvoice(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetInvoiceField={this.getInvoiceField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tediting={editing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={Boolean(row.balanceDesc)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={row.balanceDesc && row.balanceDesc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"balance\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pay\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.pay}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.balanceCheck(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.validateSale(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeTab(ev, ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<CustomTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: 3\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onRemoveRow(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fab>\r\n\t\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t<TableFooter>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classes.row}>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>Total</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{details\r\n\t\t\t\t\t\t\t\t\t\t\t\t.reduce((sum, val) => parseInt(sum) + parseInt(val.pay), 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.toLocaleString()}\r\n\t\t\t\t\t\t\t\t\t\t</CustomTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t\t<CustomTableCell />\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Fab size=\"small\" color=\"primary\" aria-label=\"Add\" onClick={this.onAddRow}>\r\n\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t<div className=\"buttons-group\">\r\n\t\t\t\t\t\t<div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={editing ? 'btn btn-secondary' : 'btn btn-primary'}\r\n\t\t\t\t\t\t\t\tonClick={this.onSaveHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{editing ? 'Update' : 'Save'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.onBrowseHandler}>\r\n\t\t\t\t\t\t\t\tBrowse\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.onClearHandler}>\r\n\t\t\t\t\t\t\t\tClear\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.options && (\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\toptions={this.state.options}\r\n\t\t\t\t\t\t\tgetEntry={this.state.getEntry}\r\n\t\t\t\t\t\t\tvalidateSearch={this.validateSearch}\r\n\t\t\t\t\t\t\tgetRecoveryFields={this.getRecoveryFields}\r\n\t\t\t\t\t\t\tonDelete={this.props.deleteRecovery}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message })),\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tgetSale: () => dispatch(actions.getSale()),\r\n\t\trecoverySave: (data) => dispatch(actions.recoverySave(data)),\r\n\t\tgetRecovery: () => dispatch(actions.getRecovery()),\r\n\t\tupdateRecovery: (data) => dispatch(actions.updateRecovery(data)),\r\n\t\tdeleteRecovery: (id) => dispatch(actions.deleteRecovery(id))\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Recovery));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport Header from './header';\r\nimport Product from './dashboard/product/product';\r\nimport Vendor from './dashboard/vendor/vendor';\r\nimport Client from './dashboard/client/client';\r\nimport Purchase from './dashboard/purchase/purchase';\r\nimport Sale from './dashboard/sale/sale';\r\nimport Payment from './dashboard/payment/payment';\r\nimport Recovery from './dashboard/recovery/recovery';\r\nimport actions from '../store/actions';\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/dashboard/product',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Product {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/vendor',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Vendor {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/client',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Client {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/purchase',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Purchase {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/sale',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Sale {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/payment',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Payment {...props} />\r\n\t},\r\n\t{\r\n\t\tpath: '/dashboard/recovery',\r\n\t\texact: true,\r\n\t\tmain: (props) => <Recovery {...props} />\r\n\t}\r\n];\r\n\r\nclass Dashboard extends Component {\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.store.profile.email) return this.props.history.push('/');\r\n\t\tthis.props.getClient();\r\n\t\tthis.props.getPayment();\r\n\t\tthis.props.getRecovery();\r\n\t\tthis.props.getProduct();\r\n\t\tthis.props.getPurchase();\r\n\t\tthis.props.getSale();\r\n\t\tthis.props.getVendor();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t</header>\r\n\t\t\t\t<section className=\"container\">\r\n\t\t\t\t\t{routes.map((val, ind) => {\r\n\t\t\t\t\t\treturn <Route key={ind} path={val.path} exact={val.exact} component={val.main} />;\r\n\t\t\t\t\t})}\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (store) => {\r\n\treturn { store };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tgetClient: () => dispatch(actions.getClient()),\r\n\t\tgetPayment: () => dispatch(actions.getPayment()),\r\n\t\tgetRecovery: () => dispatch(actions.getRecovery()),\r\n\t\tgetProduct: () => dispatch(actions.getProduct()),\r\n\t\tgetPurchase: () => dispatch(actions.getPurchase()),\r\n\t\tgetSale: () => dispatch(actions.getSale()),\r\n\t\tgetVendor: () => dispatch(actions.getVendor())\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import React, { Component } from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { connect } from 'react-redux';\r\n\r\nimport actions from '../store/actions';\r\n\r\nclass PositionedSnackbar extends Component {\r\n    state = {\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n    };\r\n\r\n    render() {\r\n        const { vertical, horizontal } = this.state;\r\n        const { isSnackOpen, snackMessage } = this.props.store;\r\n        return (\r\n            <div>\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical, horizontal }}\r\n                    open={isSnackOpen}\r\n                    autoHideDuration={3000}\r\n                    onClose={() => this.props.onSnackHandler(false, '')}\r\n                    ContentProps={{\r\n                        'aria-describedby': 'message-id',\r\n                    }}\r\n                    message={<span id=\"message-id\">{snackMessage}</span>}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onSnackHandler: (snack, message) => dispatch(actions.onSnackHandler({ snack, message }))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PositionedSnackbar);","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport SignIn from './components/login/signin';\r\nimport SignUp from './components/login/signup';\r\nimport Dashboard from './components/dashboard';\r\nimport PositionedSnackbar from './components/snackbar';\r\n\r\nimport actions from './store/actions';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    if (!this.props.store.profile.email) return this.props.isLoggedIn();\r\n  }\r\n  render() {\r\n    if (this.props.store.isLoading) return (\r\n      <div className='loader-container'>\r\n        <CircularProgress\r\n          color='secondary'\r\n        />\r\n      </div>\r\n    );\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Route path='/' exact component={SignIn} />\r\n          <Route path='/signup' exact component={SignUp} />\r\n          <Route path='/dashboard' component={Dashboard} />\r\n          <PositionedSnackbar />\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return { store }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    isLoggedIn: () => dispatch(actions.isLoggedIn()),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport store from './store';\r\nimport App from './App';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}