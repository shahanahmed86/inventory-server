(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{238:function(e,t,n){e.exports=n(379)},378:function(e,t,n){},379:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(30),i=n.n(o),c=n(8),l=n(50),s=n(382),u=n(11),d={ONSNACK:"ONSNACK",ONDIALOG:"ONDIALOG",ONLOADER:"ONLOADER",SIGNUP:"SIGNUP",SIGNUPACCESS:"SIGNUPACCESS",SIGNIN:"SIGNIN",SIGNINSUCCESS:"SIGNINSUCCESS",SIGNINFAILURE:"SIGNINFAILURE",SIGNOUT:"SIGNOUT",SIGNOUTSUCCESS:"SIGNOUTSUCCESS",SIGNOUTFAILURE:"SIGNOUTFAILURE",ISLOGGEDIN:"ISLOGGEDIN",ISLOGGEDINSUCCESS:"ISLOGGEDINSUCCESS",ISLOGGEDINFAILURE:"ISLOGGEDINFAILURE",PRODUCTSAVE:"PRODUCTSAVE",PRODUCTSAVESUCCESS:"PRODUCTSAVESUCCESS",PRODUCTSAVEFAILURE:"PRODUCTSAVEFAILURE",GETPRODUCT:"GETPRODUCT",GETPRODUCTSUCCESS:"GETPRODUCTSUCCESS",GETPRODUCTFAILURE:"GETPRODUCTFAILURE",UPDATEPRODUCT:"UPDATEPRODUCT",UPDATEPRODUCTSUCCESS:"UPDATEPRODUCTSUCCESS",UPDATEPRODUCTFAILURE:"UPDATEPRODUCTFAILURE",DELETEPRODUCT:"DELETEPRODUCT",DELETEPRODUCTSUCCESS:"DELETEPRODUCTSUCCESS",DELETEPRODUCTFAILURE:"DELETEPRODUCTFAILURE",VENDORSAVE:"VENDORSAVE",VENDORSAVESUCCESS:"VENDORSAVESUCCESS",VENDORSAVEFAILURE:"VENDORSAVEFAILURE",GETVENDOR:"GETVENDOR",GETVENDORSUCCESS:"GETVENDORSUCCESS",GETVENDORFAILURE:"GETVENDORFAILURE",UPDATEVENDOR:"UPDATEVENDOR",UPDATEVENDORSUCCESS:"UPDATEVENDORSUCCESS",UPDATEVENDORFAILURE:"UPDATEVENDORFAILURE",DELETEVENDOR:"DELETEVENDOR",DELETEVENDORSUCCESS:"DELETEVENDORSUCCESS",DELETEVENDORFAILURE:"DELETEVENDORFAILURE",CLIENTSAVE:"CLIENTSAVE",CLIENTSAVESUCCESS:"CLIENTSAVESUCCESS",CLIENTSAVEFAILURE:"CLIENTSAVEFAILURE",GETCLIENT:"GETCLIENT",GETCLIENTSUCCESS:"GETCLIENTSUCCESS",GETCLIENTFAILURE:"GETCLIENTFAILURE",UPDATECLIENT:"UPDATECLIENT",UPDATECLIENTSUCCESS:"UPDATECLIENTSUCCESS",UPDATECLIENTFAILURE:"UPDATECLIENTFAILURE",DELETECLIENT:"DELETECLIENT",DELETECLIENTSUCCESS:"DELETECLIENTSUCCESS",DELETECLIENTFAILURE:"DELETECLIENTFAILURE",PURCHASESAVE:"PURCHASESAVE",PURCHASESAVESUCCESS:"PURCHASESAVESUCCESS",PURCHASESAVEFAILURE:"PURCHASESAVEFAILURE",GETPURCHASE:"GETPURCHASE",GETPURCHASESUCCESS:"GETPURCHASESUCCESS",GETPURCHASEFAILURE:"GETPURCHASEFAILURE",UPDATEPURCHASE:"UPDATEPURCHASE",UPDATEPURCHASESUCCESS:"UPDATEPURCHASESUCCESS",UPDATEPURCHASEFAILURE:"UPDATEPURCHASEFAILURE",DELETEPURCHASE:"DELETEPURCHASE",DELETEPURCHASESUCCESS:"DELETEPURCHASESUCCESS",DELETEPURCHASEFAILURE:"DELETEPURCHASEFAILURE",SALESAVE:"SALESAVE",SALESAVESUCCESS:"SALESAVESUCCESS",SALESAVEFAILURE:"SALESAVEFAILURE",GETSALE:"GETSALE",GETSALESUCCESS:"GETSALESUCCESS",GETSALEFAILURE:"GETSALEFAILURE",UPDATESALE:"UPDATESALE",UPDATESALESUCCESS:"UPDATESALESUCCESS",UPDATESALEFAILURE:"UPDATESALEFAILURE",DELETESALE:"DELETESALE",DELETESALESUCCESS:"DELETESALESUCCESS",DELETESALEFAILURE:"DELETESALEFAILURE",PAYMENTSAVE:"PAYMENTSAVE",PAYMENTSAVESUCCESS:"PAYMENTSAVESUCCESS",PAYMENTSAVEFAILURE:"PAYMENTSAVEFAILURE",GETPAYMENT:"GETPAYMENT",GETPAYMENTSUCCESS:"GETPAYMENTSUCCESS",GETPAYMENTFAILURE:"GETPAYMENTFAILURE",UPDATEPAYMENT:"UPDATEPAYMENT",UPDATEPAYMENTSUCCESS:"UPDATEPAYMENTSUCCESS",UPDATEPAYMENTFAILURE:"UPDATEPAYMENTFAILURE",DELETEPAYMENT:"DELETEPAYMENT",DELETEPAYMENTSUCCESS:"DELETEPAYMENTSUCCESS",DELETEPAYMENTFAILURE:"DELETEPAYMENTFAILURE",RECOVERYSAVE:"RECOVERYSAVE",RECOVERYSAVESUCCESS:"RECOVERYSAVESUCCESS",RECOVERYSAVEFAILURE:"RECOVERYSAVEFAILURE",GETRECOVERY:"GETRECOVERY",GETRECOVERYSUCCESS:"GETRECOVERYSUCCESS",GETRECOVERYFAILURE:"GETRECOVERYFAILURE",UPDATERECOVERY:"UPDATERECOVERY",UPDATERECOVERYSUCCESS:"UPDATERECOVERYSUCCESS",UPDATERECOVERYFAILURE:"UPDATERECOVERYFAILURE",DELETERECOVERY:"DELETERECOVERY",DELETERECOVERYSUCCESS:"DELETERECOVERYSUCCESS",DELETERECOVERYFAILURE:"DELETERECOVERYFAILURE"},p={profile:{},products:[],vendors:[],clients:[],purchases:[],sales:[],payments:[],recoveries:[],isLoading:!1,isSnackOpen:!1,snackMessage:"",isDialogOpen:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ONSNACK:return Object(u.a)({},e,{isSnackOpen:t.payload.snack,snackMessage:t.payload.message});case d.ONDIALOG:return Object(u.a)({},e,{isDialogOpen:t.payload});case d.ONLOADER:return Object(u.a)({},e,{isLoading:t.payload});case d.SIGNOUT:return Object(u.a)({},e,{isLoading:!0});case d.SIGNOUTSUCCESS:case d.SIGNOUTFAILURE:return Object(u.a)({},e,{isLoading:!1,isDialogOpen:!1,profile:{},products:[],vendors:[],clients:[]});case d.ISLOGGEDIN:return Object(u.a)({},e,{isLoading:!0});case d.ISLOGGEDINSUCCESS:return Object(u.a)({},e,{isLoading:!1,profile:t.payload});case d.ISLOGGEDINFAILURE:return Object(u.a)({},e,{isLoading:!1});case d.PRODUCTSAVESUCCESS:case d.PRODUCTSAVEFAILURE:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.GETPRODUCTSUCCESS:return Object(u.a)({},e,{products:t.payload});case d.GETPRODUCTFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.UPDATEPRODUCTSUCCESS:case d.UPDATEPRODUCTFAILURE:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.DELETEPRODUCTSUCCESS:case d.DELETEPRODUCTFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.VENDORSAVESUCCESS:case d.VENDORSAVEFAILURE:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.GETVENDORSUCCESS:return Object(u.a)({},e,{vendors:t.payload});case d.GETVENDORFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.UPDATEVENDORSUCCESS:case d.UPDATEVENDORFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.DELETEVENDORSUCCESS:case d.DELETEVENDORFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.CLIENTSAVESUCCESS:case d.CLIENTSAVEFAILURE:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.GETCLIENTSUCCESS:return Object(u.a)({},e,{clients:t.payload});case d.GETCLIENTFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.UPDATECLIENTSUCCESS:case d.UPDATECLIENTFAILURE:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.DELETECLIENTSUCCESS:case d.DELETECLIENTFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.PURCHASESAVESUCCESS:case d.PURCHASESAVEFAILURE:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.GETPURCHASESUCCESS:return Object(u.a)({},e,{purchases:t.payload});case d.GETPURCHASEFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.UPDATEPURCHASESUCCESS:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.UPDATEPURCHASEFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.DELETEPURCHASESUCCESS:case d.DELETEPURCHASEFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.SALESAVESUCCESS:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.SALESAVEFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.GETSALESUCCESS:return Object(u.a)({},e,{sales:t.payload});case d.GETSALEFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.UPDATESALESUCCESS:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.UPDATESALEFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.DELETESALESUCCESS:case d.DELETESALEFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.PAYMENTSAVESUCCESS:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.PAYMENTSAVEFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.GETPAYMENTSUCCESS:return Object(u.a)({},e,{payments:t.payload});case d.GETPAYMENTFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.UPDATEPAYMENTSUCCESS:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.UPDATEPAYMENTFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.DELETEPAYMENTSUCCESS:case d.DELETEPAYMENTFAILURE:case d.RECOVERYSAVESUCCESS:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.RECOVERYSAVEFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.GETRECOVERYSUCCESS:return Object(u.a)({},e,{recoveries:t.payload});case d.GETRECOVERYFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.UPDATERECOVERYSUCCESS:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});case d.UPDATERECOVERYFAILURE:return Object(u.a)({},e,{isSnackOpen:!0,snackMessage:t.payload});case d.DELETERECOVERYSUCCESS:case d.DELETERECOVERYFAILURE:return Object(u.a)({},e,{isLoading:!1,isSnackOpen:!0,snackMessage:t.payload});default:return Object(u.a)({},e)}},m=n(383),f=n(20),h={onSnackHandler:function(e){return{type:d.ONSNACK,payload:e}},onDialog:function(e){return{type:d.ONDIALOG,payload:e}},onLoader:function(e){return{type:d.ONLOADER,payload:e}},signUp:function(e){return{type:d.SIGNUP,payload:e}},signUpAccess:function(e){return{type:d.SIGNUPACCESS,payload:e}},signIn:function(e){return{type:d.SIGNIN,payload:e}},signInSuccess:function(e){return{type:d.SIGNINSUCCESS,payload:e}},signInFailure:function(e){return{type:d.SIGNINFAILURE,payload:e}},signOut:function(){return{type:d.SIGNOUT}},signOutSuccess:function(){return{type:d.SIGNOUTSUCCESS}},signOutFailure:function(){return{type:d.SIGNOUTSUCCESS}},isLoggedIn:function(){return{type:d.ISLOGGEDIN}},isLoggedInSuccess:function(e){return{type:d.ISLOGGEDINSUCCESS,payload:e}},isLoggedInFailure:function(e){return{type:d.ISLOGGEDINFAILURE,payload:e}},productSave:function(e){return{type:d.PRODUCTSAVE,payload:e}},productSaveSuccess:function(e){return{type:d.PRODUCTSAVESUCCESS,payload:e}},productSaveFailure:function(e){return{type:d.PRODUCTSAVEFAILURE,payload:e}},getProduct:function(e){return{type:d.GETPRODUCT,payload:e}},getProductSuccess:function(e){return{type:d.GETPRODUCTSUCCESS,payload:e}},getProductFailure:function(e){return{type:d.GETPRODUCTFAILURE,payload:e}},updateProduct:function(e){return{type:d.UPDATEPRODUCT,payload:e}},updateProductSuccess:function(e){return{type:d.UPDATEPRODUCTSUCCESS,payload:e}},updateProductFailure:function(e){return{type:d.UPDATEPRODUCTFAILURE,payload:e}},deleteProduct:function(e){return{type:d.DELETEPRODUCT,payload:e}},deleteProductSuccess:function(e){return{type:d.DELETEPRODUCTSUCCESS,payload:e}},deleteProductFailure:function(e){return{type:d.DELETEPRODUCTFAILURE,payload:e}},vendorSave:function(e){return{type:d.VENDORSAVE,payload:e}},vendorSaveSuccess:function(e){return{type:d.VENDORSAVESUCCESS,payload:e}},vendorSaveFailure:function(e){return{type:d.VENDORSAVEFAILURE,payload:e}},getVendor:function(e){return{type:d.GETVENDOR,payload:e}},getVendorSuccess:function(e){return{type:d.GETVENDORSUCCESS,payload:e}},getVendorFailure:function(e){return{type:d.GETVENDORFAILURE,payload:e}},updateVendor:function(e){return{type:d.UPDATEVENDOR,payload:e}},updateVendorSuccess:function(e){return{type:d.UPDATEVENDORSUCCESS,payload:e}},updateVendorFailure:function(e){return{type:d.UPDATEVENDORFAILURE,payload:e}},deleteVendor:function(e){return{type:d.DELETEVENDOR,payload:e}},deleteVendorSuccess:function(e){return{type:d.DELETEVENDORSUCCESS,payload:e}},deleteVendorFailure:function(e){return{type:d.DELETEVENDORFAILURE,payload:e}},clientSave:function(e){return{type:d.CLIENTSAVE,payload:e}},clientSaveSuccess:function(e){return{type:d.CLIENTSAVESUCCESS,payload:e}},clientSaveFailure:function(e){return{type:d.CLIENTSAVEFAILURE,payload:e}},getClient:function(e){return{type:d.GETCLIENT,payload:e}},getClientSuccess:function(e){return{type:d.GETCLIENTSUCCESS,payload:e}},getClientFailure:function(e){return{type:d.GETCLIENTFAILURE,payload:e}},updateClient:function(e){return{type:d.UPDATECLIENT,payload:e}},updateClientSuccess:function(e){return{type:d.UPDATECLIENTSUCCESS,payload:e}},updateClientFailure:function(e){return{type:d.UPDATECLIENTFAILURE,payload:e}},deleteClient:function(e){return{type:d.DELETECLIENT,payload:e}},deleteClientSuccess:function(e){return{type:d.DELETECLIENTSUCCESS,payload:e}},deleteClientFailure:function(e){return{type:d.DELETECLIENTFAILURE,payload:e}},purchaseSave:function(e){return{type:d.PURCHASESAVE,payload:e}},purchaseSaveSuccess:function(e){return{type:d.PURCHASESAVESUCCESS,payload:e}},purchaseSaveFailure:function(e){return{type:d.PURCHASESAVEFAILURE,payload:e}},getPurchase:function(){return{type:d.GETPURCHASE}},getPurchaseSuccess:function(e){return{type:d.GETPURCHASESUCCESS,payload:e}},getPurchaseFailure:function(e){return{type:d.GETPURCHASEFAILURE,payload:e}},deletePurchase:function(e){return{type:d.DELETEPURCHASE,payload:e}},deletePurchaseSuccess:function(e){return{type:d.DELETEPURCHASESUCCESS,payload:e}},deletePurchaseFailure:function(e){return{type:d.DELETEPURCHASEFAILURE,payload:e}},updatePurchase:function(e){return{type:d.UPDATEPURCHASE,payload:e}},updatePurchaseSuccess:function(e){return{type:d.UPDATEPURCHASESUCCESS,payload:e}},updatePurchaseFailure:function(e){return{type:d.UPDATEPURCHASEFAILURE,payload:e}},saleSave:function(e){return{type:d.SALESAVE,payload:e}},saleSaveSuccess:function(e){return{type:d.SALESAVESUCCESS,payload:e}},saleSaveFailure:function(e){return{type:d.SALESAVEFAILURE,payload:e}},getSale:function(){return{type:d.GETSALE}},getSaleSuccess:function(e){return{type:d.GETSALESUCCESS,payload:e}},getSaleFailure:function(e){return{type:d.GETSALEFAILURE,payload:e}},updateSale:function(e){return{type:d.UPDATESALE,payload:e}},updateSaleSuccess:function(e){return{type:d.UPDATESALESUCCESS,payload:e}},updateSaleFailure:function(e){return{type:d.UPDATESALEFAILURE,payload:e}},deleteSale:function(e){return{type:d.DELETESALE,payload:e}},deleteSaleSuccess:function(e){return{type:d.DELETESALESUCCESS,payload:e}},deleteSaleFailure:function(e){return{type:d.DELETESALEFAILURE,payload:e}},paymentSave:function(e){return{type:d.PAYMENTSAVE,payload:e}},paymentSaveSuccess:function(e){return{type:d.PAYMENTSAVESUCCESS,payload:e}},paymentSaveFailure:function(e){return{type:d.PAYMENTSAVEFAILURE,payload:e}},getPayment:function(){return{type:d.GETPAYMENT}},getPaymentSuccess:function(e){return{type:d.GETPAYMENTSUCCESS,payload:e}},getPaymentFailure:function(e){return{type:d.GETPAYMENTFAILURE,payload:e}},updatePayment:function(e){return{type:d.UPDATEPAYMENT,payload:e}},updatePaymentSuccess:function(e){return{type:d.UPDATEPAYMENTSUCCESS,payload:e}},updatePaymentFailure:function(e){return{type:d.UPDATEPAYMENTFAILURE,payload:e}},deletePayment:function(e){return{type:d.DELETEPAYMENT,payload:e}},deletePaymentSuccess:function(e){return{type:d.DELETEPAYMENTSUCCESS,payload:e}},deletePaymentFailure:function(e){return{type:d.DELETEPAYMENTFAILURE,payload:e}},recoverySave:function(e){return{type:d.RECOVERYSAVE,payload:e}},recoverySaveSuccess:function(e){return{type:d.RECOVERYSAVESUCCESS,payload:e}},recoverySaveFailure:function(e){return{type:d.RECOVERYSAVEFAILURE,payload:e}},getRecovery:function(){return{type:d.GETRECOVERY}},getRecoverySuccess:function(e){return{type:d.GETRECOVERYSUCCESS,payload:e}},getRecoveryFailure:function(e){return{type:d.GETRECOVERYFAILURE,payload:e}},updateRecovery:function(e){return{type:d.UPDATERECOVERY,payload:e}},updateRecoverySuccess:function(e){return{type:d.UPDATERECOVERYSUCCESS,payload:e}},updateRecoveryFailure:function(e){return{type:d.UPDATERECOVERYFAILURE,payload:e}},deleteRecovery:function(e){return{type:d.DELETERECOVERY,payload:e}},deleteRecoverySuccess:function(e){return{type:d.DELETERECOVERYSUCCESS,payload:e}},deleteRecoveryFailure:function(e){return{type:d.DELETERECOVERYFAILURE,payload:e}}},S={signUp:function(e){return e.ofType(d.SIGNUP).switchMap(function(e){var t=e.payload;return f.a.ajax({url:"/user/signup",body:t,async:!0,method:"POST",headers:{"Content-Type":"application/json"},crossDomain:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return f.a.of(h.onLoader(!0),h.onLoader(!1),h.signUpAccess(),h.onSnackHandler({snack:!0,message:e.response}))}).catch(function(e){return f.a.of(h.signUpAccess(),h.onSnackHandler({snack:!0,message:e.response}))})})},signIn:function(e){return e.ofType(d.SIGNIN).switchMap(function(e){var t=e.payload;return Object.values(t).every(function(e){return Boolean(e)})?f.a.ajax({url:"/user/signin",method:"POST",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return f.a.of(h.signInSuccess(),h.isLoggedIn(),h.onSnackHandler({snack:!0,message:e.response}))}).catch(function(e){return f.a.of(h.signInFailure(),h.onSnackHandler({snack:!0,message:e.response}))}):f.a.of(h.signInFailure(),h.onSnackHandler({snack:!0,message:"Please Enter Email & Password, in order to login"}))})},signOut:function(e){return e.ofType(d.SIGNOUT).switchMap(function(){return f.a.ajax({url:"/user/logout",method:"POST",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.signOutSuccess(),h.onSnackHandler({snack:!0,message:e.response})):f.a.of(h.signOutFailure(),h.onSnackHandler({snack:!0,message:"Something went wrong"}))}).catch(function(e){return e.response?f.a.of(h.signOutFailure(),h.onSnackHandler({snack:!0,message:e.response})):f.a.of(h.signOutFailure("Network Error"))})})},isLoggedIn:function(e){return e.ofType(d.ISLOGGEDIN).switchMap(function(){return f.a.ajax({url:"/user",method:"GET",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response.doc?f.a.of(h.isLoggedInSuccess(e.response.doc)):f.a.of(h.isLoggedInFailure("Token Expired"))}).catch(function(e){return e.response?f.a.of(h.isLoggedInFailure(e.response)):f.a.of(h.isLoggedInFailure("Network Error"))})})}},v={productSave:function(e){return e.ofType(d.PRODUCTSAVE).switchMap(function(e){var t=e.payload;return Object.values(t).every(function(e){return Boolean(e)})?f.a.ajax({url:"/product",method:"POST",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.onLoader(!0),h.productSaveSuccess(e.response)):f.a.of(h.productSaveFailure("Something went wrong"))}).catch(function(e){return e.response?f.a.of(h.productSaveFailure(e.response)):f.a.of(h.productSaveFailure("Network Error"))}):f.a.of(h.productSaveFailure("All fields are required"))})},getProduct:function(e){return e.ofType(d.GETPRODUCT).switchMap(function(){return f.a.ajax({url:"/product",method:"GET",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response.products.length?f.a.of(h.getProductSuccess(e.response.products)):f.a.of(h.getProductSuccess([]))}).catch(function(e){return e.response?f.a.of(h.getProductFailure(e.response)):f.a.of(h.getProductFailure("Network Error"))})})},updateProduct:function(e){return e.ofType(d.UPDATEPRODUCT).switchMap(function(e){var t=e.payload;return Object.values(t).entries(function(e){return Boolean(e)})?f.a.ajax({url:"/product/".concat(t._id),method:"PUT",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.updateProductSuccess(e.response)):f.a.of(h.updateProductFailure("Something went Wrong"))}).catch(function(){return f.a.of(h.updateProductFailure("Network Failure"))}):f.a.of(h.updateProductFailure("All fields are required"))})},deleteProduct:function(e){return e.ofType(d.DELETEPRODUCT).switchMap(function(e){var t=e.payload;return f.a.ajax({url:"/product/".concat(t),method:"DELETE",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.deleteProductSuccess(e.response)):f.a.of(h.deleteProductFailure("Something went Wrong"))}).catch(function(){return f.a.of(h.deleteProductFailure("Network Failure"))})})}},g={vendorSave:function(e){return e.ofType(d.VENDORSAVE).switchMap(function(e){var t=e.payload;return Object.values(t).every(function(e){return Boolean(e)})?f.a.ajax({url:"/vendor",method:"POST",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.onLoader(!0),h.vendorSaveSuccess(e.response)):f.a.of(h.vendorSaveFailure("Something went wrong"))}).catch(function(e){return e.response?f.a.of(h.vendorSaveFailure(e.response)):f.a.of(h.vendorSaveFailure("Network Error"))}):f.a.of(h.vendorSaveFailure("All fields are required"))})},getVendor:function(e){return e.ofType(d.GETVENDOR).switchMap(function(){return f.a.ajax({url:"/vendor",method:"GET",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response.vendors.length?f.a.of(h.getVendorSuccess(e.response.vendors)):f.a.of(h.getVendorSuccess([]))}).catch(function(e){return e.response?f.a.of(h.getVendorFailure(e.response)):f.a.of(h.getVendorFailure("Network Error"))})})},updateVendor:function(e){return e.ofType(d.UPDATEVENDOR).switchMap(function(e){var t=e.payload;return Object.values(t).entries(function(e){return Boolean(e)})?f.a.ajax({url:"/vendor/".concat(t._id),method:"PUT",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.updateVendorSuccess(e.response)):f.a.of(h.updateVendorFailure("Something went Wrong"))}).catch(function(){return f.a.of(h.updateVendorFailure("Network Failure"))}):f.a.of(h.updateVendorFailure("All fields are required"))})},deleteVendor:function(e){return e.ofType(d.DELETEVENDOR).switchMap(function(e){var t=e.payload;return f.a.ajax({url:"/vendor/".concat(t),method:"DELETE",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.deleteVendorSuccess(e.response)):f.a.of(h.deleteVendorFailure("Something went Wrong"))}).catch(function(){return f.a.of(h.deleteVendorFailure("Network Failure"))})})}},y={clientSave:function(e){return e.ofType(d.CLIENTSAVE).switchMap(function(e){var t=e.payload;return Object.values(t).every(function(e){return Boolean(e)})?f.a.ajax({url:"/client",method:"POST",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.onLoader(!0),h.clientSaveSuccess(e.response)):f.a.of(h.clientSaveFailure("Something went wrong"))}).catch(function(e){return e.response?f.a.of(h.clientSaveFailure(e.response)):f.a.of(h.clientSaveFailure("Network Error"))}):f.a.of(h.clientSaveFailure("All fields are required"))})},getClient:function(e){return e.ofType(d.GETCLIENT).switchMap(function(){return f.a.ajax({url:"/client",method:"GET",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response.clients.length?f.a.of(h.getClientSuccess(e.response.clients)):f.a.of(h.getClientSuccess([]))}).catch(function(e){return e.response?f.a.of(h.getClientFailure(e.response)):f.a.of(h.getClientFailure("Network Error"))})})},updateClient:function(e){return e.ofType(d.UPDATECLIENT).switchMap(function(e){var t=e.payload;return Object.values(t).entries(function(e){return Boolean(e)})?f.a.ajax({url:"/client/".concat(t._id),method:"PUT",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.onLoader(!0),h.updateClientSuccess(e.response)):f.a.of(h.updateClientFailure("Something went Wrong"))}).catch(function(){return f.a.of(h.updateClientFailure("Network Failure"))}):f.a.of(h.updateClientFailure("All fields are required"))})},deleteClient:function(e){return e.ofType(d.DELETECLIENT).switchMap(function(e){var t=e.payload;return f.a.ajax({url:"/client/".concat(t),method:"DELETE",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.deleteClientSuccess(e.response)):f.a.of(h.deleteClientFailure("Something went Wrong"))}).catch(function(){return f.a.of(h.deleteClientFailure("Network Failure"))})})}},C=function(){var e=I.getState(),t=e.purchases,n=e.sales,a=e.products,r={};return a.forEach(function(e){return r[e._id]=0}),t.forEach(function(e){return e.products.forEach(function(e){return r[e.productId._id]+=e.quantity})}),n.forEach(function(e){return e.products.forEach(function(e){return r[e.productId._id]-=e.quantity})}),r},b={purchaseSave:function(e){return e.ofType(d.PURCHASESAVE).switchMap(function(e){var t=e.payload;return Object.values(t).every(function(e){return Boolean(e)})?f.a.ajax({url:"/purchase",method:"POST",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.onLoader(!0),h.purchaseSaveSuccess(e.response)):f.a.of(h.purchaseSaveFailure("Something went wrong"))}).catch(function(e){return e.response?f.a.of(h.purchaseSaveFailure(e.response)):f.a.of(h.purchaseSaveFailure("Network Error"))}):f.a.of(h.purchaseSaveFailure("All fields are required"))})},getPurchase:function(e){return e.ofType(d.GETPURCHASE).switchMap(function(){return f.a.ajax({url:"/purchase",method:"GET",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response.length?f.a.of(h.getPurchaseSuccess(e.response)):f.a.of(h.getPurchaseSuccess([]))}).catch(function(e){return e.response?f.a.of(h.getPurchaseFailure(e.response)):f.a.of(h.getPurchaseFailure("Network Error"))})})},updatePurchase:function(e){return e.ofType(d.UPDATEPURCHASE).switchMap(function(e){var t=e.payload,n=C(),a=[];return t.products.forEach(function(e){if(e.oldProductId)if(e.oldProductId===e.productId){var t=+n[e.oldProductId]-+e.oldQuantity+ +e.quantity;t<0&&a.push("if Block: ".concat(e.productName," will be negative by ").concat(t))}else{var r=+n[e.oldProductId]-+e.oldQuantity;r<0&&a.push("else Block: ".concat(e.productName," will be negative by ").concat(r))}}),a.length?f.a.of(h.updatePurchaseFailure("Please rectify errors")):f.a.ajax({url:"/purchase/".concat(t._id),method:"PUT",headers:{"Content-Type":"application/json"},body:t,async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.onLoader(!0),h.updatePurchaseSuccess(e.response)):f.a.of(h.updatePurchaseFailure("something wrong"))})})},deletePurchase:function(e){return e.ofType(d.DELETEPURCHASE).switchMap(function(e){var t=e.payload,n=C(),a=I.getState().purchases.find(function(e){return e._id===t}).products,r=[];return a.forEach(function(e){+n[e.productId._id]-+e.quantity<0&&r.push("".concat(e.productId.productName," will be negative by ").concat(n[e.productId._id]-e.quantity))}),r.length?f.a.of(h.deletePurchaseFailure(r.join(", "))):f.a.ajax({url:"/purchase/".concat(t),method:"DELETE",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.deletePurchaseSuccess(e.response)):f.a.of(h.deletePurchaseFailure("something wrong"))})})}},N=function(){var e=I.getState(),t=e.purchases,n=e.sales,a=e.products,r={};return a.forEach(function(e){return r[e._id]=0}),t.forEach(function(e){return e.products.forEach(function(e){return r[e.productId._id]+=e.quantity})}),n.forEach(function(e){return e.products.forEach(function(e){return r[e.productId._id]-=e.quantity})}),r},T={saleSave:function(e){return e.ofType(d.SALESAVE).switchMap(function(e){var t=e.payload,n=[];t.products.forEach(function(e){n.push(Object.values(e).every(function(e){return Boolean(e)||!1===e}))}),Object.values(t).forEach(function(e){n.push(Object.values(e).every(function(e){return Boolean(e)}))});var a=[],r=N();return t.products.forEach(function(e){r[e.productId]<e.quantity&&a.push("".concat(e.productName," will be negative by ").concat(r[e.productId]-e.quantity))}),a.length?f.a.of(h.saleSaveFailure("Please resolve errors")):n.every(function(e){return Boolean(e)})?f.a.ajax({url:"/sale",method:"POST",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response?f.a.of(h.onLoader(!0),h.saleSaveSuccess(e.response)):f.a.of(h.saleSaveFailure("Something went wrong"))}).catch(function(e){return"string"===typeof e.response?f.a.of(h.saleSaveFailure(e.response)):f.a.of(h.saleSaveFailure("Network Error"))}):f.a.of(h.saleSaveFailure("All fields are required"))})},getSale:function(e){return e.ofType(d.GETSALE).switchMap(function(){return f.a.ajax({url:"/sale",method:"GET",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response.length?f.a.of(h.getSaleSuccess(e.response)):f.a.of(h.getSaleSuccess([]))}).catch(function(e){return"string"===typeof e.response?f.a.of(h.getSaleFailure(e.response)):f.a.of(h.getSaleFailure("Something went wrong"))})})},updateSale:function(e){return e.ofType(d.UPDATESALE).switchMap(function(e){var t=e.payload,n=[];t.products.forEach(function(e){n.push(Object.values(e).every(function(e){return Boolean(e)||!1===e}))}),Object.values(t).forEach(function(e){n.push(Object.values(e).every(function(e){return Boolean(e)}))});var a=[],r=N();return t.products.forEach(function(e){e.oldProductId===e.productId?r[e.oldProductId]+e.oldQuantity-e.quantity<0&&a.push("".concat(e.productName," will be negative by ").concat(r[e.productId]-e.quantity)):r[e.productId]-e.quantity<0&&a.push("".concat(e.productName," will be negative by ").concat(r[e.productId]-e.quantity))}),a.length?f.a.of(h.updateSaleFailure("Please resolve errors")):n.every(function(e){return Boolean(e)})?f.a.ajax({url:"/sale/".concat(t._id),method:"PUT",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.onLoader(!0),h.updateSaleSuccess(e.response)):f.a.of(h.updateSaleFailure("Something went wrong"))}).catch(function(e){return"string"===typeof e.response?f.a.of(h.updateSaleFailure(e.response)):f.a.of(h.updateSaleFailure("Something went wrong"))}):f.a.of(h.updateSaleFailure("All fields are required"))})},deleteSale:function(e){return e.ofType(d.DELETESALE).switchMap(function(e){var t=e.payload;return f.a.ajax({url:"/sale/".concat(t),method:"DELETE",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.deleteSaleSuccess(e.response)):f.a.of(h.deleteSaleFailure("something wrong"))})})}},P={paymentSave:function(e){return e.ofType(d.PAYMENTSAVE).switchMap(function(e){var t=e.payload,n=[];return t.details.forEach(function(e){n.push(Object.values(e).every(function(e){return!1===e||Boolean(e)}))}),n.push(Object.values(t).every(function(e){return Boolean(e)})),n.every(function(e){return Boolean(e)})?f.a.ajax({url:"/payment",method:"POST",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.onLoader(!0),h.paymentSaveSuccess(e.response)):f.a.of(h.paymentSaveFailure("Something went wrong"))}).catch(function(e){return"string"===typeof e.response?f.a.of(h.paymentSaveFailure(e.response)):f.a.of(h.paymentSaveFailure("Network Error"))}):f.a.of(h.paymentSaveFailure("All fields are required"))})},getPayment:function(e){return e.ofType(d.GETPAYMENT).switchMap(function(){return f.a.ajax({url:"/payment",method:"GET",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response.length?f.a.of(h.getPaymentSuccess(e.response)):f.a.of(h.getPaymentSuccess([]))}).catch(function(e){return e.response?f.a.of(h.getPaymentFailure(e.response)):f.a.of(h.getPaymentFailure("Network Error"))})})},updatePayment:function(e){return e.ofType(d.UPDATEPAYMENT).switchMap(function(e){var t=e.payload,n=[];return t.details.forEach(function(e){n.push(Object.values(e).every(function(e){return!1===e||Boolean(e)}))}),n.push(Object.values(t).every(function(e){return Boolean(e)})),n.every(function(e){return Boolean(e)})?f.a.ajax({url:"/payment/".concat(t._id),method:"PUT",headers:{"Content-Type":"application/json"},body:t,async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.onLoader(!0),h.updatePaymentSuccess(e.response)):f.a.of(h.updatePaymentFailure("something wrong"))}):f.a.of(h.updatePaymentFailure("All Fields are Required"))})},deletePayment:function(e){return e.ofType(d.DELETEPAYMENT).switchMap(function(e){var t=e.payload;return f.a.ajax({url:"/payment/".concat(t),method:"DELETE",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.onLoader(!0),h.deletePaymentSuccess(e.response)):f.a.of(h.deletePaymentFailure("something wrong"))})})}},O={recoverySave:function(e){return e.ofType(d.RECOVERYSAVE).switchMap(function(e){var t=e.payload,n=[];return t.details.forEach(function(e){n.push(Object.values(e).every(function(e){return!1===e||Boolean(e)}))}),n.push(Object.values(t).every(function(e){return Boolean(e)})),n.every(function(e){return Boolean(e)})?f.a.ajax({url:"/recovery",method:"POST",body:t,headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.onLoader(!0),h.recoverySaveSuccess(e.response)):f.a.of(h.recoverySaveFailure("Something went wrong"))}).catch(function(e){return"string"===typeof e.response?f.a.of(h.recoverySaveFailure(e.response)):f.a.of(h.recoverySaveFailure("Network Error"))}):f.a.of(h.recoverySaveFailure("All fields are required"))})},getRecovery:function(e){return e.ofType(d.GETRECOVERY).switchMap(function(){return f.a.ajax({url:"/recovery",method:"GET",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return e.response.length?f.a.of(h.getRecoverySuccess(e.response)):f.a.of(h.getRecoverySuccess([]))}).catch(function(e){return e.response?f.a.of(h.getRecoveryFailure(e.response)):f.a.of(h.getRecoveryFailure("Network Error"))})})},updateRecovery:function(e){return e.ofType(d.UPDATERECOVERY).switchMap(function(e){var t=e.payload,n=[];return t.details.forEach(function(e){n.push(Object.values(e).every(function(e){return!1===e||Boolean(e)}))}),n.push(Object.values(t).every(function(e){return Boolean(e)})),n.every(function(e){return Boolean(e)})?f.a.ajax({url:"/recovery/".concat(t._id),method:"PUT",headers:{"Content-Type":"application/json"},body:t,async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.onLoader(!0),h.updateRecoverySuccess(e.response)):f.a.of(h.updateRecoveryFailure("something wrong"))}):f.a.of(h.updateRecoveryFailure("All Fields are Required"))})},deleteRecovery:function(e){return e.ofType(d.DELETERECOVERY).switchMap(function(e){var t=e.payload;return f.a.ajax({url:"/recovery/".concat(t),method:"DELETE",headers:{"Content-Type":"application/json"},async:!0,crossDomain:!0,withCredentials:!0,createXHR:function(){return new XMLHttpRequest},responseType:"json"}).switchMap(function(e){return"string"===typeof e.response?f.a.of(h.onLoader(!0),h.deleteRecoverySuccess(e.response)):f.a.of(h.deleteRecoveryFailure("something wrong"))})})}},L=Object(m.a)(S.signUp,S.signIn,S.signOut,S.isLoggedIn,v.productSave,v.getProduct,v.updateProduct,v.deleteProduct,g.vendorSave,g.getVendor,g.updateVendor,g.deleteVendor,y.clientSave,y.getClient,y.updateClient,y.deleteClient,b.purchaseSave,b.getPurchase,b.updatePurchase,b.deletePurchase,T.saleSave,T.getSale,T.updateSale,T.deleteSale,P.paymentSave,P.getPayment,P.updatePayment,P.deletePayment,O.recoverySave,O.getRecovery,O.updateRecovery,O.deleteRecovery),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,A=Object(s.a)(),U=Object(l.d)(E,R(Object(l.a)(A)));A.run(L);var I=U,D=n(5),w=n(6),j=n(9),k=n(7),F=n(10),V=n(385),M=n(384),H=n(1),x=n(17),G=(n(92),function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.onSignInHandler=function(){var t=e.state,n=t.email,a=t.password;e.props.signIn({email:n,password:a})},e.gotoSignUp=function(){e.props.history.push("/signup")},e.state={email:"shahan@domain.com",password:"123abc456"},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){return this.props.store.profile.email?this.props.history.push("/dashboard"):this.props.history.push("/")}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return r.a.createElement("div",{className:"paper-style"},r.a.createElement(H.e,{elevation:4,className:"inner-paper-styling"},r.a.createElement(H.m,{align:"center",color:"primary",variant:"h5",gutterBottom:!0},r.a.createElement("span",{className:"outline-it"},"Login Portal")),r.a.createElement(H.m,{align:"center",color:"textSecondary",variant:"h6"},"Sign In"),r.a.createElement(H.l,{autoFocus:!0,type:"text",name:"email",value:t,label:"Email",onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense"}),r.a.createElement(H.l,{type:"password",name:"password",value:n,label:"Password",onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense"}),r.a.createElement(H.a,{variant:"contained",fullWidth:!0,children:"Sign In",color:"primary",size:"large",onClick:this.onSignInHandler}),r.a.createElement("hr",null),r.a.createElement("div",{className:"ask-signup"},r.a.createElement(H.m,{align:"center",children:"Don't have an Account ? ",color:"textSecondary"}),r.a.createElement(H.a,{variant:"outlined",children:"Create Account Now",color:"secondary",size:"medium",onClick:this.gotoSignUp}))))}}]),t}(a.Component)),B=Object(c.b)(function(e){return{store:e}},function(e){return{signIn:function(t,n){return e(h.signIn(t,n))}}})(G),_=n(36),Y=n(60),q=n.n(Y),X=n(61),z=n.n(X),W=n(62),K=n.n(W),Q=n(63),J=n.n(Q),$=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(j.a)(this,Object(k.a)(t).call(this,e))).state={value:e.value,labelWidth:0},n}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:i.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.range,o=t.criteria,i=t.theLabel,c=t.theField,l=t.toChange;return r.a.createElement("div",{className:n.root},r.a.createElement(K.a,{variant:"outlined",className:n.formControl},r.a.createElement(z.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"values-for-select-list"},i),r.a.createElement(J.a,{native:!0,value:c,onChange:l,input:r.a.createElement(q.a,{name:o,labelWidth:this.state.labelWidth,id:"values-for-select-list"})},r.a.createElement("option",{value:""}),a.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))}}]),t}(r.a.Component),Z=Object(_.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{marginTop:.5*e.spacing.unit,marginBottom:.5*e.spacing.unit,minWidth:"100%"}}})($),ee=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.gotoSignIn=function(){e.props.history.push("/")},e.onSignUpHandler=function(){return Object.values(e.state).every(function(e){return!0===Boolean(e)})?e.props.signUp(e.state):e.props.onSnackHandler(!0,"All Fields are required")},e.state={email:"shahan@domain.com",password:"123abc456",confirmPassword:"123abc456",mobile:"0336-2122588",dob:"1986-01-29",first:"Shahan",last:"Ahmed Khan",gender:"Male",maritalStatus:"Married",cnic:"42301-8964999-9"},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){if(this.props.store.profile.email)return this.props.history.push("/dashboard")}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.confirmPassword,o=e.mobile,i=e.dob,c=e.first,l=e.last,s=e.gender,u=e.cnic,d=e.maritalStatus;return r.a.createElement("div",{className:"paper-style"},r.a.createElement(H.e,{elevation:4,className:"inner-paper-styling"},r.a.createElement(H.m,{align:"center",color:"primary",variant:"h5",gutterBottom:!0},r.a.createElement("span",{className:"outline-it"},"Login Portal")),r.a.createElement(H.m,{align:"center",color:"textSecondary",variant:"h6"},"Sign Up Form"),r.a.createElement(H.l,{autoFocus:!0,type:"text",name:"email",value:t,label:"Email",onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense"}),r.a.createElement(H.l,{type:"password",name:"password",value:n,label:"Password",onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense"}),r.a.createElement(H.l,{type:"password",name:"confirmPassword",value:a,label:"Confirm Password",onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense"}),r.a.createElement(H.l,{type:"text",name:"mobile",value:o,label:"Mobile No.",onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense",style:{marginBottom:15},helperText:"example: 0300-1234567"}),r.a.createElement(H.l,{type:"date",name:"dob",value:i,label:"Date of Birth",InputLabelProps:{shrink:!0},onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense"}),r.a.createElement(H.l,{type:"text",name:"first",value:c,label:"First Name",onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense"}),r.a.createElement(H.l,{type:"text",name:"last",value:l,label:"Last Name",onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense"}),r.a.createElement(Z,{range:["Male","Female"],theLabel:"Gender",criteria:"gender",theField:s,toChange:this.handleChange}),r.a.createElement(Z,{range:["Married","Single"],theLabel:"Marital Status",criteria:"maritalStatus",theField:d,toChange:this.handleChange}),r.a.createElement(H.l,{type:"text",name:"cnic",value:u,label:"CNIC",onChange:this.handleChange,fullWidth:!0,variant:"outlined",margin:"dense",style:{marginBottom:15},helperText:"example: 12345-1234567-8"}),r.a.createElement(H.a,{variant:"contained",fullWidth:!0,children:"Sign Up",color:"primary",size:"large",onClick:this.onSignUpHandler}),r.a.createElement("hr",null),r.a.createElement("div",{className:"ask-signup"},r.a.createElement(H.m,{align:"center",children:"Already have an Account ? ",color:"textSecondary"}),r.a.createElement(H.a,{variant:"outlined",children:"Sign In Now",color:"secondary",size:"medium",onClick:this.gotoSignIn}))))}}]),t}(a.Component),te=Object(c.b)(function(e){return{store:e}},function(e){return{signUp:function(t){return e(h.signUp(t))},onSnackHandler:function(t,n){return e(h.onSnackHandler({snack:t,message:n}))}}})(ee),ne=n(381),ae=function(e){function t(){return Object(D.a)(this,t),Object(j.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},r.a.createElement(ne.a,{to:"/dashboard",className:"navbar-brand",children:"Dashboard"}),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample09","aria-controls":"navbarsExample09","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExample09"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(ne.a,{to:"/dashboard",children:"Main",id:"dropdown09",className:"nav-link active dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdown09"},r.a.createElement(ne.a,{to:"/dashboard/product",children:"Product",className:"dropdown-item"}),r.a.createElement(ne.a,{to:"/dashboard/vendor",children:"Vendor",className:"dropdown-item"}),r.a.createElement(ne.a,{to:"/dashboard/client",children:"Client",className:"dropdown-item"}))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(ne.a,{to:"/dashboard",children:"Transaction",id:"dropdown09",className:"nav-link active dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdown09"},r.a.createElement(ne.a,{to:"/dashboard/purchase",children:"Purchase Book",className:"dropdown-item"}),r.a.createElement(ne.a,{to:"/dashboard/sale",children:"Sale Book",className:"dropdown-item"}),r.a.createElement(ne.a,{to:"/dashboard/payment",children:"Payment Book",className:"dropdown-item"}),r.a.createElement(ne.a,{to:"/dashboard/recovery",children:"Recovery Book",className:"dropdown-item"})))),r.a.createElement("button",{type:"button",className:"btn btn-outline-primary my-2 my-sm-0",onClick:function(){return e.props.signOut()}},"Logout"))))}}]),t}(a.Component),re=Object(c.b)(null,function(e){return{signOut:function(){return e(h.signOut())}}})(ae),oe=n(163),ie=new(n.n(oe).a)("f9126fc42e7cc112a924",{cluster:"ap2",forceTLS:!0}).subscribe("inventory"),ce=n(27),le=n.n(ce),se=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.renderSearchBlock=function(){var t=e.props,n=t.getRow,a=t.store,o=e.state.search.toLowerCase(),i=a.products.filter(function(e){return-1!==e.productName.toLowerCase().indexOf(o)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},i.length?i.map(function(t,a){return r.a.createElement("ul",{className:"list-group",key:a},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Edit",onClick:function(){return n(t._id)}},r.a.createElement(H.d,null,"edit_icon")),r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",onClick:function(){return e.props.deleteClient(t._id)}},r.a.createElement(le.a,null))),r.a.createElement("li",{className:"list-group-item"},"Product: ",t.productName),r.a.createElement("li",{className:"list-group-item"},"Manufacturer: ",t.manufacterer),r.a.createElement("li",{className:"list-group-item"},"Description: ",t.description))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},e.state={search:""},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.state.search,t=this.props,n=t.isPopup,a=t.validateSearch;return r.a.createElement("div",{className:"simple-flex"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.l,{autoFocus:!0,type:"text",margin:"dense",variant:"standard",label:"Type Client Name...",name:"search",value:e,onChange:this.handleChange,onKeyDown:a})),r.a.createElement("div",null,n&&this.renderSearchBlock())))}}]),t}(a.Component),ue=Object(c.b)(function(e){return{store:e}},function(e){return{deleteProduct:function(t){return e(h.deleteProduct(t))}}})(se),de=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.getRow=function(t){var n=e.props.store.products.find(function(e){return e._id===t}),a=n._id,r=n.productName,o=n.manufacturer,i=n.description;e.setState({_id:a,productName:r,manufacturer:o,description:i,editing:!0,isPopup:!1,isSearch:!1})},e.onSaveHandler=function(){var t=e.state,n=t._id,a=t.productName,r=t.manufacturer,o=t.description;return t.editing?e.props.updateProduct({_id:n,productName:a,manufacturer:r,description:o}):e.props.productSave({productName:a,manufacturer:r,description:o})},e.onBrowseHandler=function(){e.setState(function(e){return{isSearch:!e.isSearch}})},e.onClearHandler=function(){e.setState({_id:"",productName:"",manufacturer:"",description:"",editing:!1,isSearch:!1,isPopup:!1})},e.validateSearch=function(t){return 13===t.keyCode?e.setState({isPopup:!0}):27===t.keyCode?e.setState({isPopup:!1}):void 0},e.state={_id:"",productName:"",manufacturer:"",description:"",editing:!1,isPopup:!1,isSearch:!1},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;ie.bind("inventory","products",function(){e.props.getProduct()})}},{key:"render",value:function(){var e=this.state,t=e.productName,n=e.manufacturer,a=e.description;return r.a.createElement("div",null,r.a.createElement(H.e,{elevation:24,className:"the-form"},r.a.createElement(H.m,{children:"Product Form",align:"center",color:"secondary",gutterBottom:!0,variant:"h5"}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Product Name",name:"productName",value:t,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Manufacturer",name:"manufacturer",value:n,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Description",name:"description",value:a,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement("div",{className:"buttons-group"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{className:this.state.editing?"btn btn-secondary":"btn btn-primary",onClick:this.onSaveHandler},this.state.editing?"Update":"Save"),r.a.createElement("button",{className:"btn btn-success",onClick:this.onBrowseHandler},"Browse"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.onClearHandler},"Clear"))),this.state.isSearch&&r.a.createElement(ue,{getRow:this.getRow,isPopup:this.state.isPopup,validateSearch:this.validateSearch})))}}]),t}(a.Component),pe=Object(c.b)(function(e){return{store:e}},function(e){return{productSave:function(t){return e(h.productSave(t))},updateProduct:function(t){return e(h.updateProduct(t))},getProduct:function(){return e(h.getProduct())}}})(de),Ee=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.renderSearchBlock=function(){var t=e.props,n=t.getRow,a=t.store,o=e.state.search.toLowerCase(),i=a.vendors.filter(function(e){return-1!==e.vendorName.toLowerCase().indexOf(o)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},i.length?i.map(function(t,a){return r.a.createElement("ul",{className:"list-group",key:a},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Edit",onClick:function(){return n(t._id)}},r.a.createElement(H.d,null,"edit_icon")),r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",onClick:function(){return e.props.deleteVendor(t._id)}},r.a.createElement(le.a,null))),r.a.createElement("li",{className:"list-group-item"},"Vendor: ",t.vendorName),r.a.createElement("li",{className:"list-group-item"},"Address: ",t.address),r.a.createElement("li",{className:"list-group-item"},"Telephone: ",t.telephone),r.a.createElement("li",{className:"list-group-item"},"Email: ",t.email),r.a.createElement("li",{className:"list-group-item"},"NTN: ",t.ntn))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},e.state={search:""},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.state.search,t=this.props,n=t.isPopup,a=t.validateSearch;return r.a.createElement("div",{className:"simple-flex"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.l,{autoFocus:!0,type:"text",margin:"dense",variant:"standard",label:"Type Client Name...",name:"search",value:e,onChange:this.handleChange,onKeyDown:a})),r.a.createElement("div",null,n&&this.renderSearchBlock())))}}]),t}(a.Component),me=Object(c.b)(function(e){return{store:e}},function(e){return{deleteVendor:function(t){return e(h.deleteVendor(t))}}})(Ee),fe=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.getRow=function(t){var n=e.props.store.vendors.find(function(e){return e._id===t}),a=n._id,r=n.vendorName,o=n.address,i=n.telephone,c=n.email,l=n.ntn;e.setState({editing:!0,_id:a,vendorName:r,address:o,telephone:i,email:c,ntn:l,isSearch:!1,isPopup:!1})},e.onSaveHandler=function(){var t=e.state,n=t._id,a=t.vendorName,r=t.address,o=t.telephone,i=t.email,c=t.ntn;return t.editing?e.props.updateVendor({_id:n,vendorName:a,address:r,telephone:o,email:i,ntn:c}):e.props.vendorSave({vendorName:a,address:r,telephone:o,email:i,ntn:c})},e.onBrowseHandler=function(){e.setState(function(e){return{isSearch:!e.isSearch}})},e.onClearHandler=function(){e.setState({_id:"",vendorName:"",address:"",telephone:"",email:"",ntn:"",editing:!1,isSearch:!1,isPopup:!1})},e.validateSearch=function(t){return 13===t.keyCode?e.setState({isPopup:!0}):27===t.keyCode?e.setState({isPopup:!1}):void 0},e.state={_id:"",vendorName:"",address:"",telephone:"",email:"",ntn:"",editing:!1,isSearch:!1,isPopup:!1},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;ie.bind("inventory","vendors",function(){e.props.getVendor()})}},{key:"render",value:function(){var e=this.state,t=e.vendorName,n=e.address,a=e.telephone,o=e.email,i=e.ntn;return r.a.createElement("div",null,r.a.createElement(H.e,{elevation:24,className:"the-form"},r.a.createElement(H.m,{children:"Vendor Form",align:"center",color:"secondary",gutterBottom:!0,variant:"h5"}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Vendor Name",name:"vendorName",value:t,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Address",name:"address",value:n,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Telephone",name:"telephone",value:a,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Email Address",name:"email",value:o,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"National Tax Number",name:"ntn",value:i,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement("div",{className:"buttons-group"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{className:this.state.editing?"btn btn-secondary":"btn btn-primary",onClick:this.onSaveHandler},this.state.editing?"Update":"Save"),r.a.createElement("button",{className:"btn btn-success",onClick:this.onBrowseHandler},"Browse"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.onClearHandler},"Clear"))),this.state.isSearch&&r.a.createElement(me,{getRow:this.getRow,isPopup:this.state.isPopup,validateSearch:this.validateSearch})))}}]),t}(a.Component),he=Object(c.b)(function(e){return{store:e}},function(e){return{vendorSave:function(t){return e(h.vendorSave(t))},updateVendor:function(t){return e(h.updateVendor(t))},getVendor:function(){return e(h.getVendor())}}})(fe),Se=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.renderSearchBlock=function(){var t=e.props,n=t.getRow,a=t.store,o=e.state.search.toLowerCase(),i=a.clients.filter(function(e){return-1!==e.clientName.toLowerCase().indexOf(o)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},i.length?i.map(function(t,a){return r.a.createElement("ul",{className:"list-group",key:a},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Edit",onClick:function(){return n(t._id)}},r.a.createElement(H.d,null,"edit_icon")),r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",onClick:function(){return e.props.deleteClient(t._id)}},r.a.createElement(le.a,null))),r.a.createElement("li",{className:"list-group-item"},"Client: ",t.clientName),r.a.createElement("li",{className:"list-group-item"},"Address: ",t.address),r.a.createElement("li",{className:"list-group-item"},"Telephone: ",t.telephone),r.a.createElement("li",{className:"list-group-item"},"Email: ",t.email),r.a.createElement("li",{className:"list-group-item"},"NTN: ",t.ntn))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},e.state={search:""},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.state.search,t=this.props,n=t.isPopup,a=t.validateSearch;return r.a.createElement("div",{className:"simple-flex"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.l,{autoFocus:!0,type:"text",margin:"dense",variant:"standard",label:"Type Client Name...",name:"search",value:e,onChange:this.handleChange,onKeyDown:a})),r.a.createElement("div",null,n&&this.renderSearchBlock())))}}]),t}(a.Component),ve=Object(c.b)(function(e){return{store:e}},function(e){return{deleteClient:function(t){return e(h.deleteClient(t))}}})(Se),ge=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.getRow=function(t){var n=e.props.store.clients.find(function(e){return e._id===t}),a=n._id,r=n.clientName,o=n.address,i=n.telephone,c=n.email,l=n.ntn;e.setState({editing:!0,_id:a,clientName:r,address:o,telephone:i,email:c,ntn:l,isPopup:!1,isSearch:!1})},e.onSaveHandler=function(){var t=e.state,n=t._id,a=t.clientName,r=t.address,o=t.telephone,i=t.email,c=t.ntn;return t.editing?e.props.updateClient({_id:n,clientName:a,address:r,telephone:o,email:i,ntn:c}):e.props.clientSave({clientName:a,address:r,telephone:o,email:i,ntn:c})},e.onBrowseHandler=function(){e.setState(function(e){return{isSearch:!e.isSearch}})},e.onClearHandler=function(){e.setState({_id:"",clientName:"",address:"",telephone:"",email:"",ntn:"",editing:!1,isSearch:!1,isPopup:!1})},e.validateSearch=function(t){return 13===t.keyCode?e.setState({isPopup:!0}):27===t.keyCode?e.setState({isPopup:!1}):void 0},e.state={_id:"",clientName:"",address:"",telephone:"",email:"",ntn:"",editing:!1,isSearch:!1,isPopup:!1},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;ie.bind("inventory","clients",function(){e.props.getClient()})}},{key:"render",value:function(){var e=this.state,t=e.clientName,n=e.address,a=e.telephone,o=e.email,i=e.ntn;return r.a.createElement("div",null,r.a.createElement(H.e,{elevation:24,className:"the-form"},r.a.createElement(H.m,{children:"Client Form",align:"center",color:"secondary",gutterBottom:!0,variant:"h5"}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Client Name",name:"clientName",value:t,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Address",name:"address",value:n,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Telephone",name:"telephone",value:a,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"Email Address",name:"email",value:o,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement(H.l,{type:"text",margin:"dense",label:"National Tax Number",name:"ntn",value:i,onChange:this.handleChange,variant:"filled",fullWidth:!0}),r.a.createElement("div",{className:"buttons-group"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{className:this.state.editing?"btn btn-secondary":"btn btn-primary",onClick:this.onSaveHandler},this.state.editing?"Update":"Save"),r.a.createElement("button",{className:"btn btn-success",onClick:this.onBrowseHandler},"Browse"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.onClearHandler},"Clear"))),this.state.isSearch&&r.a.createElement(ve,{getRow:this.getRow,isPopup:this.state.isPopup,validateSearch:this.validateSearch})))}}]),t}(a.Component),ye=Object(c.b)(function(e){return{store:e}},function(e){return{clientSave:function(t){return e(h.clientSave(t))},updateClient:function(t){return e(h.updateClient(t))},getClient:function(){return e(h.getClient())}}})(ge),Ce=n(18),be=n(41),Ne=n.n(be),Te=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).renderSearchBlock=function(){var t=e.props,n=t.getPurchaseFields,a=t.store,o=t.onDelete,i=e.state.search.toLowerCase(),c=a.purchases.filter(function(e){return-1!==e.invoice.toLowerCase().indexOf(i)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},c.length?c.map(function(e,t){return r.a.createElement("ul",{className:"list-group",key:t},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Edit",onClick:function(){return n(e._id)}},r.a.createElement(H.d,null,"edit_icon")),r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",onClick:function(){return o(e._id)}},r.a.createElement(le.a,null))),r.a.createElement("li",{className:"list-group-item"},"Date: ",e.date.slice(0,10)),r.a.createElement("li",{className:"list-group-item"},"Invoice: ",e.invoice),r.a.createElement("li",{className:"list-group-item"},"Vendor: ",e.vendorId.vendorName))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.state={search:""},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.getPur,a=e.validateSearch,o=this.state.search;return r.a.createElement("div",{className:"simple-flex"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.l,{autoFocus:!0,type:"text",margin:"dense",variant:"standard",label:"Type Invoice #",name:"search",value:o,onChange:this.handleChange,onKeyDown:a})),r.a.createElement("div",null,t&&n&&this.renderSearchBlock())))}}]),t}(a.Component),Pe=Object(c.b)(function(e){return{store:e}},null)(Te),Oe=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).renderSearchBlockVendor=function(){var e=n.props,t=e.vendorName,a=e.store,o=e.getVendorFields,i=t.toLowerCase(),c=a.vendors.filter(function(e){return-1!==e.vendorName.toLowerCase().indexOf(i)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},c.length?c.map(function(e,t){return r.a.createElement("ul",{className:"list-group",key:t},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return o(e._id,e.vendorName)}},e.vendorName)),r.a.createElement("li",{className:"list-group-item"},"Address: ",e.address),r.a.createElement("li",{className:"list-group-item"},"Telephone: ",e.telephone),r.a.createElement("li",{className:"list-group-item"},"Email: ",e.email),r.a.createElement("li",{className:"list-group-item"},"NTN: ",e.ntn))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},n}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.vendorName,n=e.validateVendor,a=e.vendorList,o=e.handleChange;return r.a.createElement("div",null,r.a.createElement(H.l,{type:"text",margin:"dense",variant:"standard",label:"Vendor",name:"vendorName",value:t,onChange:o,onKeyDown:n}),a&&this.renderSearchBlockVendor())}}]),t}(a.Component),Le=Object(c.b)(function(e){return{store:e}},null)(Oe),Re=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).renderSearchBlockProduct=function(){var e=n.props,t=e.productName,a=e.getProductFields,o=e.store,i=t.toLowerCase(),c=o.products.filter(function(e){return-1!==e.productName.toLowerCase().indexOf(i)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},c.length?c.map(function(e,t){return r.a.createElement("ul",{className:"list-group",key:t},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return a(e._id,e.productName)}},e.productName)),r.a.createElement("li",{className:"list-group-item"},"Manufacturer: ",e.manufacturer),r.a.createElement("li",{className:"list-group-item"},"Description: ",e.description))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},n}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.productName,n=e.ind,a=e.inputProducts,o=e.handleChangeTab,i=e.validateProduct,c=e.vendorList;return r.a.createElement("div",null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"productName",value:t,onChange:function(e){return o(e,n)},onKeyDown:function(e){return i(e,n)}}),!c&&a[n].productList&&this.renderSearchBlockProduct())}}]),t}(a.Component),Ae=Object(c.b)(function(e){return{store:e}},null)(Re),Ue=Object(_.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,textAlign:"center",padding:5},body:{fontSize:13,padding:5},footer:{fontSize:16,padding:5}}})(H.h),Ie=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).getRefNo=function(){var t=new Date,n="2019-";return n+=t.getMonth()<9?"0"+(t.getMonth()+1)+"-":t.getMonth()+"-",n+=t.getDate()<10?"0"+(t.getDate()+1):t.getDate(),e.props.store.purchases.length?e.setState({invoice:e.props.store.purchases.length+1,date:n}):e.setState({invoice:1,date:n})},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.handleChangeTab=function(t,n){var a=t.target,r=a.name,o=a.value,i=Object(Ce.a)(e.state.inputProducts);"quantity"===r||"costPrice"===r?(i[n][r]=o,e.calcValue(n)):i[n][r]=o,e.setState({inputProducts:i})},e.calcValue=function(t){var n=Object(Ce.a)(e.state.inputProducts);n[t].value=n[t].quantity*n[t].costPrice,e.setState({inputProducts:n})},e.onSaveHandler=function(){var t=e.state,n=t._id,a=t.date,r=t.invoice,o=t.vendorId,i=t.inputProducts;return t.editing?e.props.updatePurchase({_id:n,date:a,invoice:r,vendorId:o,products:i}):e.props.purchaseSave({date:a,invoice:r,vendorId:o,products:i})},e.onBrowseHandler=function(){e.setState(function(e){return{options:!e.options}})},e.onClearHandler=function(){e.setState({_id:"",date:"",invoice:"",vendorId:"",vendorName:"",inputProducts:[{productId:"",productName:"",quantity:"0",costPrice:"0",value:"0",sellingPrice:""}],options:!1,editing:!1})},e.onAddRow=function(){var t=Object(Ce.a)(e.state.inputProducts),n=[];return t.forEach(function(e){n.push(Object.values(e).every(function(e){return!1===e||Boolean(e)}))}),n.every(function(e){return Boolean(e)})?(t.push({productId:"",productName:"",quantity:"0",costPrice:"0",value:"0",sellingPrice:"0",productList:!1}),e.setState({inputProducts:t})):e.props.onSnackHandler(!0,"Please fill previous row first")},e.checkStock=function(){var t=e.props.store,n=t.purchases,a=t.sales,r=t.products,o={};return r.forEach(function(e){return o[e._id]=0}),n.forEach(function(e){return e.products.forEach(function(e){return o[e.productId._id]+=e.quantity})}),a.forEach(function(e){return e.products.forEach(function(e){return o[e.productId._id]-=e.quantity})}),o},e.checkQty=function(t){var n=Object(Ce.a)(e.state.inputProducts),a=e.props.store.products;if(e.state.editing){var r=e.checkStock();if(n[t].oldProductId){if(n[t].oldProductId===n[t].productId){var o=+r[n[t].oldProductId]-+n[t].oldQuantity+ +n[t].quantity;if(o<0){var i=a.find(function(e){return e._id===n[t].oldProductId}).productName;n[t].err="".concat(i," will be negative by ").concat(o)}else n[t].err=!1;e.setState({inputProducts:n})}}else{var c=+r[n[t].oldProductId]-+n[t].oldQuantity;if(c<0){var l=a.find(function(e){return e._id===n[t].oldProductId}).productName;n[t].err="".concat(l," will be negative by ").concat(c)}else n[t].err=!1;e.setState({inputProducts:n})}}},e.onRemoveRow=function(t){var n=Object(Ce.a)(e.state.inputProducts),a=e.props.store.products;if(e.state.editing){var r=e.checkStock();if(n[t].oldProductId){var o=+r[n[t].oldProductId]-+n[t].oldQuantity;if(o<0){var i=a.find(function(e){return e._id===n[t].oldProductId}).productName;n[t].err="".concat(i," will be negative by ").concat(o),e.setState({inputProducts:n})}else e.onDeleteRow(t)}else e.onDeleteRow(t)}else e.onDeleteRow(t)},e.onDeleteRow=function(t){var n=Object(Ce.a)(e.state.inputProducts);n.length>1?(n[t].productList=!1,n.splice(t,1),e.setState({inputProducts:n})):e.setState({inputProducts:[{productId:"",productName:"",quantity:"0",costPrice:"0",value:"0",sellingPrice:"0",productList:!1}]})},e.validateSearch=function(t){return 13===t.keyCode?e.setState({getPur:!0}):27===t.keyCode?e.setState({getPur:!1}):void 0},e.getPurchaseFields=function(t){var n=e.props.store.purchases.find(function(e){return e._id===t}),a=n._id,r=n.date,o=n.invoice,i=n.vendorId,c=n.products;e.setState({_id:a,date:r.slice(0,10),invoice:o,vendorId:i._id,vendorName:i.vendorName,inputProducts:c.map(function(e){return{_id:e._id,productId:e.productId._id,oldProductId:e.productId._id,productName:e.productId.productName,quantity:e.quantity,oldQuantity:e.quantity,costPrice:e.costPrice,value:e.value,sellingPrice:e.sellingPrice}}),editing:!0,getPur:!1,options:!1})},e.validateVendor=function(t){return 13===t.keyCode?e.setState({vendorList:!0}):27===t.keyCode?e.setState({vendorList:!1}):void 0},e.getVendorFields=function(t,n){e.setState({vendorId:t,vendorName:n,vendorList:!1})},e.validateProduct=function(t,n){var a=Object(Ce.a)(e.state.inputProducts);13===t.keyCode&&(a[n].productList=!0),27===t.keyCode&&(a[n].productList=!1),e.setState({ind:n,inputProducts:a})},e.getProductFields=function(t,n){var a=Object(Ce.a)(e.state.inputProducts),r=e.state.ind;a.forEach(function(t,a){if(a!==r&&t.productName===n)return e.props.onSnackHandler(!0,"can't enter same product")}),a[r].productId=t,a[r].productName=n,a[r].productList=!1,e.setState({inputProducts:a})},e.state={_id:"",date:"",invoice:"",vendorId:"",vendorName:"",inputProducts:[{productId:"",productName:"",quantity:"0",costPrice:"0",value:"0",sellingPrice:"0",productList:!1}],editing:!1,vendorList:!1,search:"",options:!1,getPur:!1},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;ie.bind("sales",function(){e.props.getSale()}),ie.bind("purchases",function(){e.props.getPurchase()}),ie.bind("products",function(){e.props.getProduct()}),ie.bind("vendors",function(){e.props.getVendor()}),this.getRefNo(),this.interval=setInterval(function(){return e.getRefNo()},3e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.invoice,o=t.vendorName,i=t.inputProducts,c=t.editing,l=this.props.classes;return r.a.createElement("div",null,r.a.createElement(H.e,{elevation:24,className:"pb-form"},r.a.createElement(H.m,{children:"Purchase Form",align:"center",color:"secondary",gutterBottom:!0,variant:"h5"}),r.a.createElement(H.l,{autoFocus:!0,type:"date",margin:"dense",InputLabelProps:{shrink:!0},label:"Date",variant:"standard",name:"date",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(H.l,{disabled:!0,type:"text",margin:"dense",label:"Invoice",variant:"standard",name:"invoice",value:a,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(Le,{vendorName:o,handleChange:this.handleChange,validateVendor:this.validateVendor,vendorList:this.state.vendorList,getVendorFields:this.getVendorFields}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(H.f,{className:l.table},r.a.createElement(H.j,null,r.a.createElement(H.k,null,r.a.createElement(Ue,null,"Product"),r.a.createElement(Ue,null,"Quantity"),r.a.createElement(Ue,null,"Cost"),r.a.createElement(Ue,null,"Value"),r.a.createElement(Ue,null,"Selling"),r.a.createElement(Ue,{style:{padding:3}},"x"))),r.a.createElement(H.g,null,i.map(function(t,n){return r.a.createElement(H.k,{className:l.row,key:n},r.a.createElement(Ue,null,r.a.createElement(Ae,{getProductFields:e.getProductFields,productName:t.productName,ind:n,inputProducts:i,handleChangeTab:e.handleChangeTab,validateProduct:e.validateProduct,vendorList:e.state.vendorList})),r.a.createElement(Ue,null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"quantity",value:t.quantity,onBlur:function(){return e.checkQty(n)},onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ue,null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"costPrice",value:t.costPrice,onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ue,null,r.a.createElement(H.l,{disabled:!0,type:"text",variant:"standard",name:"value",error:Boolean(t.err),helperText:t.err&&t.err,value:parseInt(t.value).toLocaleString(),onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ue,null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"sellingPrice",value:t.sellingPrice,onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ue,{style:{padding:3}},r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",className:l.fab,onClick:function(){return e.onRemoveRow(n)}},r.a.createElement(le.a,null))))})),r.a.createElement(H.i,null,r.a.createElement(H.k,{className:l.row},r.a.createElement(Ue,null,"Total"),r.a.createElement(Ue,null,i.reduce(function(e,t){return parseInt(e)+parseInt(t.quantity)},0).toLocaleString()),r.a.createElement(Ue,null),r.a.createElement(Ue,null,i.reduce(function(e,t){return parseInt(e)+parseInt(t.value)},0).toLocaleString()),r.a.createElement(Ue,null)))))),r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Add",onClick:this.onAddRow},r.a.createElement(Ne.a,null)),r.a.createElement("div",{className:"buttons-group"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{className:c?"btn btn-secondary":"btn btn-primary",onClick:this.onSaveHandler},c?"Update":"Save"),r.a.createElement("button",{className:"btn btn-success",onClick:this.onBrowseHandler},"Browse"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.onClearHandler},"Clear"))),this.state.options&&r.a.createElement(Pe,{options:this.state.options,getPur:this.state.getPur,validateSearch:this.validateSearch,getPurchaseFields:this.getPurchaseFields,onDelete:this.props.deletePurchase})))}}]),t}(a.Component),De=Object(c.b)(function(e){return{store:e}},function(e){return{onSnackHandler:function(t,n){return e(h.onSnackHandler({snack:t,message:n}))},getVendor:function(){return e(h.getVendor())},getProduct:function(){return e(h.getProduct())},purchaseSave:function(t){return e(h.purchaseSave(t))},getPurchase:function(){return e(h.getPurchase())},updatePurchase:function(t){return e(h.updatePurchase(t))},deletePurchase:function(t){return e(h.deletePurchase(t))},getSale:function(){return e(h.getSale())}}})(Object(_.withStyles)(function(e){return{root:{width:"100%",padding:5,marginTop:e.spacing.unit,overflowX:"auto"},table:{minWidth:"fit-content"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},fab:{margin:e.spacing.unit},formControl:{minWidth:200}}})(Ie)),we=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).renderSearchBlock=function(){var t=e.props,n=t.getSaleFields,a=t.onDelete,o=t.store,i=e.state.search.toLowerCase(),c=o.sales.filter(function(e){return-1!==e.invoice.toLowerCase().indexOf(i)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},c.length?c.map(function(e,t){return r.a.createElement("ul",{className:"list-group",key:t},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Edit",onClick:function(){return n(e._id)}},r.a.createElement(H.d,null,"edit_icon")),r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",onClick:function(){return a(e._id)}},r.a.createElement(le.a,null))),r.a.createElement("li",{className:"list-group-item"},"Date: ",e.date.slice(0,10)),r.a.createElement("li",{className:"list-group-item"},"Invoice: ",e.invoice),r.a.createElement("li",{className:"list-group-item"},"Client: ",e.clientId.clientName))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.state={search:""},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.getSal,a=e.validateSearch,o=this.state.search;return r.a.createElement("div",{className:"simple-flex"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.l,{autoFocus:!0,type:"text",margin:"dense",variant:"standard",label:"Type Invoice #",name:"search",value:o,onChange:this.handleChange,onKeyDown:a})),r.a.createElement("div",null,t&&n&&this.renderSearchBlock())))}}]),t}(a.Component),je=Object(c.b)(function(e){return{store:e}},null)(we),ke=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).renderSearchBlockClient=function(){var e=n.props,t=e.clientName,a=e.store,o=e.getClientFields,i=t.toLowerCase(),c=a.clients.filter(function(e){return-1!==e.clientName.toLowerCase().indexOf(i)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},c.length?c.map(function(e,t){return r.a.createElement("ul",{className:"list-group",key:t},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return o(e._id,e.clientName)}},e.clientName)),r.a.createElement("li",{className:"list-group-item"},"Address: ",e.address),r.a.createElement("li",{className:"list-group-item"},"Telephone: ",e.telephone),r.a.createElement("li",{className:"list-group-item"},"Email: ",e.email),r.a.createElement("li",{className:"list-group-item"},"NTN: ",e.ntn))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},n}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.clientName,n=e.validateClient,a=e.clientList,o=e.handleChange;return r.a.createElement("div",null,r.a.createElement(H.l,{type:"text",margin:"dense",variant:"standard",label:"Client",name:"clientName",value:t,onChange:o,onKeyDown:n}),a&&this.renderSearchBlockClient())}}]),t}(a.Component),Fe=Object(c.b)(function(e){return{store:e}},null)(ke),Ve=Object(_.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,textAlign:"center",padding:5},body:{fontSize:13,padding:5},footer:{fontSize:16,padding:5}}})(H.h),Me=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).getRefNo=function(){var t=new Date,n="2019-";return n+=t.getMonth()<9?"0"+(t.getMonth()+1)+"-":t.getMonth()+"-",n+=t.getDate()<10?"0"+(t.getDate()+1):t.getDate(),e.props.store.sales.length?e.setState({invoice:e.props.store.sales.length+1,date:n}):e.setState({invoice:1,date:n})},e.onClearHandler=function(){e.setState({_id:"",date:"",invoice:"",clientId:"",clientName:"",inputProducts:[{productId:"",productName:"",quantity:"0",sellingPrice:"0",value:"0",productList:!1,err:!1}],editing:!1,clientList:!1,search:"",options:!1,getSal:!1})},e.onAddRow=function(){var t=Object(Ce.a)(e.state.inputProducts),n=[];return t.forEach(function(e){return n.push(Object.values(e).every(function(e){return!1===e||Boolean(e)}))}),n.every(function(e){return Boolean(e)})?(t.push({productId:"",productName:"",quantity:"0",sellingPrice:"0",value:"0",productList:!1}),e.setState({inputProducts:t})):e.props.onSnackHandler(!0,"Please fill previous row(s) first")},e.onRemoveRow=function(t){var n=Object(Ce.a)(e.state.inputProducts);return n.length>1?(n[t].productList=!1,n.splice(t,1),e.setState({inputProducts:n})):e.setState({inputProducts:[{productId:"",productName:"",quantity:"0",sellingPrice:"0",value:"0",productList:!1}]})},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.handleChangeTab=function(t,n){var a=t.target,r=a.name,o=a.value,i=Object(Ce.a)(e.state.inputProducts);"quantity"===r||"sellingPrice"===r?(i[n][r]=o,e.calcValue(n)):i[n][r]=o,e.setState({inputProducts:i})},e.calcValue=function(t){var n=Object(Ce.a)(e.state.inputProducts);n[t].value=n[t].quantity*n[t].sellingPrice,e.setState({inputProducts:n})},e.onSaveHandler=function(){var t=e.state,n=t._id,a=t.date,r=t.invoice,o=t.clientId,i=t.inputProducts;return t.editing?e.props.updateSale({_id:n,date:a,invoice:r,clientId:o,products:i}):e.props.saleSave({date:a,invoice:r,clientId:o,products:i})},e.onBrowseHandler=function(){e.setState(function(e){return{options:!e.options}})},e.validateSearch=function(t){return 13===t.keyCode?e.setState({getSal:!0}):27===t.keyCode?e.setState({getSal:!1}):void 0},e.getSaleFields=function(t){var n=e.props.store.sales.find(function(e){return e._id===t}),a=n._id,r=n.date,o=n.invoice,i=n.clientId,c=n.products;e.setState({_id:a,date:r.slice(0,10),invoice:o,clientId:i._id,clientName:i.clientName,inputProducts:c.map(function(e){return{productId:e.productId._id,productName:e.productId.productName,quantity:e.quantity,sellingPrice:e.sellingPrice,value:e.value,oldProductId:e.productId._id,oldQuantity:e.quantity}}),editing:!0,options:!1,getSal:!1})},e.validateClient=function(t){return 13===t.keyCode?e.setState({clientList:!0}):27===t.keyCode?e.setState({clientList:!1}):void 0},e.getClientFields=function(t,n){e.setState({clientId:t,clientName:n,clientList:!1})},e.validateProduct=function(t,n){var a=Object(Ce.a)(e.state.inputProducts);13===t.keyCode&&(a[n].productList=!0),27===t.keyCode&&(a[n].productList=!1),e.setState({ind:n,inputProducts:a})},e.getProductFields=function(t,n){var a=Object(Ce.a)(e.state.inputProducts),r=e.state.ind;a.forEach(function(t,a){if(a!==r&&t.productName===n)return e.props.onSnackHandler(!0,"can't enter same product (".concat(n,") again"))}),a[r].productId=t,a[r].productName=n,a[r].productList=!1,e.setState({inputProducts:a})},e.checkStock=function(){var t=e.props.store,n=t.purchases,a=t.sales,r=t.products,o={};return r.forEach(function(e){return o[e._id]=0}),n.forEach(function(e){return e.products.forEach(function(e){return o[e.productId._id]+=e.quantity})}),a.forEach(function(e){return e.products.forEach(function(e){return o[e.productId._id]-=e.quantity})}),o},e.checkQty=function(t){var n=Object(Ce.a)(e.state.inputProducts),a=e.props.store.products,r=e.checkStock();if(e.state.editing){if(n[t].oldProductId&&n[t].oldProductId===n[t].productId){var o=+r[n[t].oldProductId]+ +n[t].oldQuantity-+n[t].quantity;if(o<0){var i=a.find(function(e){return e._id===n[t].oldProductId}).productName;n[t].err="".concat(i," will be negative by ").concat(o)}else n[t].err=!1;e.setState({inputProducts:n})}}else{var c=r[n[t].productId]-+n[t].quantity,l=e.props.store.purchases;if(c<0){n[t].err="".concat(n[t].productName," will be negative by ").concat(c);var s={match:!1};l.forEach(function(e){e.products.forEach(function(e){e.productId._id===n[t].productId&&(s.match=!0,s.sellingPrice=e.sellingPrice)})}),s.match?n[t].sellingPrice=s.sellingPrice:n[t].sellingPrice=0}else n[t].err=!1,l.forEach(function(e){e.products.forEach(function(e){e.productId._id===n[t].productId&&(n[t].sellingPrice=e.sellingPrice)})});e.setState({inputProducts:n})}},e.state={_id:"",date:"",invoice:"",clientId:"",clientName:"",inputProducts:[{productId:"",productName:"",quantity:"0",sellingPrice:"0",value:"0",productList:!1,err:!1}],editing:!1,clientList:!1,search:"",options:!1,getSal:!1},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;ie.bind("sales",function(){e.props.getSale()}),ie.bind("purchases",function(){e.props.getPurchase()}),ie.bind("products",function(){e.props.getProduct()}),ie.bind("clients",function(){e.props.getClient()}),this.getRefNo()}},{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.invoice,o=t.clientName,i=t.inputProducts,c=t.editing,l=this.props.classes;return r.a.createElement("div",null,r.a.createElement(H.e,{elevation:24,className:"pb-form"},r.a.createElement(H.m,{children:"Sale Form",align:"center",color:"secondary",gutterBottom:!0,variant:"h5"}),r.a.createElement(H.l,{autoFocus:!0,type:"date",margin:"dense",InputLabelProps:{shrink:!0},label:"Date",variant:"standard",name:"date",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(H.l,{disabled:!0,type:"text",margin:"dense",label:"Invoice",variant:"standard",name:"invoice",value:a,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(Fe,{clientName:o,handleChange:this.handleChange,validateClient:this.validateClient,clientList:this.state.clientList,getClientFields:this.getClientFields}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(H.f,{className:l.table},r.a.createElement(H.j,null,r.a.createElement(H.k,null,r.a.createElement(Ve,null,"Product"),r.a.createElement(Ve,null,"Quantity"),r.a.createElement(Ve,null,"Selling"),r.a.createElement(Ve,null,"Value"),r.a.createElement(Ve,{style:{padding:3}},"x"))),r.a.createElement(H.g,null,i.map(function(t,n){return r.a.createElement(H.k,{className:l.row,key:n},r.a.createElement(Ve,null,r.a.createElement(Ae,{getProductFields:e.getProductFields,productName:t.productName,ind:n,inputProducts:i,handleChangeTab:e.handleChangeTab,validateProduct:e.validateProduct,clientList:e.state.clientList})),r.a.createElement(Ve,null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"quantity",value:t.quantity,onBlur:function(){return e.checkQty(n)},onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ve,null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"sellingPrice",value:t.sellingPrice,onFocus:function(){return e.calcValue(n)},onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ve,null,r.a.createElement(H.l,{disabled:!0,type:"text",variant:"standard",name:"value",error:Boolean(t.err),helperText:t.err&&t.err,value:parseInt(t.value).toLocaleString(),onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ve,{style:{padding:3}},r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",className:l.fab,onClick:function(){return e.onRemoveRow(n)}},r.a.createElement(le.a,null))))})),r.a.createElement(H.i,null,r.a.createElement(H.k,{className:l.row},r.a.createElement(Ve,null,"Total"),r.a.createElement(Ve,null,i.reduce(function(e,t){return parseInt(e)+parseInt(t.quantity)},0).toLocaleString()),r.a.createElement(Ve,null),r.a.createElement(Ve,null,i.reduce(function(e,t){return parseInt(e)+parseInt(t.value)},0).toLocaleString()),r.a.createElement(Ve,null)))))),r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Add",onClick:this.onAddRow},r.a.createElement(Ne.a,null)),r.a.createElement("div",{className:"buttons-group"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{className:c?"btn btn-secondary":"btn btn-primary",onClick:this.onSaveHandler},c?"Update":"Save"),r.a.createElement("button",{className:"btn btn-success",onClick:this.onBrowseHandler},"Browse"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.onClearHandler},"Clear"))),this.state.options&&r.a.createElement(je,{options:this.state.options,getSal:this.state.getSal,validateSearch:this.validateSearch,getSaleFields:this.getSaleFields,onDelete:this.props.deleteSale})))}}]),t}(a.Component),He=Object(c.b)(function(e){return{store:e}},function(e){return{onSnackHandler:function(t,n){return e(h.onSnackHandler({snack:t,message:n}))},getClient:function(){return e(h.getClient())},getProduct:function(){return e(h.getProduct())},saleSave:function(t){return e(h.saleSave(t))},updateSale:function(t){return e(h.updateSale(t))},getSale:function(){return e(h.getSale())},deleteSale:function(t){return e(h.deleteSale(t))},getPurchase:function(){return e(h.getPurchase())}}})(Object(_.withStyles)(function(e){return{root:{width:"100%",padding:5,marginTop:e.spacing.unit,overflowX:"auto"},table:{minWidth:"fit-content"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},fab:{margin:e.spacing.unit},formControl:{minWidth:200}}})(Me)),xe=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).renderSearchBlock=function(){var t=e.props,n=t.getPaymentFields,a=t.onDelete,o=t.store,i=e.state.search.toLowerCase(),c=o.payments.filter(function(e){return-1!==e.refNo.toLowerCase().indexOf(i)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},c.length?c.map(function(e,t){return r.a.createElement("ul",{className:"list-group",key:t},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Edit",onClick:function(){return n(e._id)}},r.a.createElement(H.d,null,"edit_icon")),r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",onClick:function(){return a(e._id)}},r.a.createElement(le.a,null))),r.a.createElement("li",{className:"list-group-item"},"Date: ",e.date.slice(0,10)),r.a.createElement("li",{className:"list-group-item"},"Reference: ",e.refNo),r.a.createElement("li",{className:"list-group-item"},"Vendor: ",e.vendorId.vendorName))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.state={search:""},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.getEntry,a=e.validateSearch,o=this.state.search;return r.a.createElement("div",{className:"simple-flex"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.l,{autoFocus:!0,type:"text",margin:"dense",variant:"standard",label:"Type reference #",name:"search",value:o,onChange:this.handleChange,onKeyDown:a})),r.a.createElement("div",null,t&&n&&this.renderSearchBlock())))}}]),t}(a.Component),Ge=Object(c.b)(function(e){return{store:e}},null)(xe),Be=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).renderSearchBlockProduct=function(){var e=n.props,t=e.invoice,a=e.vendorId,o=e.getInvoiceField,i=e.editing,c=e.store,l=t.toLowerCase(),s=c.purchases.filter(function(e){return e.vendorId._id===a}).filter(function(e){return-1!==e.invoice.toLowerCase().indexOf(l)}),u=c.payments.filter(function(e){return e.vendorId._id===a}),d=[],p={bill:0,pay:0,refId:""};return u.forEach(function(e){e.details.forEach(function(e){-1!==e.invoice.toLowerCase().indexOf(l)&&(p.pay+=+e.pay)})}),i?d=s:s.forEach(function(e){-1!==e.invoice.toLowerCase().indexOf(l)&&(p.bill=e.products.reduce(function(e,t){return e+t.value},0),p.bill>p.pay&&d.push(e))}),r.a.createElement(H.e,{elevation:24,className:"popout-block"},d.length?d.map(function(e,t){return r.a.createElement("ul",{className:"list-group",key:t},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return o(e)}},e.invoice)),r.a.createElement("li",{className:"list-group-item"},"Date: ",e.date.slice(0,10)),r.a.createElement("li",{className:"list-group-item"},"Amount: ",e.products.reduce(function(e,t){return e+ +t.value},0).toLocaleString(),"/-"))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},n}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.invoice,n=e.ind,a=e.detail,o=e.handleChangeTab,i=e.validateInvoice,c=e.vendorList;return r.a.createElement("div",null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"invoice",value:t,onChange:function(e){return o(e,n)},onKeyDown:function(e){return i(e,n)}}),!c&&a.detailList&&this.renderSearchBlockProduct())}}]),t}(a.Component),_e=Object(c.b)(function(e){return{store:e}},null)(Be),Ye=Object(_.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,textAlign:"center",padding:5},body:{fontSize:13,padding:5},footer:{fontSize:16,padding:5}}})(H.h),qe=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).componentDidMount=function(){e.getRefNo(),ie.bind("payments",function(){e.props.getPayment()}),ie.bind("purchases",function(){e.props.getPurchase()}),ie.bind("vendors",function(){e.props.getVendor()})},e.getRefNo=function(){var t=new Date,n="2019-";n+=t.getMonth()<9?"0"+(t.getMonth()+1)+"-":t.getMonth()+"-",n+=t.getDate()<10?"0"+(t.getDate()+1):t.getDate();var a=e.props.store.payments;if(a.length){var r=[];for(var o in a)r.push(a[o].refNo);var i=Math.max.apply(Math,r)+1;return e.setState({refNo:i,date:n})}return e.setState({refNo:1,date:n})},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.handleChangeTab=function(t,n){var a=t.target,r=a.name,o=a.value,i=Object(Ce.a)(e.state.details);i[n][r]=o,e.setState({details:i})},e.onSaveHandler=function(){var t=e.state,n=t._id,a=t.date,r=t.refNo,o=t.vendorId,i=t.details;t.editing?e.props.updatePayment({_id:n,date:a,refNo:r,vendorId:o,details:i}):e.props.paymentSave({date:a,refNo:r,vendorId:o,details:i}),e.getRefNo()},e.onBrowseHandler=function(){e.setState(function(e){return{options:!e.options}})},e.onClearHandler=function(){e.setState({editing:!1,_id:"",date:"",refNo:"",vendorId:"",vendorName:"",vendorList:!1,details:[{invoice:"",balance:"0",pay:"0",description:"",detailList:!1}],search:"",options:!1,getEntry:!1}),e.getRefNo()},e.onAddRow=function(){var t=Object(Ce.a)(e.state.details),n=[];return t.forEach(function(e){n.push(Object.values(e).every(function(e){return!1===e||Boolean(e)}))}),n.every(function(e){return Boolean(e)})?(t.push({invoice:"",balance:"0",pay:"0",description:"",detailList:!1}),e.setState({details:t})):e.props.onSnackHandler(!0,"Please fill previous row first")},e.onRemoveRow=function(t){var n=Object(Ce.a)(e.state.details);if(n.length>1){for(var a=0;a<n.length;a++)n[a].detailList=!1;n.splice(t,1),e.setState({details:n})}else e.setState({details:[{invoice:"",balance:"0",pay:"0",description:"",detailList:!1}]})},e.validateSearch=function(t){return 13===t.keyCode?e.setState({getEntry:!0}):27===t.keyCode?e.setState({getEntry:!1}):void 0},e.validateVendor=function(t){return 13===t.keyCode?e.setState({vendorList:!0}):27===t.keyCode?e.setState({vendorList:!1}):void 0},e.getVendorFields=function(t,n){e.setState({vendorId:t,vendorName:n,vendorList:!1,details:[{invoice:"",balance:"0",pay:"0",description:"",detailList:!1}]})},e.validateInvoice=function(t,n){var a=Object(Ce.a)(e.state.details);13===t.keyCode&&(a[n].detailList=!0),27===t.keyCode&&(a[n].detailList=!1),e.setState({ind:n,details:a})},e.getInvoiceField=function(t){var n=Object(Ce.a)(e.state.details),a=e.state.ind,r={record:0};if(n[a].invoice=t.invoice,n.forEach(function(e){e.invoice===t.invoice&&r.record++}),r.record>1)return e.props.onSnackHandler(!0,"can't enter same product");n[a].purchaseId=t._id,n[a].detailList=!1,e.setState({details:n})},e.getBalance=function(t){var n=e.props.store.payments,a={invoiceValue:0,realized:[]};return a.invoiceValue=t.products.reduce(function(e,t){return e+ +t.value},0),n.forEach(function(e){e.details.forEach(function(e){e.invoice===t.invoice&&a.realized.push(e)})}),a.realized=a.realized.reduce(function(e,t){return e+ +t.pay},0),a},e.getPaymentFields=function(t){if(t){var n=e.props.store.payments.find(function(e){return e._id===t}),a=n._id,r=n.date,o=n.refNo,i=n.vendorId,c=n.details;e.setState({_id:a,date:r.slice(0,10),refNo:o,oldVendorId:i._id,vendorId:i._id,vendorName:i.vendorName,details:c.map(function(t){var n=t.purchaseId,a=t.invoice,r=t.pay,o=t.description,i=e.props.store.purchases.find(function(e){return e.invoice===a}),c=e.getBalance(i);return{purchaseId:n,invoice:a,balance:+c.invoiceValue-+c.realized+ +r,pay:r,description:o,detailList:!1}}),editing:!0,getEntry:!1,options:!1})}},e.validatePayment=function(t){var n=Object(Ce.a)(e.state.details);if(e.state.editing){var a=n[t].invoice,r=e.props.store.purchases.find(function(e){return e.invoice===a}),o=e.getBalance(r),i=e.props.store.payments.find(function(t){return t.refNo===e.state.refNo}).details.find(function(e){return e.invoice===r.invoice});i.purchaseId===n[t].purchaseId?(n[t].pay=i.pay,n[t].balance=+o.invoiceValue-+o.realized+ +i.pay):n[t].balance=+o.invoiceValue-+o.realized}else if(n[t].purchaseId){var c=n[t].invoice,l=e.props.store.purchases.find(function(e){return e.invoice===c}),s=e.getBalance(l);n[t].balance=+s.invoiceValue-+s.realized}e.setState({details:n})},e.balanceCheck=function(t){var n=Object(Ce.a)(e.state.details);n[t].pay>n[t].balance?n[t].balanceDesc="Balance will be negative by ".concat(n[t].balance-n[t].pay):n[t].balanceDesc=!1,e.setState({details:n})},e.state={editing:!1,_id:"",date:"",refNo:"",vendorId:"",vendorName:"",vendorList:!1,details:[{invoice:"",balance:"0",pay:"0",description:"",detailList:!1}],search:"",options:!1,getEntry:!1},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.refNo,o=t.vendorName,i=t.details,c=t.editing,l=this.props.classes;return r.a.createElement("div",null,r.a.createElement(H.e,{elevation:24,className:"pb-form"},r.a.createElement(H.m,{children:"Payment Form",align:"center",color:"secondary",gutterBottom:!0,variant:"h5"}),r.a.createElement(H.l,{autoFocus:!0,type:"date",margin:"dense",InputLabelProps:{shrink:!0},label:"Date",variant:"standard",name:"date",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(H.l,{disabled:!0,type:"text",margin:"dense",label:"Ref #",variant:"standard",name:"refNo",value:a,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(Le,{vendorName:o,handleChange:this.handleChange,validateVendor:this.validateVendor,vendorList:this.state.vendorList,getVendorFields:this.getVendorFields}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(H.f,{className:l.table},r.a.createElement(H.j,null,r.a.createElement(H.k,null,r.a.createElement(Ye,null,"Invoice"),r.a.createElement(Ye,null,"Balance"),r.a.createElement(Ye,null,"Amount"),r.a.createElement(Ye,null,"Description"),r.a.createElement(Ye,{style:{padding:3}},"x"))),r.a.createElement(H.g,null,i.map(function(t,n){return r.a.createElement(H.k,{className:l.row,key:n},r.a.createElement(Ye,null,r.a.createElement(_e,{invoice:t.invoice,vendorId:e.state.vendorId,ind:n,detail:t,vendorList:e.state.vendorList,handleChangeTab:function(t){return e.handleChangeTab(t,n)},validateInvoice:function(t){return e.validateInvoice(t,n)},getInvoiceField:e.getInvoiceField,editing:c})),r.a.createElement(Ye,null,r.a.createElement(H.l,{disabled:!0,error:Boolean(t.balanceDesc),helperText:t.balanceDesc&&t.balanceDesc,type:"text",variant:"standard",name:"balance",value:t.balance,onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ye,null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"pay",value:t.pay,onBlur:function(){return e.balanceCheck(n)},onFocus:function(){return e.validatePayment(n)},onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ye,null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"description",value:t.description,onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Ye,{style:{padding:3}},r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",className:l.fab,onClick:function(){return e.onRemoveRow(n)}},r.a.createElement(le.a,null))))})),r.a.createElement(H.i,null,r.a.createElement(H.k,{className:l.row},r.a.createElement(Ye,null,"Total"),r.a.createElement(Ye,null),r.a.createElement(Ye,null,i.reduce(function(e,t){return parseInt(e)+parseInt(t.pay)},0).toLocaleString()),r.a.createElement(Ye,null),r.a.createElement(Ye,null)))))),r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Add",onClick:this.onAddRow},r.a.createElement(Ne.a,null)),r.a.createElement("div",{className:"buttons-group"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{className:c?"btn btn-secondary":"btn btn-primary",onClick:this.onSaveHandler},c?"Update":"Save"),r.a.createElement("button",{className:"btn btn-success",onClick:this.onBrowseHandler},"Browse"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.onClearHandler},"Clear"))),this.state.options&&r.a.createElement(Ge,{options:this.state.options,getEntry:this.state.getEntry,validateSearch:this.validateSearch,getPaymentFields:this.getPaymentFields,onDelete:this.props.deletePayment})))}}]),t}(a.Component);qe.getDerivedStateFromProps=function(e,t){var n=e.store.payments;if(n.length&&!t.editing){var a=[];for(var r in n)a.push(n[r].refNo);var o=Math.max.apply(Math,a)+1;return o!==t.refNo?{refNo:o}:null}return null};var Xe=Object(c.b)(function(e){return{store:e}},function(e){return{onSnackHandler:function(t,n){return e(h.onSnackHandler({snack:t,message:n}))},getVendor:function(){return e(h.getVendor())},getPurchase:function(){return e(h.getPurchase())},paymentSave:function(t){return e(h.paymentSave(t))},getPayment:function(){return e(h.getPayment())},updatePayment:function(t){return e(h.updatePayment(t))},deletePayment:function(t){return e(h.deletePayment(t))}}})(Object(_.withStyles)(function(e){return{root:{width:"100%",padding:5,marginTop:e.spacing.unit,overflowX:"auto"},table:{minWidth:"fit-content"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},fab:{margin:e.spacing.unit},formControl:{minWidth:200},selectControl:{minWidth:100}}})(qe)),ze=function(e){function t(e){var n;return Object(D.a)(this,t),(n=Object(j.a)(this,Object(k.a)(t).call(this,e))).renderSearchBlock=function(){var e=n.state.search,t=n.props,a=t.getRecoveryFields,o=t.onDelete,i=t.store.recoveries.filter(function(t){return-1!==t.refNo.toLowerCase().indexOf(e)});return r.a.createElement(H.e,{elevation:24,className:"popout-block"},i.length?i.map(function(e,t){return r.a.createElement("ul",{className:"list-group",key:t},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Edit",onClick:function(){return a(e._id)}},r.a.createElement(H.d,null,"edit_icon")),r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",onClick:function(){return o(e._id)}},r.a.createElement(le.a,null))),r.a.createElement("li",{className:"list-group-item"},"Date: ",e.date.slice(0,10)),r.a.createElement("li",{className:"list-group-item"},"Reference: ",e.refNo),r.a.createElement("li",{className:"list-group-item"},"Client: ",e.clientId.clientName))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(x.a)({},a,r))},n.state={search:""},n}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.getEntry,a=e.validateSearch,o=this.state.search;return r.a.createElement("div",{className:"simple-flex"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.l,{autoFocus:!0,type:"text",margin:"dense",variant:"standard",label:"Type reference #",name:"search",value:o,onChange:this.handleChange,onKeyDown:a})),r.a.createElement("div",null,t&&n&&this.renderSearchBlock())))}}]),t}(a.Component),We=Object(c.b)(function(e){return{store:e}},null)(ze),Ke=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(o)))).renderSearchBlockProduct=function(){var e=n.props,t=e.invoice,a=e.clientId,o=e.getInvoiceField,i=e.editing,c=e.store,l=t.toLowerCase(),s=c.sales.filter(function(e){return e.clientId._id===a}).filter(function(e){return-1!==e.invoice.toLowerCase().indexOf(l)}),u=c.recoveries.filter(function(e){return e.clientId._id===a}),d=[],p={bill:0,pay:0,refId:""};return u.forEach(function(e){e.details.forEach(function(e){-1!==e.invoice.toLowerCase().indexOf(l)&&(p.pay+=+e.pay)})}),i?d=s:s.forEach(function(e){-1!==e.invoice.toLowerCase().indexOf(l)&&(p.bill=e.products.reduce(function(e,t){return e+t.value},0),p.bill>p.pay&&d.push(e))}),r.a.createElement(H.e,{elevation:24,className:"popout-block"},d.length?d.map(function(e,t){return r.a.createElement("ul",{className:"list-group",key:t},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return o(e)}},e.invoice)),r.a.createElement("li",{className:"list-group-item"},"Date: ",e.date.slice(0,10)),r.a.createElement("li",{className:"list-group-item"},"Amount: ",e.products.reduce(function(e,t){return e+ +t.value},0).toLocaleString(),"/-"))}):r.a.createElement("h4",{className:"simple-flex"},"Empty"))},n}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.invoice,n=e.ind,a=e.detail,o=e.handleChangeTab,i=e.validateInvoice,c=e.clientList;return r.a.createElement("div",null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"invoice",value:t,onChange:function(e){return o(e,n)},onKeyDown:function(e){return i(e,n)}}),!c&&a.detailList&&this.renderSearchBlockProduct())}}]),t}(a.Component),Qe=Object(c.b)(function(e){return{store:e}},null)(Ke),Je=Object(_.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,textAlign:"center",padding:5},body:{fontSize:13,padding:5},footer:{fontSize:16,padding:5}}})(H.h),$e=function(e){function t(){var e;return Object(D.a)(this,t),(e=Object(j.a)(this,Object(k.a)(t).call(this))).componentDidMount=function(){e.getRefNo(),ie.bind("recoveries",function(){e.props.getRecovery()}),ie.bind("sales",function(){e.props.getSale()}),ie.bind("clients",function(){e.props.getClient()})},e.getRefNo=function(){var t=new Date,n="2019-";n+=t.getMonth()<9?"0"+(t.getMonth()+1)+"-":t.getMonth()+"-",n+=t.getDate()<10?"0"+(t.getDate()+1):t.getDate();var a=e.props.store.recoveries;if(a){if(a.length){var r=[];for(var o in a)r.push(a[o].refNo);var i=Math.max.apply(Math,r)+1;return e.setState({refNo:i,date:n})}return e.setState({refNo:1,date:n})}return e.setState({refNo:1,date:n})},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(x.a)({},a,r))},e.handleChangeTab=function(t,n){var a=t.target,r=a.name,o=a.value,i=Object(Ce.a)(e.state.details);i[n][r]=o,e.setState({details:i})},e.onSaveHandler=function(){var t=e.state,n=t._id,a=t.date,r=t.refNo,o=t.clientId,i=t.details;t.editing?e.props.updateRecovery({_id:n,date:a,refNo:r,clientId:o,details:i}):e.props.recoverySave({date:a,refNo:r,clientId:o,details:i}),e.getRefNo()},e.onBrowseHandler=function(){e.setState(function(e){return{options:!e.options}})},e.onClearHandler=function(){e.setState({editing:!1,_id:"",date:"",refNo:"",clientId:"",clientName:"",clientList:!1,details:[{invoice:"",balance:"0",pay:"0",description:"",detailList:!1}],search:"",options:!1,getEntry:!1}),e.getRefNo()},e.onAddRow=function(){var t=Object(Ce.a)(e.state.details),n=[];return t.forEach(function(e){n.push(Object.values(e).every(function(e){return!1===e||Boolean(e)}))}),n.every(function(e){return Boolean(e)})?(t.push({invoice:"",balance:"0",pay:"0",description:"",detailList:!1}),e.setState({details:t})):e.props.onSnackHandler(!0,"Please fill previous row first")},e.onRemoveRow=function(t){var n=Object(Ce.a)(e.state.details);if(n.length>1){for(var a=0;a<n.length;a++)n[a].detailList=!1;n.splice(t,1),e.setState({details:n})}else e.setState({details:[{invoice:"",balance:"0",pay:"0",description:"",detailList:!1}]})},e.validateSearch=function(t){return 13===t.keyCode?e.setState({getEntry:!0}):27===t.keyCode?e.setState({getEntry:!1}):void 0},e.validateClient=function(t){return 13===t.keyCode?e.setState({clientList:!0}):27===t.keyCode?e.setState({clientList:!1}):void 0},e.getClientFields=function(t,n){e.setState({clientId:t,clientName:n,clientList:!1,details:[{invoice:"",balance:"0",pay:"0",description:"",detailList:!1}]})},e.validateInvoice=function(t,n){var a=Object(Ce.a)(e.state.details);13===t.keyCode&&(a[n].detailList=!0),27===t.keyCode&&(a[n].detailList=!1),e.setState({ind:n,details:a})},e.getInvoiceField=function(t){var n=Object(Ce.a)(e.state.details),a=e.state.ind,r={record:0};if(n[a].invoice=t.invoice,n.forEach(function(e){e.invoice===t.invoice&&r.record++}),r.record>1)return e.props.onSnackHandler(!0,"can't enter same product");n[a].saleId=t._id,n[a].detailList=!1,e.setState({details:n})},e.getBalance=function(t){var n=e.props.store.recoveries,a={invoiceValue:0,realized:[]};return a.invoiceValue=t.products.reduce(function(e,t){return e+ +t.value},0),n.forEach(function(e){e.details.forEach(function(e){e.invoice===t.invoice&&a.realized.push(e)})}),a.realized=a.realized.reduce(function(e,t){return e+ +t.pay},0),a},e.getRecoveryFields=function(t){if(t){var n=e.props.store.recoveries.find(function(e){return e._id===t}),a=n._id,r=n.date,o=n.refNo,i=n.clientId,c=n.details;e.setState({_id:a,date:r.slice(0,10),refNo:o,oldClient:i._id,clientId:i._id,clientName:i.clientName,details:c.map(function(t){var n=t.saleId,a=t.invoice,r=t.pay,o=t.description,i=e.props.store.sales.find(function(e){return e.invoice===a}),c=e.getBalance(i);return{saleId:n,invoice:a,balance:+c.invoiceValue-+c.realized+ +r,pay:r,description:o,detailList:!1}}),editing:!0,getEntry:!1,options:!1})}},e.validateSale=function(t){var n=Object(Ce.a)(e.state.details);if(e.state.editing){var a=n[t].invoice,r=e.props.store.sales.find(function(e){return e.invoice===a}),o=e.getBalance(r),i=e.props.store.recoveries.find(function(t){return t.refNo===e.state.refNo}).details.find(function(e){return e.invoice===r.invoice});i.saleId===n[t].saleId?(n[t].pay=i.pay,n[t].balance=+o.invoiceValue-+o.realized+ +i.pay):n[t].balance=+o.invoiceValue-+o.realized}else if(n[t].saleId){var c=n[t].invoice,l=e.props.store.sales.find(function(e){return e.invoice===c}),s=e.getBalance(l);n[t].balance=+s.invoiceValue-+s.realized}e.setState({details:n})},e.balanceCheck=function(t){var n=Object(Ce.a)(e.state.details);n[t].pay>n[t].balance?n[t].balanceDesc="Balance will be negative by ".concat(n[t].balance-n[t].pay):n[t].balanceDesc=!1,e.setState({details:n})},e.state={editing:!1,_id:"",date:"",refNo:"",clientId:"",clientName:"",clientList:!1,details:[{invoice:"",balance:"0",pay:"0",description:"",detailList:!1}],search:"",options:!1,getEntry:!1},e}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.refNo,o=t.clientName,i=t.details,c=t.editing,l=this.props.classes;return r.a.createElement("div",null,r.a.createElement(H.e,{elevation:24,className:"pb-form"},r.a.createElement(H.m,{children:"Recovery Form",align:"center",color:"secondary",gutterBottom:!0,variant:"h5"}),r.a.createElement(H.l,{autoFocus:!0,type:"date",margin:"dense",InputLabelProps:{shrink:!0},label:"Date",variant:"standard",name:"date",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(H.l,{disabled:!0,type:"text",margin:"dense",label:"Ref #",variant:"standard",name:"refNo",value:a,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(Fe,{clientName:o,handleChange:this.handleChange,validateClient:this.validateClient,clientList:this.state.clientList,getClientFields:this.getClientFields}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement(H.f,{className:l.table},r.a.createElement(H.j,null,r.a.createElement(H.k,null,r.a.createElement(Je,null,"Invoice"),r.a.createElement(Je,null,"Balance"),r.a.createElement(Je,null,"Amount"),r.a.createElement(Je,null,"Description"),r.a.createElement(Je,{style:{padding:3}},"x"))),r.a.createElement(H.g,null,i.map(function(t,n){return r.a.createElement(H.k,{className:l.row,key:n},r.a.createElement(Je,null,r.a.createElement(Qe,{invoice:t.invoice,clientId:e.state.clientId,ind:n,detail:t,clientList:e.state.clientList,handleChangeTab:function(t){return e.handleChangeTab(t,n)},validateInvoice:function(t){return e.validateInvoice(t,n)},getInvoiceField:e.getInvoiceField,editing:c})),r.a.createElement(Je,null,r.a.createElement(H.l,{disabled:!0,error:Boolean(t.balanceDesc),helperText:t.balanceDesc&&t.balanceDesc,type:"text",variant:"standard",name:"balance",value:t.balance,onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Je,null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"pay",value:t.pay,onBlur:function(){return e.balanceCheck(n)},onFocus:function(){return e.validateSale(n)},onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Je,null,r.a.createElement(H.l,{type:"text",variant:"standard",name:"description",value:t.description,onChange:function(t){return e.handleChangeTab(t,n)}})),r.a.createElement(Je,{style:{padding:3}},r.a.createElement(H.c,{size:"small",color:"secondary","aria-label":"Delete",className:l.fab,onClick:function(){return e.onRemoveRow(n)}},r.a.createElement(le.a,null))))})),r.a.createElement(H.i,null,r.a.createElement(H.k,{className:l.row},r.a.createElement(Je,null,"Total"),r.a.createElement(Je,null),r.a.createElement(Je,null,i.reduce(function(e,t){return parseInt(e)+parseInt(t.pay)},0).toLocaleString()),r.a.createElement(Je,null),r.a.createElement(Je,null)))))),r.a.createElement(H.c,{size:"small",color:"primary","aria-label":"Add",onClick:this.onAddRow},r.a.createElement(Ne.a,null)),r.a.createElement("div",{className:"buttons-group"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{className:c?"btn btn-secondary":"btn btn-primary",onClick:this.onSaveHandler},c?"Update":"Save"),r.a.createElement("button",{className:"btn btn-success",onClick:this.onBrowseHandler},"Browse"),r.a.createElement("button",{className:"btn btn-danger",onClick:this.onClearHandler},"Clear"))),this.state.options&&r.a.createElement(We,{options:this.state.options,getEntry:this.state.getEntry,validateSearch:this.validateSearch,getRecoveryFields:this.getRecoveryFields,onDelete:this.props.deleteRecovery})))}}]),t}(a.Component);$e.getDerivedStateFromProps=function(e,t){var n=e.store.recoveries;if(n){if(n.length&&!t.editing){var a=[];for(var r in n)a.push(n[r].refNo);var o=Math.max.apply(Math,a)+1;return o!==t.refNo?{refNo:o}:null}return null}return null};var Ze=Object(c.b)(function(e){return{store:e}},function(e){return{onSnackHandler:function(t,n){return e(h.onSnackHandler({snack:t,message:n}))},getClient:function(){return e(h.getClient())},getSale:function(){return e(h.getSale())},recoverySave:function(t){return e(h.recoverySave(t))},getRecovery:function(){return e(h.getRecovery())},updateRecovery:function(t){return e(h.updateRecovery(t))},deleteRecovery:function(t){return e(h.deleteRecovery(t))}}})(Object(_.withStyles)(function(e){return{root:{width:"100%",padding:5,marginTop:e.spacing.unit,overflowX:"auto"},table:{minWidth:"fit-content"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},fab:{margin:e.spacing.unit},formControl:{minWidth:200},selectControl:{minWidth:100}}})($e)),et=[{path:"/dashboard/product",exact:!0,main:function(e){return r.a.createElement(pe,e)}},{path:"/dashboard/vendor",exact:!0,main:function(e){return r.a.createElement(he,e)}},{path:"/dashboard/client",exact:!0,main:function(e){return r.a.createElement(ye,e)}},{path:"/dashboard/purchase",exact:!0,main:function(e){return r.a.createElement(De,e)}},{path:"/dashboard/sale",exact:!0,main:function(e){return r.a.createElement(He,e)}},{path:"/dashboard/payment",exact:!0,main:function(e){return r.a.createElement(Xe,e)}},{path:"/dashboard/recovery",exact:!0,main:function(e){return r.a.createElement(Ze,e)}}],tt=function(e){function t(){return Object(D.a)(this,t),Object(j.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.store.profile.email)return this.props.history.push("/");this.props.getClient(),this.props.getPayment(),this.props.getRecovery(),this.props.getProduct(),this.props.getPurchase(),this.props.getSale(),this.props.getVendor()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(re,null)),r.a.createElement("section",{className:"container"},et.map(function(e,t){return r.a.createElement(M.a,{key:t,path:e.path,exact:e.exact,component:e.main})})))}}]),t}(a.Component),nt=Object(c.b)(function(e){return{store:e}},function(e){return{getClient:function(){return e(h.getClient())},getPayment:function(){return e(h.getPayment())},getRecovery:function(){return e(h.getRecovery())},getProduct:function(){return e(h.getProduct())},getPurchase:function(){return e(h.getPurchase())},getSale:function(){return e(h.getSale())},getVendor:function(){return e(h.getVendor())}}})(tt),at=n(79),rt=n.n(at),ot=function(e){function t(){var e,n;Object(D.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(j.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={vertical:"bottom",horizontal:"left"},n}return Object(F.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.vertical,a=t.horizontal,o=this.props.store,i=o.isSnackOpen,c=o.snackMessage;return r.a.createElement("div",null,r.a.createElement(rt.a,{anchorOrigin:{vertical:n,horizontal:a},open:i,autoHideDuration:3e3,onClose:function(){return e.props.onSnackHandler(!1,"")},ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},c)}))}}]),t}(a.Component),it=Object(c.b)(function(e){return{store:e}},function(e){return{onSnackHandler:function(t,n){return e(h.onSnackHandler({snack:t,message:n}))}}})(ot),ct=(n(374),n(375),function(e){function t(){return Object(D.a)(this,t),Object(j.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.store.profile.email)return this.props.isLoggedIn()}},{key:"render",value:function(){return this.props.store.isLoading?r.a.createElement("div",{className:"loader-container"},r.a.createElement(H.b,{color:"secondary"})):r.a.createElement(V.a,null,r.a.createElement("div",null,r.a.createElement(M.a,{path:"/",exact:!0,component:B}),r.a.createElement(M.a,{path:"/signup",exact:!0,component:te}),r.a.createElement(M.a,{path:"/dashboard",component:nt}),r.a.createElement(it,null)))}}]),t}(a.Component)),lt=Object(c.b)(function(e){return{store:e}},function(e){return{isLoggedIn:function(){return e(h.isLoggedIn())}}})(ct);n(378),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(c.a,{store:I},r.a.createElement(lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,n){}},[[238,1,2]]]);
//# sourceMappingURL=main.321ddd1b.chunk.js.map